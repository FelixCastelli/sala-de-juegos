import{A as Ze,B as Sd,C as Md,D as xd,E as Rd,F as Nd,G as yr,a as k,b as oe,c as F,d as Wy,e as Ba,f as Ky,g as Qy,h as Yy,i as Zy,j as bd,k as Jy,l as Xy,m as ev,n as Td,o as tv,p as nv,q as mr,r as Ko,s as ln,t as $a,u as Qo,v as Ad,w as rv,x as iv,y as Yo,z as Ha}from"./chunk-THBPOAG3.js";function ov(t,e){return Object.is(t,e)}var Fe=null,qa=!1,za=1,dn=Symbol("SIGNAL");function ue(t){let e=Fe;return Fe=t,e}function sv(){return Fe}var Jo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Od(t){if(qa)throw new Error("");if(Fe===null)return;Fe.consumerOnSignalRead(t);let e=Fe.nextProducerIndex++;if(Qa(Fe),e<Fe.producerNode.length&&Fe.producerNode[e]!==t&&Zo(Fe)){let n=Fe.producerNode[e];Ka(n,Fe.producerIndexOfThis[e])}Fe.producerNode[e]!==t&&(Fe.producerNode[e]=t,Fe.producerIndexOfThis[e]=Zo(Fe)?lv(t,Fe,e):0),Fe.producerLastReadVersion[e]=t.version}function z0(){za++}function av(t){if(!(Zo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===za)){if(!t.producerMustRecompute(t)&&!Vd(t)){t.dirty=!1,t.lastCleanEpoch=za;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=za}}function uv(t){if(t.liveConsumerNode===void 0)return;let e=qa;qa=!0;try{for(let n of t.liveConsumerNode)n.dirty||G0(n)}finally{qa=e}}function cv(){return Fe?.consumerAllowSignalWrites!==!1}function G0(t){t.dirty=!0,uv(t),t.consumerMarkedDirty?.(t)}function Wa(t){return t&&(t.nextProducerIndex=0),ue(t)}function Fd(t,e){if(ue(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Zo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ka(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Vd(t){Qa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(av(n),r!==n.version))return!0}return!1}function Ld(t){if(Qa(t),Zo(t))for(let e=0;e<t.producerNode.length;e++)Ka(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function lv(t,e,n){if(dv(t),t.liveConsumerNode.length===0&&hv(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=lv(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ka(t,e){if(dv(t),t.liveConsumerNode.length===1&&hv(t))for(let r=0;r<t.producerNode.length;r++)Ka(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Qa(i),i.producerIndexOfThis[r]=e}}function Zo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Qa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function dv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function hv(t){return t.producerNode!==void 0}function fv(t){let e=Object.create(W0);e.computation=t;let n=()=>{if(av(e),Od(e),e.value===Ga)throw e.error;return e.value};return n[dn]=e,n}var Pd=Symbol("UNSET"),kd=Symbol("COMPUTING"),Ga=Symbol("ERRORED"),W0=oe(k({},Jo),{value:Pd,dirty:!0,error:null,equal:ov,producerMustRecompute(t){return t.value===Pd||t.value===kd},producerRecomputeValue(t){if(t.value===kd)throw new Error("Detected cycle in computations.");let e=t.value;t.value=kd;let n=Wa(t),r;try{r=t.computation()}catch(i){r=Ga,t.error=i}finally{Fd(t,n)}if(e!==Pd&&e!==Ga&&r!==Ga&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function K0(){throw new Error}var pv=K0;function gv(){pv()}function mv(t){pv=t}var Q0=null;function yv(t){let e=Object.create(_v);e.value=t;let n=()=>(Od(e),e.value);return n[dn]=e,n}function jd(t,e){cv()||gv(),t.equal(t.value,e)||(t.value=e,Y0(t))}function vv(t,e){cv()||gv(),jd(t,e(t.value))}var _v=oe(k({},Jo),{equal:ov,value:void 0});function Y0(t){t.version++,z0(),uv(t),Q0?.()}function G(t){return typeof t=="function"}function oi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ya=oi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function vr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ae=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(o){e=o instanceof Ya?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{wv(o)}catch(s){e=e??[],s instanceof Ya?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ya(e)}}add(e){var n;if(e&&e!==this)if(this.closed)wv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&vr(n,e)}remove(e){let{_finalizers:n}=this;n&&vr(n,e),e instanceof t&&e._removeParent(this)}};Ae.EMPTY=(()=>{let t=new Ae;return t.closed=!0,t})();var Ud=Ae.EMPTY;function Za(t){return t instanceof Ae||t&&"closed"in t&&G(t.remove)&&G(t.add)&&G(t.unsubscribe)}function wv(t){G(t)?t():t.unsubscribe()}var jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var si={setTimeout(t,e,...n){let{delegate:r}=si;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=si;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ja(t){si.setTimeout(()=>{let{onUnhandledError:e}=jt;if(e)e(t);else throw t})}function Xo(){}var Iv=Bd("C",void 0,void 0);function Ev(t){return Bd("E",void 0,t)}function Dv(t){return Bd("N",t,void 0)}function Bd(t,e,n){return{kind:t,value:e,error:n}}var _r=null;function ai(t){if(jt.useDeprecatedSynchronousErrorHandling){let e=!_r;if(e&&(_r={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=_r;if(_r=null,n)throw r}}else t()}function Cv(t){jt.useDeprecatedSynchronousErrorHandling&&_r&&(_r.errorThrown=!0,_r.error=t)}var wr=class extends Ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Za(e)&&e.add(this)):this.destination=X0}static create(e,n,r){return new hn(e,n,r)}next(e){this.isStopped?Hd(Dv(e),this):this._next(e)}error(e){this.isStopped?Hd(Ev(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hd(Iv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Z0=Function.prototype.bind;function $d(t,e){return Z0.call(t,e)}var qd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Xa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Xa(r)}else Xa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Xa(n)}}},hn=class extends wr{constructor(e,n,r){super();let i;if(G(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&jt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&$d(e.next,o),error:e.error&&$d(e.error,o),complete:e.complete&&$d(e.complete,o)}):i=e}this.destination=new qd(i)}};function Xa(t){jt.useDeprecatedSynchronousErrorHandling?Cv(t):Ja(t)}function J0(t){throw t}function Hd(t,e){let{onStoppedNotification:n}=jt;n&&si.setTimeout(()=>n(t,e))}var X0={closed:!0,next:Xo,error:J0,complete:Xo};var ui=typeof Symbol=="function"&&Symbol.observable||"@@observable";function mt(t){return t}function zd(...t){return Gd(t)}function Gd(t){return t.length===0?mt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var X=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=tb(n)?n:new hn(n,r,i);return ai(()=>{let{operator:s,source:u}=this;o.add(s?s.call(o,u):u?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=bv(r),new r((i,o)=>{let s=new hn({next:u=>{try{n(u)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ui](){return this}pipe(...n){return Gd(n)(this)}toPromise(n){return n=bv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function bv(t){var e;return(e=t??jt.Promise)!==null&&e!==void 0?e:Promise}function eb(t){return t&&G(t.next)&&G(t.error)&&G(t.complete)}function tb(t){return t&&t instanceof wr||eb(t)&&Za(t)}function Wd(t){return G(t?.lift)}function te(t){return e=>{if(Wd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ne(t,e,n,r,i){return new Kd(t,e,n,r,i)}var Kd=class extends wr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(u){try{n(u)}catch(c){e.error(c)}}:super._next,this._error=i?function(u){try{i(u)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ci(){return te((t,e)=>{let n=null;t._refCount++;let r=ne(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var li=class extends X{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Wd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ae;let n=this.getSubject();e.add(this.source.subscribe(ne(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ae.EMPTY)}return e}refCount(){return ci()(this)}};var Tv=oi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=(()=>{class t extends X{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new eu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Tv}next(n){ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ud:(this.currentObservers=null,o.push(n),new Ae(()=>{this.currentObservers=null,vr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new X;return n.source=this,n}}return t.create=(e,n)=>new eu(e,n),t})(),eu=class extends De{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ud}};var qe=class extends De{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var es={now(){return(es.delegate||Date).now()},delegate:void 0};var tu=class extends De{constructor(e=1/0,n=1/0,r=es){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),u=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)u=c;u&&r.splice(0,u+1)}}};var nu=class extends Ae{constructor(e,n){super()}schedule(e,n=0){return this}};var ts={setInterval(t,e,...n){let{delegate:r}=ts;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ts;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var di=class extends nu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ts.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ts.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,vr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var hi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};hi.now=es.now;var fi=class extends hi{constructor(e,n=hi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Qd=new fi(di);var ru=class extends di{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var iu=class extends fi{};var Yd=new iu(ru);var ot=new X(t=>t.complete());function Av(t){return t&&G(t.schedule)}function Zd(t){return t[t.length-1]}function ou(t){return G(Zd(t))?t.pop():void 0}function zt(t){return Av(Zd(t))?t.pop():void 0}function Sv(t,e){return typeof Zd(t)=="number"?t.pop():e}var su=t=>t&&typeof t.length=="number"&&typeof t!="function";function au(t){return G(t?.then)}function uu(t){return G(t[ui])}function cu(t){return Symbol.asyncIterator&&G(t?.[Symbol.asyncIterator])}function lu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function nb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var du=nb();function hu(t){return G(t?.[du])}function fu(t){return Ky(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ba(n.read());if(i)return yield Ba(void 0);yield yield Ba(r)}}finally{n.releaseLock()}})}function pu(t){return G(t?.getReader)}function Ie(t){if(t instanceof X)return t;if(t!=null){if(uu(t))return rb(t);if(su(t))return ib(t);if(au(t))return ob(t);if(cu(t))return Mv(t);if(hu(t))return sb(t);if(pu(t))return ab(t)}throw lu(t)}function rb(t){return new X(e=>{let n=t[ui]();if(G(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ib(t){return new X(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function ob(t){return new X(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ja)})}function sb(t){return new X(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Mv(t){return new X(e=>{ub(t,e).catch(n=>e.error(n))})}function ab(t){return Mv(fu(t))}function ub(t,e){var n,r,i,o;return Wy(this,void 0,void 0,function*(){try{for(n=Qy(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function ht(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function yt(t,e=0){return te((n,r)=>{n.subscribe(ne(r,i=>ht(r,t,()=>r.next(i),e),()=>ht(r,t,()=>r.complete(),e),i=>ht(r,t,()=>r.error(i),e)))})}function bt(t,e=0){return te((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function xv(t,e){return Ie(t).pipe(bt(e),yt(e))}function Rv(t,e){return Ie(t).pipe(bt(e),yt(e))}function Nv(t,e){return new X(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Pv(t,e){return new X(n=>{let r;return ht(n,e,()=>{r=t[du](),ht(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function gu(t,e){if(!t)throw new Error("Iterable cannot be null");return new X(n=>{ht(n,e,()=>{let r=t[Symbol.asyncIterator]();ht(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function kv(t,e){return gu(fu(t),e)}function Ov(t,e){if(t!=null){if(uu(t))return xv(t,e);if(su(t))return Nv(t,e);if(au(t))return Rv(t,e);if(cu(t))return gu(t,e);if(hu(t))return Pv(t,e);if(pu(t))return kv(t,e)}throw lu(t)}function ge(t,e){return e?Ov(t,e):Ie(t)}function H(...t){let e=zt(t);return ge(t,e)}function pi(t,e){let n=G(t)?t:()=>t,r=i=>i.error(n());return new X(e?i=>e.schedule(r,0,i):r)}function Jd(t){return!!t&&(t instanceof X||G(t.lift)&&G(t.subscribe))}var fn=oi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function K(t,e){return te((n,r)=>{let i=0;n.subscribe(ne(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:cb}=Array;function lb(t,e){return cb(e)?t(...e):t(e)}function mu(t){return K(e=>lb(t,e))}var{isArray:db}=Array,{getPrototypeOf:hb,prototype:fb,keys:pb}=Object;function yu(t){if(t.length===1){let e=t[0];if(db(e))return{args:e,keys:null};if(gb(e)){let n=pb(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function gb(t){return t&&typeof t=="object"&&hb(t)===fb}function vu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ns(...t){let e=zt(t),n=ou(t),{args:r,keys:i}=yu(t);if(r.length===0)return ge([],e);let o=new X(mb(r,e,i?s=>vu(i,s):mt));return n?o.pipe(mu(n)):o}function mb(t,e,n=mt){return r=>{Fv(e,()=>{let{length:i}=t,o=new Array(i),s=i,u=i;for(let c=0;c<i;c++)Fv(e,()=>{let d=ge(t[c],e),f=!1;d.subscribe(ne(r,g=>{o[c]=g,f||(f=!0,u--),u||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Fv(t,e,n){t?ht(n,t,e):e()}function Vv(t,e,n,r,i,o,s,u){let c=[],d=0,f=0,g=!1,_=()=>{g&&!c.length&&!d&&e.complete()},D=x=>d<r?A(x):c.push(x),A=x=>{o&&e.next(x),d++;let M=!1;Ie(n(x,f++)).subscribe(ne(e,V=>{i?.(V),o?D(V):e.next(V)},()=>{M=!0},void 0,()=>{if(M)try{for(d--;c.length&&d<r;){let V=c.shift();s?ht(e,s,()=>A(V)):A(V)}_()}catch(V){e.error(V)}}))};return t.subscribe(ne(e,D,()=>{g=!0,_()})),()=>{u?.()}}function xe(t,e,n=1/0){return G(e)?xe((r,i)=>K((o,s)=>e(r,o,i,s))(Ie(t(r,i))),n):(typeof e=="number"&&(n=e),te((r,i)=>Vv(r,i,t,n)))}function Hn(t=1/0){return xe(mt,t)}function Lv(){return Hn(1)}function gi(...t){return Lv()(ge(t,zt(t)))}function _u(t){return new X(e=>{Ie(t()).subscribe(e)})}function Xd(...t){let e=ou(t),{args:n,keys:r}=yu(t),i=new X(o=>{let{length:s}=n;if(!s){o.complete();return}let u=new Array(s),c=s,d=s;for(let f=0;f<s;f++){let g=!1;Ie(n[f]).subscribe(ne(o,_=>{g||(g=!0,d--),u[f]=_},()=>c--,void 0,()=>{(!c||!g)&&(d||o.next(r?vu(r,u):u),o.complete())}))}});return e?i.pipe(mu(e)):i}function eh(...t){let e=zt(t),n=Sv(t,1/0),r=t;return r.length?r.length===1?Ie(r[0]):Hn(n)(ge(r,e)):ot}function ft(t,e){return te((n,r)=>{let i=0;n.subscribe(ne(r,o=>t.call(e,o,i++)&&r.next(o)))})}function qn(t){return te((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ne(n,void 0,void 0,s=>{o=Ie(t(s,qn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function jv(t,e,n,r,i){return(o,s)=>{let u=n,c=e,d=0;o.subscribe(ne(s,f=>{let g=d++;c=u?t(c,f,g):(u=!0,f),r&&s.next(c)},i&&(()=>{u&&s.next(c),s.complete()})))}}function Ir(t,e){return G(e)?xe(t,e,1):xe(t,1)}function zn(t){return te((e,n)=>{let r=!1;e.subscribe(ne(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function pn(t){return t<=0?()=>ot:te((e,n)=>{let r=0;e.subscribe(ne(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function th(t){return K(()=>t)}function wu(t=yb){return te((e,n)=>{let r=!1;e.subscribe(ne(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function yb(){return new fn}function rs(t){return te((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Tt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ft((i,o)=>t(i,o,r)):mt,pn(1),n?zn(e):wu(()=>new fn))}function mi(t){return t<=0?()=>ot:te((e,n)=>{let r=[];e.subscribe(ne(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function nh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ft((i,o)=>t(i,o,r)):mt,mi(1),n?zn(e):wu(()=>new fn))}function rh(t,e){return te(jv(t,e,arguments.length>=2,!0))}function Uv(t={}){let{connector:e=()=>new De,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,u,c,d=0,f=!1,g=!1,_=()=>{u?.unsubscribe(),u=void 0},D=()=>{_(),s=c=void 0,f=g=!1},A=()=>{let x=s;D(),x?.unsubscribe()};return te((x,M)=>{d++,!g&&!f&&_();let V=c=c??e();M.add(()=>{d--,d===0&&!g&&!f&&(u=ih(A,i))}),V.subscribe(M),!s&&d>0&&(s=new hn({next:z=>V.next(z),error:z=>{g=!0,_(),u=ih(D,n,z),V.error(z)},complete:()=>{f=!0,_(),u=ih(D,r),V.complete()}}),Ie(x).subscribe(s))})(o)}}function ih(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new hn({next:()=>{r.unsubscribe(),t()}});return Ie(e(...n)).subscribe(r)}function Iu(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,Uv({connector:()=>new tu(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function oh(...t){let e=zt(t);return te((n,r)=>{(e?gi(t,n,e):gi(t,n)).subscribe(r)})}function Se(t,e){return te((n,r)=>{let i=null,o=0,s=!1,u=()=>s&&!i&&r.complete();n.subscribe(ne(r,c=>{i?.unsubscribe();let d=0,f=o++;Ie(t(c,f)).subscribe(i=ne(r,g=>r.next(e?e(c,g,f,d++):g),()=>{i=null,u()}))},()=>{s=!0,u()}))})}function Eu(t,e){return G(e)?Se(()=>t,e):Se(()=>t)}function sh(t){return te((e,n)=>{Ie(t).subscribe(ne(n,()=>n.complete(),Xo)),!n.closed&&e.subscribe(n)})}function Ve(t,e,n){let r=G(t)||e||n?{next:t,error:e,complete:n}:t;return r?te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let u=!0;i.subscribe(ne(o,c=>{var d;(d=r.next)===null||d===void 0||d.call(r,c),o.next(c)},()=>{var c;u=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var d;u=!1,(d=r.error)===null||d===void 0||d.call(r,c),o.error(c)},()=>{var c,d;u&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):mt}var vb="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(af(e,n)),this.code=e}};function af(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function hs(t){return{toString:t}.toString()}var Du="__parameters__";function _b(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function D_(t,e,n){return hs(()=>{let r=_b(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return u.annotation=s,u;function u(c,d,f){let g=c.hasOwnProperty(Du)?c[Du]:Object.defineProperty(c,Du,{value:[]})[Du];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ye(t){for(let e in t)if(t[e]===ye)return e;throw Error("Could not find renamed property on target object.")}function wb(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function at(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(at).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Bv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Ib=ye({__forward_ref__:ye});function Nr(t){return t.__forward_ref__=Nr,t.toString=function(){return at(this())},t}function st(t){return C_(t)?t():t}function C_(t){return typeof t=="function"&&t.hasOwnProperty(Ib)&&t.__forward_ref__===Nr}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _n(t){return{providers:t.providers||[],imports:t.imports||[]}}function ec(t){return $v(t,T_)||$v(t,A_)}function b_(t){return ec(t)!==null}function $v(t,e){return t.hasOwnProperty(e)?t[e]:null}function Eb(t){let e=t&&(t[T_]||t[A_]);return e||null}function Hv(t){return t&&(t.hasOwnProperty(qv)||t.hasOwnProperty(Db))?t[qv]:null}var T_=ye({\u0275prov:ye}),qv=ye({\u0275inj:ye}),A_=ye({ngInjectableDef:ye}),Db=ye({ngInjectorDef:ye}),O=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function S_(t){return t&&!!t.\u0275providers}var Cb=ye({\u0275cmp:ye}),bb=ye({\u0275dir:ye}),Tb=ye({\u0275pipe:ye}),Ab=ye({\u0275mod:ye}),Nu=ye({\u0275fac:ye}),os=ye({__NG_ELEMENT_ID__:ye}),zv=ye({__NG_ENV_ID__:ye});function uf(t){return typeof t=="string"?t:t==null?"":String(t)}function Sb(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():uf(t)}function Mb(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function cf(t,e){throw new $(-201,!1)}var Y=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Y||{}),wh;function M_(){return wh}function At(t){let e=wh;return wh=t,e}function x_(t,e,n){let r=ec(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Y.Optional)return null;if(e!==void 0)return e;cf(t,"Injector")}var xb={},ss=xb,Ih="__NG_DI_FLAG__",Pu="ngTempTokenPath",Rb="ngTokenPath",Nb=/\n/gm,Pb="\u0275",Gv="__source",Ii;function kb(){return Ii}function Gn(t){let e=Ii;return Ii=t,e}function Ob(t,e=Y.Default){if(Ii===void 0)throw new $(-203,!1);return Ii===null?x_(t,void 0,e):Ii.get(t,e&Y.Optional?null:void 0,e)}function L(t,e=Y.Default){return(M_()||Ob)(st(t),e)}function R(t,e=Y.Default){return L(t,tc(e))}function tc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Eh(t){let e=[];for(let n=0;n<t.length;n++){let r=st(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=Y.Default;for(let s=0;s<r.length;s++){let u=r[s],c=Fb(u);typeof c=="number"?c===-1?i=u.token:o|=c:i=u}e.push(L(i,o))}else e.push(L(r))}return e}function R_(t,e){return t[Ih]=e,t.prototype[Ih]=e,t}function Fb(t){return t[Ih]}function Vb(t,e,n,r){let i=t[Pu];throw e[Gv]&&i.unshift(e[Gv]),t.message=Lb(`
`+t.message,i,n,r),t[Rb]=i,t[Pu]=null,t}function Lb(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Pb?t.slice(2):t;let i=at(e);if(Array.isArray(e))i=e.map(at).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let u=e[s];o.push(s+":"+(typeof u=="string"?JSON.stringify(u):at(u)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Nb,`
  `)}`}var Je=R_(D_("Optional"),8);var N_=R_(D_("SkipSelf"),4);function Di(t,e){let n=t.hasOwnProperty(Nu);return n?t[Nu]:null}function lf(t,e){t.forEach(n=>Array.isArray(n)?lf(n,e):e(n))}function P_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ku(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function jb(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Ub(t,e,n){let r=fs(t,e);return r>=0?t[r|1]=n:(r=~r,jb(t,r,e,n)),r}function ah(t,e){let n=fs(t,e);if(n>=0)return t[n|1]}function fs(t,e){return Bb(t,e,1)}function Bb(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ci={},St=[],bi=new O(""),k_=new O("",-1),O_=new O(""),Ou=class{get(e,n=ss){if(n===ss){let r=new Error(`NullInjectorError: No provider for ${at(e)}!`);throw r.name="NullInjectorError",r}return n}},F_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(F_||{}),Kt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Kt||{}),Qn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Qn||{});function $b(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Dh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],u=n[r++];t.setAttribute(e,s,u,o)}else{let o=i,s=n[++r];qb(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Hb(t){return t===3||t===4||t===6}function qb(t){return t.charCodeAt(0)===64}function as(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Wv(t,n,i,null,e[++r]):Wv(t,n,i,null,null))}}return t}function Wv(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let u=t[o++];if(typeof u=="number"){if(u===e){s=-1;break}else if(u>e){s=o-1;break}}}for(;o<t.length;){let u=t[o];if(typeof u=="number")break;if(u===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var V_="ng-template";function zb(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&$b(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(df(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function df(t){return t.type===4&&t.value!==V_}function Gb(t,e,n){let r=t.type===4&&!n?V_:t.value;return e===r}function Wb(t,e,n){let r=4,i=t.attrs,o=i!==null?Yb(i):0,s=!1;for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="number"){if(!s&&!Ut(r)&&!Ut(c))return!1;if(s&&Ut(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Gb(t,c,n)||c===""&&e.length===1){if(Ut(r))return!1;s=!0}}else if(r&8){if(i===null||!zb(t,i,c,n)){if(Ut(r))return!1;s=!0}}else{let d=e[++u],f=Kb(c,i,df(t),n);if(f===-1){if(Ut(r))return!1;s=!0;continue}if(d!==""){let g;if(f>o?g="":g=i[f+1].toLowerCase(),r&2&&d!==g){if(Ut(r))return!1;s=!0}}}}return Ut(r)||s}function Ut(t){return(t&1)===0}function Kb(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let u=e[++i];for(;typeof u=="string";)u=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Zb(e,t)}function Qb(t,e,n=!1){for(let r=0;r<e.length;r++)if(Wb(t,e[r],n))return!0;return!1}function Yb(t){for(let e=0;e<t.length;e++){let n=t[e];if(Hb(n))return e}return t.length}function Zb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Kv(t,e){return t?":not("+e.trim()+")":e}function Jb(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let u=t[++n];i+="["+s+(u.length>0?'="'+u+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ut(s)&&(e+=Kv(o,i),i=""),r=s,o=o||!Ut(r);n++}return i!==""&&(e+=Kv(o,i)),e}function Xb(t){return t.map(Jb).join(",")}function eT(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ut(i))break;i=o}r++}return{attrs:e,classes:n}}function Rt(t){return hs(()=>{let e=$_(t),n=oe(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===F_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Kt.Emulated,styles:t.styles||St,_:null,schemas:t.schemas||null,tView:null,id:""});H_(n);let r=t.dependencies;return n.directiveDefs=Yv(r,!1),n.pipeDefs=Yv(r,!0),n.id=rT(n),n})}function tT(t){return Yn(t)||L_(t)}function nT(t){return t!==null}function wn(t){return hs(()=>({type:t.type,bootstrap:t.bootstrap||St,declarations:t.declarations||St,imports:t.imports||St,exports:t.exports||St,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Qv(t,e){if(t==null)return Ci;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,u=Qn.None;Array.isArray(i)?(u=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=u!==Qn.None?[r,u]:r,e[o]=s):n[o]=r}return n}function ct(t){return hs(()=>{let e=$_(t);return H_(e),e})}function Yn(t){return t[Cb]||null}function L_(t){return t[bb]||null}function j_(t){return t[Tb]||null}function U_(t){let e=Yn(t)||L_(t)||j_(t);return e!==null?e.standalone:!1}function B_(t,e){let n=t[Ab]||null;if(!n&&e===!0)throw new Error(`Type ${at(t)} does not have '\u0275mod' property.`);return n}function $_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ci,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||St,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qv(t.inputs,e),outputs:Qv(t.outputs),debugInfo:null}}function H_(t){t.features?.forEach(e=>e(t))}function Yv(t,e){if(!t)return null;let n=e?j_:tT;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(nT)}function rT(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Jt(t){return{\u0275providers:t}}function iT(...t){return{\u0275providers:q_(!0,t),\u0275fromNgModule:!0}}function q_(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return lf(e,s=>{let u=s;Ch(u,o,[],r)&&(i||=[],i.push(u))}),i!==void 0&&z_(i,o),n}function z_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];hf(i,o=>{e(o,r)})}}function Ch(t,e,n,r){if(t=st(t),!t)return!1;let i=null,o=Hv(t),s=!o&&Yn(t);if(!o&&!s){let c=t.ngModule;if(o=Hv(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let u=r.has(i);if(s){if(u)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of c)Ch(d,e,n,r)}}else if(o){if(o.imports!=null&&!u){r.add(i);let d;try{lf(o.imports,f=>{Ch(f,e,n,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&z_(d,e)}if(!u){let d=Di(i)||(()=>new i);e({provide:i,useFactory:d,deps:St},i),e({provide:O_,useValue:i,multi:!0},i),e({provide:bi,useValue:()=>L(i),multi:!0},i)}let c=o.providers;if(c!=null&&!u){let d=t;hf(c,f=>{e(f,d)})}}else return!1;return i!==t&&t.providers!==void 0}function hf(t,e){for(let n of t)S_(n)&&(n=n.\u0275providers),Array.isArray(n)?hf(n,e):e(n)}var oT=ye({provide:String,useValue:ye});function G_(t){return t!==null&&typeof t=="object"&&oT in t}function sT(t){return!!(t&&t.useExisting)}function aT(t){return!!(t&&t.useFactory)}function Ti(t){return typeof t=="function"}function uT(t){return!!t.useClass}var nc=new O(""),Au={},cT={},uh;function ff(){return uh===void 0&&(uh=new Ou),uh}var vt=class{},us=class extends vt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Th(e,s=>this.processProvider(s)),this.records.set(k_,yi(void 0,this)),i.has("environment")&&this.records.set(vt,yi(void 0,this));let o=this.records.get(nc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(O_,St,Y.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ue(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Gn(this),r=At(void 0),i;try{return e()}finally{Gn(n),At(r)}}get(e,n=ss,r=Y.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(zv))return e[zv](this);r=tc(r);let i,o=Gn(this),s=At(void 0);try{if(!(r&Y.SkipSelf)){let c=this.records.get(e);if(c===void 0){let d=pT(e)&&ec(e);d&&this.injectableDefInScope(d)?c=yi(bh(e),Au):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let u=r&Y.Self?ff():this.parent;return n=r&Y.Optional&&n===ss?null:n,u.get(e,n)}catch(u){if(u.name==="NullInjectorError"){if((u[Pu]=u[Pu]||[]).unshift(at(e)),o)throw u;return Vb(u,e,"R3InjectorError",this.source)}else throw u}finally{At(s),Gn(o)}}resolveInjectorInitializers(){let e=ue(null),n=Gn(this),r=At(void 0),i;try{let o=this.get(bi,St,Y.Self);for(let s of o)s()}finally{Gn(n),At(r),ue(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(at(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=st(e);let n=Ti(e)?e:st(e&&e.provide),r=dT(e);if(!Ti(e)&&e.multi===!0){let i=this.records.get(n);i||(i=yi(void 0,Au,!0),i.factory=()=>Eh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ue(null);try{return n.value===Au&&(n.value=cT,n.value=n.factory()),typeof n.value=="object"&&n.value&&fT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ue(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=st(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function bh(t){let e=ec(t),n=e!==null?e.factory:Di(t);if(n!==null)return n;if(t instanceof O)throw new $(204,!1);if(t instanceof Function)return lT(t);throw new $(204,!1)}function lT(t){if(t.length>0)throw new $(204,!1);let n=Eb(t);return n!==null?()=>n.factory(t):()=>new t}function dT(t){if(G_(t))return yi(void 0,t.useValue);{let e=W_(t);return yi(e,Au)}}function W_(t,e,n){let r;if(Ti(t)){let i=st(t);return Di(i)||bh(i)}else if(G_(t))r=()=>st(t.useValue);else if(aT(t))r=()=>t.useFactory(...Eh(t.deps||[]));else if(sT(t))r=()=>L(st(t.useExisting));else{let i=st(t&&(t.useClass||t.provide));if(hT(t))r=()=>new i(...Eh(t.deps));else return Di(i)||bh(i)}return r}function yi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function hT(t){return!!t.deps}function fT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function pT(t){return typeof t=="function"||typeof t=="object"&&t instanceof O}function Th(t,e){for(let n of t)Array.isArray(n)?Th(n,e):n&&S_(n)?Th(n.\u0275providers,e):e(n)}function Xt(t,e){t instanceof us&&t.assertNotDestroyed();let n,r=Gn(t),i=At(void 0);try{return e()}finally{Gn(r),At(i)}}function K_(){return M_()!==void 0||kb()!=null}function gT(t){if(!K_())throw new $(-203,!1)}function mT(t){return typeof t=="function"}var In=0,re=1,W=2,ut=3,Bt=4,$t=5,Fu=6,Vu=7,Qt=8,Ai=9,gn=10,Le=11,cs=12,Zv=13,Fi=14,Yt=15,Si=16,vi=17,Mi=18,rc=19,Q_=20,Wn=21,ch=22,Mt=23,Zn=25,Y_=1;var br=7,Lu=8,ju=9,xt=10,Uu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Uu||{});function Kn(t){return Array.isArray(t)&&typeof t[Y_]=="object"}function En(t){return Array.isArray(t)&&t[Y_]===!0}function Z_(t){return(t.flags&4)!==0}function ic(t){return t.componentOffset>-1}function pf(t){return(t.flags&1)===1}function Jn(t){return!!t.template}function Ah(t){return(t[W]&512)!==0}var Sh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function J_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Pr(){return X_}function X_(t){return t.type.prototype.ngOnChanges&&(t.setInput=vT),yT}Pr.ngInherit=!0;function yT(){let t=tw(this),e=t?.current;if(e){let n=t.previous;if(n===Ci)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function vT(t,e,n,r,i){let o=this.declaredInputs[r],s=tw(t)||_T(t,{previous:Ci,current:null}),u=s.current||(s.current={}),c=s.previous,d=c[o];u[o]=new Sh(d&&d.currentValue,n,c===Ci),J_(t,e,i,n)}var ew="__ngSimpleChanges__";function tw(t){return t[ew]||null}function _T(t,e){return t[ew]=e}var Jv=null;var Gt=function(t,e,n){Jv?.(t,e,n)},wT="svg",IT="math";function Zt(t){for(;Array.isArray(t);)t=t[In];return t}function nw(t,e){return Zt(e[t])}function Nt(t,e){return Zt(e[t.index])}function rw(t,e){return t.data[e]}function er(t,e){let n=e[t];return Kn(n)?n:n[In]}function gf(t){return(t[W]&128)===128}function ET(t){return En(t[ut])}function Bu(t,e){return e==null?null:t[e]}function iw(t){t[vi]=0}function ow(t){t[W]&1024||(t[W]|=1024,gf(t)&&sc(t))}function DT(t,e){for(;t>0;)e=e[Fi],t--;return e}function oc(t){return!!(t[W]&9216||t[Mt]?.dirty)}function Mh(t){t[gn].changeDetectionScheduler?.notify(8),t[W]&64&&(t[W]|=1024),oc(t)&&sc(t)}function sc(t){t[gn].changeDetectionScheduler?.notify(0);let e=Tr(t);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!gf(e)));)e=Tr(e)}function sw(t,e){if((t[W]&256)===256)throw new $(911,!1);t[Wn]===null&&(t[Wn]=[]),t[Wn].push(e)}function CT(t,e){if(t[Wn]===null)return;let n=t[Wn].indexOf(e);n!==-1&&t[Wn].splice(n,1)}function Tr(t){let e=t[ut];return En(e)?e[ut]:e}var se={lFrame:gw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var aw=!1;function bT(){return se.lFrame.elementDepthCount}function TT(){se.lFrame.elementDepthCount++}function AT(){se.lFrame.elementDepthCount--}function uw(){return se.bindingsEnabled}function ST(){return se.skipHydrationRootTNode!==null}function MT(t){return se.skipHydrationRootTNode===t}function xT(){se.skipHydrationRootTNode=null}function Ce(){return se.lFrame.lView}function _t(){return se.lFrame.tView}function pt(){let t=cw();for(;t!==null&&t.type===64;)t=t.parent;return t}function cw(){return se.lFrame.currentTNode}function RT(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ps(t,e){let n=se.lFrame;n.currentTNode=t,n.isParent=e}function lw(){return se.lFrame.isParent}function NT(){se.lFrame.isParent=!1}function dw(){return aw}function Xv(t){aw=t}function PT(t){return se.lFrame.bindingIndex=t}function ac(){return se.lFrame.bindingIndex++}function kT(t){let e=se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function OT(){return se.lFrame.inI18n}function FT(t,e){let n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,xh(e)}function VT(){return se.lFrame.currentDirectiveIndex}function xh(t){se.lFrame.currentDirectiveIndex=t}function LT(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function hw(t){se.lFrame.currentQueryIndex=t}function jT(t){let e=t[re];return e.type===2?e.declTNode:e.type===1?t[$t]:null}function fw(t,e,n){if(n&Y.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Y.Host);)if(i=jT(o),i===null||(o=o[Fi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=se.lFrame=pw();return r.currentTNode=e,r.lView=t,!0}function mf(t){let e=pw(),n=t[re];se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pw(){let t=se.lFrame,e=t===null?null:t.child;return e===null?gw(t):e}function gw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function mw(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var yw=mw;function yf(){let t=mw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function UT(t){return(se.lFrame.contextLView=DT(t,se.lFrame.contextLView))[Qt]}function Vi(){return se.lFrame.selectedIndex}function Ar(t){se.lFrame.selectedIndex=t}function vf(){let t=se.lFrame;return rw(t.tView,t.selectedIndex)}function BT(){return se.lFrame.currentNamespace}var vw=!0;function _f(){return vw}function wf(t){vw=t}function $T(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=X_(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function If(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:u,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),u&&((t.contentHooks??=[]).push(n,u),(t.contentCheckHooks??=[]).push(n,u)),c&&(t.viewHooks??=[]).push(-n,c),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Su(t,e,n){_w(t,e,3,n)}function Mu(t,e,n,r){(t[W]&3)===n&&_w(t,e,n,r)}function lh(t,e){let n=t[W];(n&3)===e&&(n&=16383,n+=1,t[W]=n)}function _w(t,e,n,r){let i=r!==void 0?t[vi]&65535:0,o=r??-1,s=e.length-1,u=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(u=e[c],r!=null&&u>=r)break}else e[c]<0&&(t[vi]+=65536),(u<o||o==-1)&&(HT(t,n,e,c),t[vi]=(t[vi]&4294901760)+c+2),c++}function e_(t,e){Gt(4,t,e);let n=ue(null);try{e.call(t)}finally{ue(n),Gt(5,t,e)}}function HT(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],u=t[s];i?t[W]>>14<t[vi]>>16&&(t[W]&3)===e&&(t[W]+=16384,e_(u,o)):e_(u,o)}var Ei=-1,Sr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function qT(t){return t instanceof Sr}function zT(t){return(t.flags&8)!==0}function GT(t){return(t.flags&16)!==0}var dh={},Rh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=tc(r);let i=this.injector.get(e,dh,r);return i!==dh||n===dh?i:this.parentInjector.get(e,n,r)}};function ww(t){return t!==Ei}function $u(t){return t&32767}function WT(t){return t>>16}function Hu(t,e){let n=WT(t),r=e;for(;n>0;)r=r[Fi],n--;return r}var Nh=!0;function t_(t){let e=Nh;return Nh=t,e}var KT=256,Iw=KT-1,Ew=5,QT=0,Wt={};function YT(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(os)&&(r=n[os]),r==null&&(r=n[os]=QT++);let i=r&Iw,o=1<<i;e.data[t+(i>>Ew)]|=o}function qu(t,e){let n=Dw(t,e);if(n!==-1)return n;let r=e[re];r.firstCreatePass&&(t.injectorIndex=e.length,hh(r.data,t),hh(e,null),hh(r.blueprint,null));let i=Ef(t,e),o=t.injectorIndex;if(ww(i)){let s=$u(i),u=Hu(i,e),c=u[re].data;for(let d=0;d<8;d++)e[o+d]=u[s+d]|c[s+d]}return e[o+8]=i,o}function hh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Dw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ef(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Sw(i),r===null)return Ei;if(n++,i=i[Fi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ei}function Ph(t,e,n){YT(t,e,n)}function Cw(t,e,n){if(n&Y.Optional||t!==void 0)return t;cf(e,"NodeInjector")}function bw(t,e,n,r){if(n&Y.Optional&&r===void 0&&(r=null),!(n&(Y.Self|Y.Host))){let i=t[Ai],o=At(void 0);try{return i?i.get(e,r,n&Y.Optional):x_(e,r,n&Y.Optional)}finally{At(o)}}return Cw(r,e,n)}function Tw(t,e,n,r=Y.Default,i){if(t!==null){if(e[W]&2048&&!(r&Y.Self)){let s=tA(t,e,n,r,Wt);if(s!==Wt)return s}let o=Aw(t,e,n,r,Wt);if(o!==Wt)return o}return bw(e,n,r,i)}function Aw(t,e,n,r,i){let o=XT(n);if(typeof o=="function"){if(!fw(e,t,r))return r&Y.Host?Cw(i,n,r):bw(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Y.Optional))cf(n);else return s}finally{yw()}}else if(typeof o=="number"){let s=null,u=Dw(t,e),c=Ei,d=r&Y.Host?e[Yt][$t]:null;for((u===-1||r&Y.SkipSelf)&&(c=u===-1?Ef(t,e):e[u+8],c===Ei||!r_(r,!1)?u=-1:(s=e[re],u=$u(c),e=Hu(c,e)));u!==-1;){let f=e[re];if(n_(o,u,f.data)){let g=ZT(u,e,n,s,r,d);if(g!==Wt)return g}c=e[u+8],c!==Ei&&r_(r,e[re].data[u+8]===d)&&n_(o,u,e)?(s=f,u=$u(c),e=Hu(c,e)):u=-1}}return i}function ZT(t,e,n,r,i,o){let s=e[re],u=s.data[t+8],c=r==null?ic(u)&&Nh:r!=s&&(u.type&3)!==0,d=i&Y.Host&&o===u,f=JT(u,s,n,c,d);return f!==null?xi(e,s,f,u):Wt}function JT(t,e,n,r,i){let o=t.providerIndexes,s=e.data,u=o&1048575,c=t.directiveStart,d=t.directiveEnd,f=o>>20,g=r?u:u+f,_=i?u+f:d;for(let D=g;D<_;D++){let A=s[D];if(D<c&&n===A||D>=c&&A.type===n)return D}if(i){let D=s[c];if(D&&Jn(D)&&D.type===n)return c}return null}function xi(t,e,n,r){let i=t[n],o=e.data;if(qT(i)){let s=i;s.resolving&&Mb(Sb(o[n]));let u=t_(s.canSeeViewProviders);s.resolving=!0;let c,d=s.injectImpl?At(s.injectImpl):null,f=fw(t,r,Y.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&$T(n,o[n],e)}finally{d!==null&&At(d),t_(u),s.resolving=!1,yw()}}return i}function XT(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(os)?t[os]:void 0;return typeof e=="number"?e>=0?e&Iw:eA:e}function n_(t,e,n){let r=1<<t;return!!(n[e+(t>>Ew)]&r)}function r_(t,e){return!(t&Y.Self)&&!(t&Y.Host&&e)}var Cr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Tw(this._tNode,this._lView,e,tc(r),n)}};function eA(){return new Cr(pt(),Ce())}function Li(t){return hs(()=>{let e=t.prototype.constructor,n=e[Nu]||kh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Nu]||kh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function kh(t){return C_(t)?()=>{let e=kh(st(t));return e&&e()}:Di(t)}function tA(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[W]&2048&&!(s[W]&512);){let u=Aw(o,s,n,r|Y.Self,Wt);if(u!==Wt)return u;let c=o.parent;if(!c){let d=s[Q_];if(d){let f=d.get(n,Wt,r);if(f!==Wt)return f}c=Sw(s),s=s[Fi]}o=c}return i}function Sw(t){let e=t[re],n=e.type;return n===2?e.declTNode:n===1?t[$t]:null}function i_(t,e=null,n=null,r){let i=Mw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Mw(t,e=null,n=null,r,i=new Set){let o=[n||St,iT(t)];return r=r||(typeof t=="object"?void 0:at(t)),new us(o,e||ff(),r||null,i)}var Er=class Er{static create(e,n){if(Array.isArray(e))return i_({name:""},n,e,"");{let r=e.name??"";return i_({name:r},e.parent,e.providers,r)}}};Er.THROW_IF_NOT_FOUND=ss,Er.NULL=new Ou,Er.\u0275prov=j({token:Er,providedIn:"any",factory:()=>L(k_)}),Er.__NG_ELEMENT_ID__=-1;var ze=Er;var nA=new O("");nA.__NG_ELEMENT_ID__=t=>{let e=pt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&Y.Optional)return null;throw new $(204,!1)};var rA="ngOriginalError";function fh(t){return t[rA]}var xw=!0,Df=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=iA,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Oh=class extends Df{constructor(e){super(),this._lView=e}onDestroy(e){return sw(this._lView,e),()=>CT(this._lView,e)}};function iA(){return new Oh(Ce())}var ji=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Fh=class extends De{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,K_()&&(this.destroyRef=R(Df,{optional:!0})??void 0,this.pendingTasks=R(ji,{optional:!0})??void 0)}emit(e){let n=ue(null);try{super.next(e)}finally{ue(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let u=super.subscribe({next:i,error:o,complete:s});return e instanceof Ae&&e.add(u),u}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Re=Fh;function zu(...t){}function Rw(t){let e,n;function r(){t=zu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function o_(t){return queueMicrotask(()=>t()),()=>{t=zu}}var Cf="isAngularZone",Gu=Cf+"_ID",oA=0,ce=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=xw}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,uA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Cf)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,sA,zu,zu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},sA={};function bf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function aA(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Rw(()=>{t.callbackScheduled=!1,Vh(t),t.isCheckStableRunning=!0,bf(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Vh(t)}function uA(t){let e=()=>{aA(t)},n=oA++;t._inner=t._inner.fork({name:"angular",properties:{[Cf]:!0,[Gu]:n,[Gu+n]:!0},onInvokeTask:(r,i,o,s,u,c)=>{if(cA(c))return r.invokeTask(o,s,u,c);try{return s_(t),r.invokeTask(o,s,u,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),a_(t)}},onInvoke:(r,i,o,s,u,c,d)=>{try{return s_(t),r.invoke(o,s,u,c,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!lA(c)&&e(),a_(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Vh(t),bf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Vh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function s_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function a_(t){t._nesting--,bf(t)}var Lh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function cA(t){return Nw(t,"__ignore_ng_zone__")}function lA(t){return Nw(t,"__scheduler_tick__")}function Nw(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var mn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&fh(e);for(;n&&fh(n);)n=fh(n);return n||null}},dA=new O("",{providedIn:"root",factory:()=>{let t=R(ce),e=R(mn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function hA(){return uc(pt(),Ce())}function uc(t,e){return new kr(Nt(t,e))}var kr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=hA;let t=e;return t})();function Pw(t){return(t.flags&128)===128}var kw=new Map,fA=0;function pA(){return fA++}function gA(t){kw.set(t[rc],t)}function jh(t){kw.delete(t[rc])}var u_="__ngContext__";function Mr(t,e){Kn(e)?(t[u_]=e[rc],gA(e)):t[u_]=e}function Ow(t){return Vw(t[cs])}function Fw(t){return Vw(t[Bt])}function Vw(t){for(;t!==null&&!En(t);)t=t[Bt];return t}var Uh;function Lw(t){Uh=t}function mA(){if(Uh!==void 0)return Uh;if(typeof document<"u")return document;throw new $(210,!1)}var Tf=new O("",{providedIn:"root",factory:()=>yA}),yA="ng",Af=new O(""),wt=new O("",{providedIn:"platform",factory:()=>"unknown"});var Sf=new O("",{providedIn:"root",factory:()=>mA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vA="h",_A="b";var wA=()=>null;function Mf(t,e,n=!1){return wA(t,e,n)}var jw=!1,IA=new O("",{providedIn:"root",factory:()=>jw});var Bh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vb})`}};function xf(t){return t instanceof Bh?t.changingThisBreaksApplicationSecurity:t}function Uw(t){return t instanceof Function?t():t}function EA(t){return(t??R(ze)).get(wt)==="browser"}var yn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yn||{}),DA;function Rf(t,e){return DA(t,e)}function _i(t,e,n,r,i){if(r!=null){let o,s=!1;En(r)?o=r:Kn(r)&&(s=!0,r=r[In]);let u=Zt(r);t===0&&n!==null?i==null?zw(e,n,u):Wu(e,n,u,i||null,!0):t===1&&n!==null?Wu(e,n,u,i||null,!0):t===2?LA(e,u,s):t===3&&e.destroyNode(u),o!=null&&UA(e,t,o,n,i)}}function CA(t,e){return t.createText(e)}function bA(t,e,n){t.setValue(e,n)}function Bw(t,e,n){return t.createElement(e,n)}function TA(t,e){$w(t,e),e[In]=null,e[$t]=null}function AA(t,e,n,r,i,o){r[In]=i,r[$t]=e,cc(t,r,n,1,i,o)}function $w(t,e){e[gn].changeDetectionScheduler?.notify(9),cc(t,e,e[Le],2,null,null)}function SA(t){let e=t[cs];if(!e)return ph(t[re],t);for(;e;){let n=null;if(Kn(e))n=e[cs];else{let r=e[xt];r&&(n=r)}if(!n){for(;e&&!e[Bt]&&e!==t;)Kn(e)&&ph(e[re],e),e=e[ut];e===null&&(e=t),Kn(e)&&ph(e[re],e),n=e&&e[Bt]}e=n}}function MA(t,e,n,r){let i=xt+r,o=n.length;r>0&&(n[i-1][Bt]=e),r<o-xt?(e[Bt]=n[i],P_(n,xt+r,e)):(n.push(e),e[Bt]=null),e[ut]=n;let s=e[Si];s!==null&&n!==s&&Hw(s,e);let u=e[Mi];u!==null&&u.insertView(t),Mh(e),e[W]|=128}function Hw(t,e){let n=t[ju],r=e[ut];if(Kn(r))t[W]|=Uu.HasTransplantedViews;else{let i=r[ut][Yt];e[Yt]!==i&&(t[W]|=Uu.HasTransplantedViews)}n===null?t[ju]=[e]:n.push(e)}function Nf(t,e){let n=t[ju],r=n.indexOf(e);n.splice(r,1)}function $h(t,e){if(t.length<=xt)return;let n=xt+e,r=t[n];if(r){let i=r[Si];i!==null&&i!==t&&Nf(i,r),e>0&&(t[n-1][Bt]=r[Bt]);let o=ku(t,xt+e);TA(r[re],r);let s=o[Mi];s!==null&&s.detachView(o[re]),r[ut]=null,r[Bt]=null,r[W]&=-129}return r}function qw(t,e){if(!(e[W]&256)){let n=e[Le];n.destroyNode&&cc(t,e,n,3,null,null),SA(e)}}function ph(t,e){if(e[W]&256)return;let n=ue(null);try{e[W]&=-129,e[W]|=256,e[Mt]&&Ld(e[Mt]),RA(t,e),xA(t,e),e[re].type===1&&e[Le].destroy();let r=e[Si];if(r!==null&&En(e[ut])){r!==e[ut]&&Nf(r,e);let i=e[Mi];i!==null&&i.detachView(t)}jh(e)}finally{ue(n)}}function xA(t,e){let n=t.cleanup,r=e[Vu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Vu]=null);let i=e[Wn];if(i!==null){e[Wn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function RA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Sr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let u=i[o[s]],c=o[s+1];Gt(4,u,c);try{c.call(u)}finally{Gt(5,u,c)}}else{Gt(4,i,o);try{o.call(i)}finally{Gt(5,i,o)}}}}}function NA(t,e,n){return PA(t,e.parent,n)}function PA(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[In];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Kt.None||o===Kt.Emulated)return null}return Nt(r,n)}}function Wu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function zw(t,e,n){t.appendChild(e,n)}function c_(t,e,n,r,i){r!==null?Wu(t,e,n,r,i):zw(t,e,n)}function Gw(t,e){return t.parentNode(e)}function kA(t,e){return t.nextSibling(e)}function OA(t,e,n){return VA(t,e,n)}function FA(t,e,n){return t.type&40?Nt(t,n):null}var VA=FA,l_;function Pf(t,e,n,r){let i=NA(t,r,e),o=e[Le],s=r.parent||e[$t],u=OA(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)c_(o,i,n[c],u,!1);else c_(o,i,n,u,!1);l_!==void 0&&l_(o,r,e,n,i)}function is(t,e){if(e!==null){let n=e.type;if(n&3)return Nt(e,t);if(n&4)return Hh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return is(t,r);{let i=t[e.index];return En(i)?Hh(-1,i):Zt(i)}}else{if(n&128)return is(t,e.next);if(n&32)return Rf(e,t)()||Zt(t[e.index]);{let r=Ww(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Tr(t[Yt]);return is(i,r)}else return is(t,e.next)}}}return null}function Ww(t,e){if(e!==null){let r=t[Yt][$t],i=e.projection;return r.projection[i]}return null}function Hh(t,e){let n=xt+t+1;if(n<e.length){let r=e[n],i=r[re].firstChild;if(i!==null)return is(r,i)}return e[br]}function LA(t,e,n){t.removeChild(null,e,n)}function kf(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let u=r[n.index],c=n.type;if(s&&e===0&&(u&&Mr(Zt(u),r),n.flags|=2),(n.flags&32)!==32)if(c&8)kf(t,e,n.child,r,i,o,!1),_i(e,t,i,u,o);else if(c&32){let d=Rf(n,r),f;for(;f=d();)_i(e,t,i,f,o);_i(e,t,i,u,o)}else c&16?jA(t,e,r,n,i,o):_i(e,t,i,u,o);n=s?n.projectionNext:n.next}}function cc(t,e,n,r,i,o){kf(n,r,t.firstChild,e,i,o,!1)}function jA(t,e,n,r,i,o){let s=n[Yt],c=s[$t].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let f=c[d];_i(e,t,i,f,o)}else{let d=c,f=s[ut];Pw(r)&&(d.flags|=128),kf(t,e,d,f,i,o,!0)}}function UA(t,e,n,r,i){let o=n[br],s=Zt(n);o!==s&&_i(e,t,r,o,i);for(let u=xt;u<n.length;u++){let c=n[u];cc(c[re],c,t,e,r,o)}}function BA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:yn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=yn.Important),t.setStyle(n,r,i,o))}}function $A(t,e,n){t.setAttribute(e,"style",n)}function Kw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Qw(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Dh(t,e,r),i!==null&&Kw(t,e,i),o!==null&&$A(t,e,o)}var Ui={};function Pt(t=1){Yw(_t(),Ce(),Vi()+t,!1)}function Yw(t,e,n,r){if(!r)if((e[W]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Su(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Mu(e,o,0,n)}Ar(n)}function ee(t,e=Y.Default){let n=Ce();if(n===null)return L(t,e);let r=pt();return Tw(r,n,st(t),e)}function Zw(){let t="invalid";throw new Error(t)}function Jw(t,e,n,r,i,o){let s=ue(null);try{let u=null;i&Qn.SignalBased&&(u=e[r][dn]),u!==null&&u.transformFn!==void 0&&(o=u.transformFn(o)),i&Qn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,u,o,n,r):J_(e,u,r,o)}finally{ue(s)}}function HA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ar(~i);else{let o=i,s=n[++r],u=n[++r];FT(s,o);let c=e[o];u(2,c)}}}finally{Ar(-1)}}function lc(t,e,n,r,i,o,s,u,c,d,f){let g=e.blueprint.slice();return g[In]=i,g[W]=r|4|128|8|64,(d!==null||t&&t[W]&2048)&&(g[W]|=2048),iw(g),g[ut]=g[Fi]=t,g[Qt]=n,g[gn]=s||t&&t[gn],g[Le]=u||t&&t[Le],g[Ai]=c||t&&t[Ai]||null,g[$t]=o,g[rc]=pA(),g[Fu]=f,g[Q_]=d,g[Yt]=e.type==2?t[Yt]:g,g}function dc(t,e,n,r,i){let o=t.data[e];if(o===null)o=qA(t,e,n,r,i),OT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=RT();o.injectorIndex=s===null?-1:s.injectorIndex}return ps(o,!0),o}function qA(t,e,n,r,i){let o=cw(),s=lw(),u=s?o:o&&o.parent,c=t.data[e]=QA(t,u,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function Xw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function eI(t,e,n,r,i){let o=Vi(),s=r&2;try{Ar(-1),s&&e.length>Zn&&Yw(t,e,Zn,!1),Gt(s?2:0,i),n(r,i)}finally{Ar(o),Gt(s?3:1,i)}}function tI(t,e,n){if(Z_(e)){let r=ue(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let u=t.data[s];if(u.contentQueries){let c=n[s];u.contentQueries(1,c,s)}}}finally{ue(r)}}}function nI(t,e,n){uw()&&(tS(t,e,n,Nt(n,e)),(n.flags&64)===64&&uI(t,e,n))}function rI(t,e,n=Nt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],u=s===-1?n(e,t):t[s];t[i++]=u}}}function iI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Of(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Of(t,e,n,r,i,o,s,u,c,d,f){let g=Zn+r,_=g+i,D=zA(g,_),A=typeof d=="function"?d():d;return D[re]={type:t,blueprint:D,template:n,queries:null,viewQuery:u,declTNode:e,data:D.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:A,incompleteFirstPass:!1,ssrId:f}}function zA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ui);return n}function GA(t,e,n,r){let o=r.get(IA,jw)||n===Kt.ShadowDom,s=t.selectRootElement(e,o);return WA(s),s}function WA(t){KA(t)}var KA=()=>null;function QA(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,u=0;return ST()&&(u|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function d_(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let u,c=Qn.None;Array.isArray(s)?(u=s[0],c=s[1]):u=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}t===0?h_(r,n,d,u,c):h_(r,n,d,u)}return r}function h_(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function YA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,u=[],c=null,d=null;for(let f=r;f<i;f++){let g=o[f],_=n?n.get(g):null,D=_?_.inputs:null,A=_?_.outputs:null;c=d_(0,g.inputs,f,c,D),d=d_(1,g.outputs,f,d,A);let x=c!==null&&s!==null&&!df(e)?hS(c,f,s):null;u.push(x)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=u,e.inputs=c,e.outputs=d}function ZA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function oI(t,e,n,r,i,o,s,u){let c=Nt(e,n),d=e.inputs,f;!u&&d!=null&&(f=d[r])?(Ff(t,n,f,r,i),ic(e)&&JA(n,e.index)):e.type&3?(r=ZA(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function JA(t,e){let n=er(e,t);n[W]&16||(n[W]|=64)}function sI(t,e,n,r){if(uw()){let i=r===null?null:{"":-1},o=rS(t,n),s,u;o===null?s=u=null:[s,u]=o,s!==null&&aI(t,e,n,s,i,u),i&&iS(n,r,i)}n.mergedAttrs=as(n.mergedAttrs,n.attrs)}function aI(t,e,n,r,i,o){for(let d=0;d<r.length;d++)Ph(qu(n,e),t,r[d].type);sS(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let f=r[d];f.providersResolver&&f.providersResolver(f)}let s=!1,u=!1,c=Xw(t,e,r.length,null);for(let d=0;d<r.length;d++){let f=r[d];n.mergedAttrs=as(n.mergedAttrs,f.hostAttrs),aS(t,n,e,c,f),oS(c,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),c++}YA(t,n,o)}function XA(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let u=~e.index;eS(s)!=u&&s.push(u),s.push(n,r,o)}}function eS(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function tS(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;ic(n)&&uS(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||qu(n,e),Mr(r,e);let s=n.initialInputs;for(let u=i;u<o;u++){let c=t.data[u],d=xi(e,t,u,n);if(Mr(d,e),s!==null&&dS(e,u-i,d,c,n,s),Jn(c)){let f=er(n.index,e);f[Qt]=xi(e,t,u,n)}}}function uI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=VT();try{Ar(o);for(let u=r;u<i;u++){let c=t.data[u],d=e[u];xh(u),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&nS(c,d)}}finally{Ar(-1),xh(s)}}function nS(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function rS(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Qb(e,s.selectors,!1))if(r||(r=[]),Jn(s))if(s.findHostDirectiveDefs!==null){let u=[];i=i||new Map,s.findHostDirectiveDefs(s,u,i),r.unshift(...u,s);let c=u.length;qh(t,e,c)}else r.unshift(s),qh(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function qh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function iS(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}}function oS(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Jn(e)&&(n[""]=t)}}function sS(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function aS(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Di(i.type,!0)),s=new Sr(o,Jn(i),ee);t.blueprint[r]=s,n[r]=s,XA(t,e,r,Xw(t,n,i.hostVars,Ui),i)}function uS(t,e,n){let r=Nt(e,t),i=iI(n),o=t[gn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let u=hc(t,lc(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=u}function cS(t,e,n,r,i,o){let s=Nt(t,e);lS(e[Le],s,o,t.value,n,r,i)}function lS(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let u=s==null?uf(o):s(o,r||"",i);t.setAttribute(e,i,u,n)}}function dS(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let u=0;u<s.length;){let c=s[u++],d=s[u++],f=s[u++],g=s[u++];Jw(r,n,c,d,f,g)}}function hS(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let u=0;u<s.length;u+=3)if(s[u]===e){r.push(o,s[u+1],s[u+2],n[i+1]);break}}i+=2}return r}function cI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function lI(t,e){let n=t.contentQueries;if(n!==null){let r=ue(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let u=t.data[s];hw(o),u.contentQueries(2,e[s],s)}}}finally{ue(r)}}}function hc(t,e){return t[cs]?t[Zv][Bt]=e:t[cs]=e,t[Zv]=e,e}function zh(t,e,n){hw(0);let r=ue(null);try{e(t,n)}finally{ue(r)}}function fS(t){return t[Vu]??=[]}function pS(t){return t.cleanup??=[]}function dI(t,e){let n=t[Ai],r=n?n.get(mn,null):null;r&&r.handleError(e)}function Ff(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],u=n[o++],c=n[o++],d=e[s],f=t.data[s];Jw(f,d,r,u,c,i)}}function gS(t,e,n){let r=nw(e,t);bA(t[Le],r,n)}function mS(t,e){let n=er(e,t),r=n[re];yS(r,n);let i=n[In];i!==null&&n[Fu]===null&&(n[Fu]=Mf(i,n[Ai])),Vf(r,n,n[Qt])}function yS(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Vf(t,e,n){mf(e);try{let r=t.viewQuery;r!==null&&zh(1,r,n);let i=t.template;i!==null&&eI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Mi]?.finishViewCreation(t),t.staticContentQueries&&lI(t,e),t.staticViewQueries&&zh(2,t.viewQuery,n);let o=t.components;o!==null&&vS(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[W]&=-5,yf()}}function vS(t,e){for(let n=0;n<e.length;n++)mS(t,e[n])}function _S(t,e,n,r){let i=ue(null);try{let o=e.tView,u=t[W]&4096?4096:16,c=lc(t,o,n,u,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];c[Si]=d;let f=t[Mi];return f!==null&&(c[Mi]=f.createEmbeddedView(o)),Vf(o,c,n),c}finally{ue(i)}}function f_(t,e){return!e||e.firstChild===null||Pw(t)}function wS(t,e,n,r=!0){let i=e[re];if(MA(i,e,t,n),r){let s=Hh(n,t),u=e[Le],c=Gw(u,t[br]);c!==null&&AA(i,t[$t],u,e,c,s)}let o=e[Fu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ku(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Zt(o)),En(o)&&IS(o,r);let s=n.type;if(s&8)Ku(t,e,n.child,r);else if(s&32){let u=Rf(n,e),c;for(;c=u();)r.push(c)}else if(s&16){let u=Ww(e,n);if(Array.isArray(u))r.push(...u);else{let c=Tr(e[Yt]);Ku(c[re],c,u,r,!0)}}n=i?n.projectionNext:n.next}return r}function IS(t,e){for(let n=xt;n<t.length;n++){let r=t[n],i=r[re].firstChild;i!==null&&Ku(r[re],r,i,e)}t[br]!==t[In]&&e.push(t[br])}var hI=[];function ES(t){return t[Mt]??DS(t)}function DS(t){let e=hI.pop()??Object.create(bS);return e.lView=t,e}function CS(t){t.lView[Mt]!==t&&(t.lView=null,hI.push(t))}var bS=oe(k({},Jo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{sc(t.lView)},consumerOnSignalRead(){this.lView[Mt]=this}});function TS(t){let e=t[Mt]??Object.create(AS);return e.lView=t,e}var AS=oe(k({},Jo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Tr(t.lView);for(;e&&!fI(e[re]);)e=Tr(e);e&&ow(e)},consumerOnSignalRead(){this.lView[Mt]=this}});function fI(t){return t.type!==2}var SS=100;function pI(t,e=!0,n=0){let r=t[gn],i=r.rendererFactory,o=!1;o||i.begin?.();try{MS(t,n)}catch(s){throw e&&dI(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function MS(t,e){let n=dw();try{Xv(!0),Gh(t,e);let r=0;for(;oc(t);){if(r===SS)throw new $(103,!1);r++,Gh(t,1)}}finally{Xv(n)}}function xS(t,e,n,r){let i=e[W];if((i&256)===256)return;let o=!1,s=!1;!o&&e[gn].inlineEffectRunner?.flush(),mf(e);let u=!0,c=null,d=null;o||(fI(t)?(d=ES(e),c=Wa(d)):sv()===null?(u=!1,d=TS(e),c=Wa(d)):e[Mt]&&(Ld(e[Mt]),e[Mt]=null));try{iw(e),PT(t.bindingStartIndex),n!==null&&eI(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let D=t.preOrderCheckHooks;D!==null&&Su(e,D,null)}else{let D=t.preOrderHooks;D!==null&&Mu(e,D,0,null),lh(e,0)}if(s||RS(e),gI(e,0),t.contentQueries!==null&&lI(t,e),!o)if(f){let D=t.contentCheckHooks;D!==null&&Su(e,D)}else{let D=t.contentHooks;D!==null&&Mu(e,D,1),lh(e,1)}HA(t,e);let g=t.components;g!==null&&yI(e,g,0);let _=t.viewQuery;if(_!==null&&zh(2,_,r),!o)if(f){let D=t.viewCheckHooks;D!==null&&Su(e,D)}else{let D=t.viewHooks;D!==null&&Mu(e,D,2),lh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ch]){for(let D of e[ch])D();e[ch]=null}o||(e[W]&=-73)}catch(f){throw o||sc(e),f}finally{d!==null&&(Fd(d,c),u&&CS(d)),yf()}}function gI(t,e){for(let n=Ow(t);n!==null;n=Fw(n))for(let r=xt;r<n.length;r++){let i=n[r];mI(i,e)}}function RS(t){for(let e=Ow(t);e!==null;e=Fw(e)){if(!(e[W]&Uu.HasTransplantedViews))continue;let n=e[ju];for(let r=0;r<n.length;r++){let i=n[r];ow(i)}}}function NS(t,e,n){let r=er(e,t);mI(r,n)}function mI(t,e){gf(t)&&Gh(t,e)}function Gh(t,e){let r=t[re],i=t[W],o=t[Mt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Vd(o)),s||=!1,o&&(o.dirty=!1),t[W]&=-9217,s)xS(r,t,r.template,t[Qt]);else if(i&8192){gI(t,1);let u=r.components;u!==null&&yI(t,u,1)}}function yI(t,e,n){for(let r=0;r<e.length;r++)NS(t,e[r],n)}function Lf(t,e){let n=dw()?64:1088;for(t[gn].changeDetectionScheduler?.notify(e);t;){t[W]|=n;let r=Tr(t);if(Ah(t)&&!r)return t;t=r}return null}var xr=class{get rootNodes(){let e=this._lView,n=e[re];return Ku(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qt]}set context(e){this._lView[Qt]=e}get destroyed(){return(this._lView[W]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ut];if(En(e)){let n=e[Lu],r=n?n.indexOf(this):-1;r>-1&&($h(e,r),ku(n,r))}this._attachedToViewContainer=!1}qw(this._lView[re],this._lView)}onDestroy(e){sw(this._lView,e)}markForCheck(){Lf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){Mh(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,pI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ah(this._lView),n=this._lView[Si];n!==null&&!e&&Nf(n,this._lView),$w(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=Ah(this._lView),r=this._lView[Si];r!==null&&!n&&Hw(r,this._lView),Mh(this._lView)}},jf=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=OS;let t=e;return t})(),PS=jf,kS=class extends PS{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=_S(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new xr(i)}};function OS(){return FS(pt(),Ce())}function FS(t,e){return t.type&4?new kS(e,t,uc(t,e)):null}var MB=new RegExp(`^(\\d+)*(${_A}|${vA})*(.*)`);var VS=()=>null;function p_(t,e){return VS(t,e)}var Ri=class{},Uf=new O("",{providedIn:"root",factory:()=>!1});var vI=new O(""),_I=new O(""),Wh=class{},Qu=class{};function LS(t){let e=Error(`No component factory found for ${at(t)}.`);return e[jS]=t,e}var jS="ngComponent";var Kh=class{resolveComponentFactory(e){throw LS(e)}},Gf=class Gf{};Gf.NULL=new Kh;var Ni=Gf,Pi=class{},Bi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>US();let t=e;return t})();function US(){let t=Ce(),e=pt(),n=er(e.index,t);return(Kn(n)?n:t)[Le]}var BS=(()=>{let e=class e{};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Qh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let u=e[s];if(typeof u=="number")o=u;else if(o==1)i=Bv(i,u);else if(o==2){let c=u,d=e[++s];r=Bv(r,c+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Yu=class extends Ni{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Yn(e);return new ki(n,this.ngModule)}};function g_(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,u=o?i[1]:Qn.None;e?n.push({propName:s,templateName:r,isSignal:(u&Qn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function $S(t){let e=t.toLowerCase();return e==="svg"?wT:e==="math"?IT:null}var ki=class extends Qu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=g_(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return g_(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Xb(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ue(null);try{i=i||this.ngModule;let s=i instanceof vt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let u=s?new Rh(e,s):e,c=u.get(Pi,null);if(c===null)throw new $(407,!1);let d=u.get(BS,null),f=u.get(Ri,null),g={rendererFactory:c,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:f},_=c.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",A=r?GA(_,r,this.componentDef.encapsulation,u):Bw(_,D,$S(D)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let M=null;A!==null&&(M=Mf(A,u,!0));let V=Of(0,null,null,1,0,null,null,null,null,null,null),z=lc(null,V,null,x,null,null,g,_,u,null,M);mf(z);let U,Z,be=null;try{let pe=this.componentDef,I,m=null;pe.findHostDirectiveDefs?(I=[],m=new Map,pe.findHostDirectiveDefs(pe,I,m),I.push(pe)):I=[pe];let v=HS(z,A);be=qS(v,A,pe,I,z,g,_),Z=rw(V,Zn),A&&WS(_,pe,A,r),n!==void 0&&KS(Z,this.ngContentSelectors,n),U=GS(be,pe,I,m,z,[QS]),Vf(V,z,null)}catch(pe){throw be!==null&&jh(be),jh(z),pe}finally{yf()}return new Yh(this.componentType,U,uc(Z,z),z,Z)}finally{ue(o)}}},Yh=class extends Wh{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new xr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Ff(o[re],o,i,e,n),this.previousInputValues.set(e,n);let s=er(this._tNode.index,o);Lf(s,1)}}get injector(){return new Cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function HS(t,e){let n=t[re],r=Zn;return t[r]=e,dc(n,r,2,"#host",null)}function qS(t,e,n,r,i,o,s){let u=i[re];zS(r,t,e,s);let c=null;e!==null&&(c=Mf(e,i[Ai]));let d=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=lc(i,iI(n),null,f,i[t.index],t,o,d,null,null,c);return u.firstCreatePass&&qh(u,t,r.length-1),hc(i,g),i[t.index]=g}function zS(t,e,n,r){for(let i of t)e.mergedAttrs=as(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Qh(e,e.mergedAttrs,!0),n!==null&&Qw(r,n,e))}function GS(t,e,n,r,i,o){let s=pt(),u=i[re],c=Nt(s,i);aI(u,i,s,n,null,r);for(let f=0;f<n.length;f++){let g=s.directiveStart+f,_=xi(i,u,g,s);Mr(_,i)}uI(u,i,s),c&&Mr(c,i);let d=xi(i,u,s.directiveStart+s.componentOffset,s);if(t[Qt]=i[Qt]=d,o!==null)for(let f of o)f(d,e);return tI(u,s,i),d}function WS(t,e,n,r){if(r)Dh(t,n,["ng-version","18.2.4"]);else{let{attrs:i,classes:o}=eT(e.selectors[0]);i&&Dh(t,n,i),o&&o.length>0&&Kw(t,n,o.join(" "))}}function KS(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function QS(){let t=pt();If(Ce()[re],t)}var gs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=YS;let t=e;return t})();function YS(){let t=pt();return JS(t,Ce())}var ZS=gs,wI=class extends ZS{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return uc(this._hostTNode,this._hostLView)}get injector(){return new Cr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ef(this._hostTNode,this._hostLView);if(ww(e)){let n=Hu(e,this._hostLView),r=$u(e),i=n[re].data[r+8];return new Cr(i,n)}else return new Cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=m_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-xt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=p_(this._lContainer,e.ssrId),u=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(u,i,f_(this._hostTNode,s)),u}createComponent(e,n,r,i,o){let s=e&&!mT(e),u;if(s)u=n;else{let A=n||{};u=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let c=s?e:new ki(Yn(e)),d=r||this.parentInjector;if(!o&&c.ngModule==null){let x=(s?d:this.parentInjector).get(vt,null);x&&(o=x)}let f=Yn(c.componentType??{}),g=p_(this._lContainer,f?.id??null),_=g?.firstChild??null,D=c.create(d,i,_,o);return this.insertImpl(D.hostView,u,f_(this._hostTNode,g)),D}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ET(i)){let u=this.indexOf(e);if(u!==-1)this.detach(u);else{let c=i[ut],d=new wI(c,c[$t],c[ut]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return wS(s,i,o,r),e.attachToViewContainerRef(),P_(gh(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=m_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=$h(this._lContainer,n);r&&(ku(gh(this._lContainer),n),qw(r[re],r))}detach(e){let n=this._adjustIndex(e,-1),r=$h(this._lContainer,n);return r&&ku(gh(this._lContainer),n)!=null?new xr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function m_(t){return t[Lu]}function gh(t){return t[Lu]||(t[Lu]=[])}function JS(t,e){let n,r=e[t.index];return En(r)?n=r:(n=cI(r,e,null,t),e[t.index]=n,hc(e,n)),eM(n,e,t,r),new wI(n,t,e)}function XS(t,e){let n=t[Le],r=n.createComment(""),i=Nt(e,t),o=Gw(n,i);return Wu(n,o,r,kA(n,i),!1),r}var eM=rM,tM=()=>!1;function nM(t,e,n){return tM(t,e,n)}function rM(t,e,n,r){if(t[br])return;let i;n.type&8?i=Zt(r):i=XS(e,n),t[br]=i}var y_=new Set;function $i(t){y_.has(t)||(y_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function iM(t){return typeof t=="function"&&t[dn]!==void 0}function ms(t,e){$i("NgSignals");let n=yv(t),r=n[dn];return e?.equal&&(r.equal=e.equal),n.set=i=>jd(r,i),n.update=i=>vv(r,i),n.asReadonly=oM.bind(n),n}function oM(){let t=this[dn];if(t.readonlyFn===void 0){let e=()=>this();e[dn]=t,t.readonlyFn=e}return t.readonlyFn}function II(t){return iM(t)&&typeof t.set=="function"}function sM(t){return Object.getPrototypeOf(t.prototype).constructor}function Dn(t){let e=sM(t.type),n=!0,r=[t];for(;e;){let i;if(Jn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Cu(t.inputs),s.inputTransforms=Cu(t.inputTransforms),s.declaredInputs=Cu(t.declaredInputs),s.outputs=Cu(t.outputs);let u=i.hostBindings;u&&dM(t,u);let c=i.viewQuery,d=i.contentQueries;if(c&&cM(t,c),d&&lM(t,d),aM(t,i),wb(t.outputs,i.outputs),Jn(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let u=o[s];u&&u.ngInherit&&u(t),u===Dn&&(n=!1)}}e=Object.getPrototypeOf(e)}uM(r)}function aM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function uM(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=as(i.hostAttrs,n=as(n,i.hostAttrs))}}function Cu(t){return t===Ci?{}:t===St?[]:t}function cM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function lM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function dM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Xn=class{},ls=class{};var Zh=class extends Xn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yu(this);let o=B_(e);this._bootstrapComponents=Uw(o.bootstrap),this._r3Injector=Mw(e,n,[{provide:Xn,useValue:this},{provide:Ni,useValue:this.componentFactoryResolver},...r],at(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Jh=class extends ls{constructor(e){super(),this.moduleType=e}create(e){return new Zh(this.moduleType,e,[])}};var Zu=class extends Xn{constructor(e){super(),this.componentFactoryResolver=new Yu(this),this.instance=null;let n=new us([...e.providers,{provide:Xn,useValue:this},{provide:Ni,useValue:this.componentFactoryResolver}],e.parent||ff(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fc(t,e,n=null){return new Zu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function ys(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function hM(t){return(t.flags&32)===32}function fM(t,e,n,r,i,o,s,u,c){let d=e.consts,f=dc(e,t,4,s||null,u||null);sI(e,n,f,Bu(d,c)),If(e,f);let g=f.tView=Of(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function pM(t,e,n,r,i,o,s,u,c,d){let f=n+Zn,g=e.firstCreatePass?fM(f,e,t,r,i,o,s,u,c):e.data[f];ps(g,!1);let _=gM(e,t,g,n);_f()&&Pf(e,t,_,g),Mr(_,t);let D=cI(_,t,_,g);return t[f]=D,hc(t,D),nM(D,g,t),pf(g)&&nI(e,t,g),c!=null&&rI(t,g,d),g}function vs(t,e,n,r,i,o,s,u){let c=Ce(),d=_t(),f=Bu(d.consts,o);return pM(c,d,t,e,n,r,i,f,s,u),vs}var gM=mM;function mM(t,e,n,r){return wf(!0),e[Le].createComment("")}var wi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(wi||{}),EI=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Dr=class Dr{constructor(){this.ngZone=R(ce),this.scheduler=R(Ri),this.errorHandler=R(mn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Dr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Dr.PHASES=[wi.EarlyRead,wi.Write,wi.MixedReadWrite,wi.Read],Dr.\u0275prov=j({token:Dr,providedIn:"root",factory:()=>new Dr});var Xh=Dr,ef=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Bf(t,e){!e?.injector&&gT(Bf);let n=e?.injector??R(ze);return EA(n)?($i("NgAfterNextRender"),vM(t,n,e,!0)):_M}function yM(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function vM(t,e,n,r){let i=e.get(EI);i.impl??=e.get(Xh);let o=n?.phase??wi.MixedReadWrite,s=new ef(i.impl,yM(t,o),r,e.get(Df));return i.impl.register(s),s}var _M={destroy(){}};function pc(t,e,n,r){let i=Ce(),o=ac();if(ys(i,o,e)){let s=_t(),u=vf();cS(u,i,t,e,n,r)}return pc}function wM(t,e,n,r){return ys(t,ac(),n)?e+uf(n)+r:Ui}function bu(t,e){return t<<17|e<<2}function Rr(t){return t>>17&32767}function IM(t){return(t&2)==2}function EM(t,e){return t&131071|e<<17}function tf(t){return t|2}function Oi(t){return(t&131068)>>2}function mh(t,e){return t&-131069|e<<2}function DM(t){return(t&1)===1}function nf(t){return t|1}function CM(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,u=Rr(s),c=Oi(s);t[r]=n;let d=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||fs(g,f)>0)&&(d=!0)}else f=n;if(i)if(c!==0){let _=Rr(t[u+1]);t[r+1]=bu(_,u),_!==0&&(t[_+1]=mh(t[_+1],r)),t[u+1]=EM(t[u+1],r)}else t[r+1]=bu(u,0),u!==0&&(t[u+1]=mh(t[u+1],r)),u=r;else t[r+1]=bu(c,0),u===0?u=r:t[c+1]=mh(t[c+1],r),c=r;d&&(t[r+1]=tf(t[r+1])),v_(t,f,r,!0),v_(t,f,r,!1),bM(e,f,t,r,o),s=bu(u,c),o?e.classBindings=s:e.styleBindings=s}function bM(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&fs(o,e)>=0&&(n[r+1]=nf(n[r+1]))}function v_(t,e,n,r){let i=t[n+1],o=e===null,s=r?Rr(i):Oi(i),u=!1;for(;s!==0&&(u===!1||o);){let c=t[s],d=t[s+1];TM(c,e)&&(u=!0,t[s+1]=r?nf(d):tf(d)),s=r?Rr(d):Oi(d)}u&&(t[n+1]=r?tf(i):nf(i))}function TM(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?fs(t,e)>=0:!1}function _s(t,e,n){let r=Ce(),i=ac();if(ys(r,i,e)){let o=_t(),s=vf();oI(o,s,r,t,e,r[Le],n,!1)}return _s}function __(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Ff(t,n,o[s],s,r)}function gc(t,e){return AM(t,e,null,!0),gc}function AM(t,e,n,r){let i=Ce(),o=_t(),s=kT(2);if(o.firstUpdatePass&&MM(o,t,s,r),e!==Ui&&ys(i,s,e)){let u=o.data[Vi()];kM(o,u,i,i[Le],t,i[s+1]=OM(e,n),r,s)}}function SM(t,e){return e>=t.expandoStartIndex}function MM(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Vi()],s=SM(t,n);FM(o,r)&&e===null&&!s&&(e=!1),e=xM(i,o,e,r),CM(i,o,e,n,s,r)}}function xM(t,e,n,r){let i=LT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=yh(null,t,e,n,r),n=ds(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=yh(i,t,e,n,r),o===null){let c=RM(t,e,r);c!==void 0&&Array.isArray(c)&&(c=yh(null,t,e,c[1],r),c=ds(c,e.attrs,r),NM(t,e,r,c))}else o=PM(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function RM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Oi(r)!==0)return t[Rr(r)]}function NM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Rr(i)]=r}function PM(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ds(r,s,n)}return ds(r,e.attrs,n)}function yh(t,e,n,r,i){let o=null,s=n.directiveEnd,u=n.directiveStylingLast;for(u===-1?u=n.directiveStart:u++;u<s&&(o=e[u],r=ds(r,o.hostAttrs,i),o!==t);)u++;return t!==null&&(n.directiveStylingLast=u),r}function ds(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ub(t,s,n?!0:e[++o]))}return t===void 0?null:t}function kM(t,e,n,r,i,o,s,u){if(!(e.type&3))return;let c=t.data,d=c[u+1],f=DM(d)?w_(c,e,n,i,Oi(d),s):void 0;if(!Ju(f)){Ju(o)||IM(d)&&(o=w_(c,null,n,i,u,s));let g=nw(Vi(),n);BA(r,s,g,i,o)}}function w_(t,e,n,r,i,o){let s=e===null,u;for(;i>0;){let c=t[i],d=Array.isArray(c),f=d?c[1]:c,g=f===null,_=n[i+1];_===Ui&&(_=g?St:void 0);let D=g?ah(_,r):f===r?_:void 0;if(d&&!Ju(D)&&(D=ah(c,r)),Ju(D)&&(u=D,s))return u;let A=t[i+1];i=s?Rr(A):Oi(A)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(u=ah(c,r))}return u}function Ju(t){return t!==void 0}function OM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=at(xf(t)))),t}function FM(t,e){return(t.flags&(e?8:16))!==0}function VM(t,e,n,r,i,o){let s=e.consts,u=Bu(s,i),c=dc(e,t,2,r,u);return sI(e,n,c,Bu(s,o)),c.attrs!==null&&Qh(c,c.attrs,!1),c.mergedAttrs!==null&&Qh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function he(t,e,n,r){let i=Ce(),o=_t(),s=Zn+t,u=i[Le],c=o.firstCreatePass?VM(s,o,i,e,n,r):o.data[s],d=LM(o,i,c,u,e,t);i[s]=d;let f=pf(c);return ps(c,!0),Qw(u,d,c),!hM(c)&&_f()&&Pf(o,i,d,c),bT()===0&&Mr(d,i),TT(),f&&(nI(o,i,c),tI(o,c,i)),r!==null&&rI(i,c),he}function de(){let t=pt();lw()?NT():(t=t.parent,ps(t,!1));let e=t;MT(e)&&xT(),AT();let n=_t();return n.firstCreatePass&&(If(n,t),Z_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&zT(e)&&__(n,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&GT(e)&&__(n,e,Ce(),e.stylesWithoutHost,!1),de}function Cn(t,e,n,r){return he(t,e,n,r),de(),Cn}var LM=(t,e,n,r,i,o)=>(wf(!0),Bw(r,i,BT()));var Xu="en-US";var jM=Xu;function UM(t){typeof t=="string"&&(jM=t.toLowerCase().replace(/_/g,"-"))}var BM=(t,e,n)=>{};function Ge(t,e,n,r){let i=Ce(),o=_t(),s=pt();return DI(o,i,i[Le],s,t,e,r),Ge}function $M(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let u=e[Vu],c=i[o+2];return u.length>c?u[c]:null}typeof s=="string"&&(o+=2)}return null}function DI(t,e,n,r,i,o,s){let u=pf(r),d=t.firstCreatePass&&pS(t),f=e[Qt],g=fS(e),_=!0;if(r.type&3||s){let x=Nt(r,e),M=s?s(x):x,V=g.length,z=s?Z=>s(Zt(Z[r.index])):r.index,U=null;if(!s&&u&&(U=$M(t,e,i,r.index)),U!==null){let Z=U.__ngLastListenerFn__||U;Z.__ngNextListenerFn__=o,U.__ngLastListenerFn__=o,_=!1}else{o=E_(r,e,f,o),BM(x,i,o);let Z=n.listen(M,i,o);g.push(o,Z),d&&d.push(i,z,V,V+1)}}else o=E_(r,e,f,o);let D=r.outputs,A;if(_&&D!==null&&(A=D[i])){let x=A.length;if(x)for(let M=0;M<x;M+=2){let V=A[M],z=A[M+1],be=e[V][z].subscribe(o),pe=g.length;g.push(o,be),d&&d.push(i,r.index,pe,-(pe+1))}}}function I_(t,e,n,r){let i=ue(null);try{return Gt(6,e,n),n(r)!==!1}catch(o){return dI(t,o),!1}finally{Gt(7,e,n),ue(i)}}function E_(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?er(t.index,e):e;Lf(s,5);let u=I_(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)u=I_(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return u}}function mc(t=1){return UT(t)}function Ee(t,e=""){let n=Ce(),r=_t(),i=t+Zn,o=r.firstCreatePass?dc(r,i,1,e,null):r.data[i],s=HM(r,n,o,e,t);n[i]=s,_f()&&Pf(r,n,s,o),ps(o,!1)}var HM=(t,e,n,r,i)=>(wf(!0),CA(e[Le],r));function $f(t){return Hi("",t,""),$f}function Hi(t,e,n){let r=Ce(),i=wM(r,t,e,n);return i!==Ui&&gS(r,Vi(),i),Hi}function Or(t,e,n){II(e)&&(e=e());let r=Ce(),i=ac();if(ys(r,i,e)){let o=_t(),s=vf();oI(o,s,r,t,e,r[Le],n,!1)}return Or}function qi(t,e){let n=II(t);return n&&t.set(e),n}function Fr(t,e){let n=Ce(),r=_t(),i=pt();return DI(r,n,n[Le],i,t,e),Fr}function qM(t,e,n){let r=_t();if(r.firstCreatePass){let i=Jn(t);rf(n,r.data,r.blueprint,i,!0),rf(e,r.data,r.blueprint,i,!1)}}function rf(t,e,n,r,i){if(t=st(t),Array.isArray(t))for(let o=0;o<t.length;o++)rf(t[o],e,n,r,i);else{let o=_t(),s=Ce(),u=pt(),c=Ti(t)?t:st(t.provide),d=W_(t),f=u.providerIndexes&1048575,g=u.directiveStart,_=u.providerIndexes>>20;if(Ti(t)||!t.multi){let D=new Sr(d,i,ee),A=_h(c,e,i?f:f+_,g);A===-1?(Ph(qu(u,s),o,c),vh(o,t,e.length),e.push(c),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(D),s.push(D)):(n[A]=D,s[A]=D)}else{let D=_h(c,e,f+_,g),A=_h(c,e,f,f+_),x=D>=0&&n[D],M=A>=0&&n[A];if(i&&!M||!i&&!x){Ph(qu(u,s),o,c);let V=WM(i?GM:zM,n.length,i,r,d);!i&&M&&(n[A].providerFactory=V),vh(o,t,e.length,0),e.push(c),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(V),s.push(V)}else{let V=CI(n[i?A:D],d,!i&&r);vh(o,t,D>-1?D:A,V)}!i&&r&&M&&n[A].componentProviders++}}}function vh(t,e,n,r){let i=Ti(e),o=uT(e);if(i||o){let c=(o?st(e.useClass):e).prototype.ngOnDestroy;if(c){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=d.indexOf(n);f===-1?d.push(n,[r,c]):d[f+1].push(r,c)}else d.push(n,c)}}}function CI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _h(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function zM(t,e,n,r){return of(this.multi,[])}function GM(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,u=xi(n,n[re],this.providerFactory.index,r);o=u.slice(0,s),of(i,o);for(let c=s;c<u.length;c++)o.push(u[c])}else o=[],of(i,o);return o}function of(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function WM(t,e,n,r,i){let o=new Sr(t,n,ee);return o.multi=[],o.index=e,o.componentProviders=0,CI(o,i,r&&!n),o}function ws(t,e=[]){return n=>{n.providersResolver=(r,i)=>qM(r,i?i(t):t,e)}}var KM=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=q_(!1,r.type),o=i.length>0?fc([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=j({token:e,providedIn:"environment",factory:()=>new e(L(vt))});let t=e;return t})();function kt(t){$i("NgStandalone"),t.getStandaloneInjector=e=>e.get(KM).getOrCreateStandaloneInjector(t)}var vn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Hf=new vn("18.2.4");var yc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var bI=new O("");function Vr(t){return!!t&&typeof t.then=="function"}function TI(t){return!!t&&typeof t.subscribe=="function"}var vc=new O(""),AI=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=R(vc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Vr(s))r.push(s);else if(TI(s)){let u=new Promise((c,d)=>{s.subscribe({complete:c,error:d})});r.push(u)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_c=new O("");function QM(){mv(()=>{throw new $(600,!1)})}function YM(t){return t.isBoundToModule}var ZM=10;function JM(t,e,n){try{let r=n();return Vr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Lr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=R(dA),this.afterRenderManager=R(EI),this.zonelessEnabled=R(Uf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new De,this.afterTick=new De,this.componentTypes=[],this.components=[],this.isStable=R(ji).hasPendingTasks.pipe(K(r=>!r)),this._injector=R(vt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Qu;if(!this._injector.get(AI).done){let D=!o&&U_(r),A=!1;throw new $(405,A)}let u;o?u=r:u=this._injector.get(Ni).resolveComponentFactory(r),this.componentTypes.push(u.componentType);let c=YM(u)?void 0:this._injector.get(Xn),d=i||u.selector,f=u.create(ze.NULL,[],d,c),g=f.location.nativeElement,_=f.injector.get(bI,null);return _?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),xu(this.components,f),_?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let r=ue(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ue(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Pi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<ZM;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:s}of this._views)XM(o,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>oc(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;xu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(_c,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>xu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new $(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function XM(t,e,n,r){if(!n&&!oc(t))return;pI(t,e,n&&!r?0:1)}var sf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},wc=(()=>{let e=class e{compileModuleSync(r){return new Jh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=B_(r),s=Uw(o.declarations).reduce((u,c)=>{let d=Yn(c);return d&&u.push(new ki(d)),u},[]);return new sf(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ex=(()=>{let e=class e{constructor(){this.zone=R(ce),this.changeDetectionScheduler=R(Ri),this.applicationRef=R(Lr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tx=new O("",{factory:()=>!1});function SI({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ce(oe(k({},xI()),{scheduleInRootZone:n})),[{provide:ce,useFactory:t},{provide:bi,multi:!0,useFactory:()=>{let r=R(ex,{optional:!0});return()=>r.initialize()}},{provide:bi,multi:!0,useFactory:()=>{let r=R(nx);return()=>{r.initialize()}}},e===!0?{provide:vI,useValue:!0}:[],{provide:_I,useValue:n??xw}]}function MI(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=SI({ngZoneFactory:()=>{let i=xI(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&$i("NgZone_CoalesceEvent"),new ce(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Jt([{provide:tx,useValue:!0},{provide:Uf,useValue:!1},r])}function xI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nx=(()=>{let e=class e{constructor(){this.subscription=new Ae,this.initialized=!1,this.zone=R(ce),this.pendingTasks=R(ji)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ce.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rx=(()=>{let e=class e{constructor(){this.appRef=R(Lr),this.taskService=R(ji),this.ngZone=R(ce),this.zonelessEnabled=R(Uf),this.disableScheduling=R(vI,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ae,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Gu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(_I,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Lh||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?o_:Rw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Gu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,o_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ix(){return typeof $localize<"u"&&$localize.locale||Xu}var qf=new O("",{providedIn:"root",factory:()=>R(qf,Y.Optional|Y.SkipSelf)||ix()});var RI=new O("");function Tu(t){return!!t.platformInjector}function ox(t){let e=Tu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ce);return n.run(()=>{Tu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(mn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Tu(t)){let o=()=>e.destroy(),s=t.platformInjector.get(RI);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{xu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return JM(r,n,()=>{let o=e.get(AI);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(qf,Xu);if(UM(s||Xu),Tu(t)){let u=e.get(Lr);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return sx(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function sx(t,e){let n=t.injector.get(Lr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var Ru=null;function ax(t=[],e){return ze.create({name:e,providers:[{provide:nc,useValue:"platform"},{provide:RI,useValue:new Set([()=>Ru=null])},...t]})}function ux(t=[]){if(Ru)return Ru;let e=ax(t);return Ru=e,QM(),cx(e),e}function cx(t){t.get(Af,null)?.forEach(n=>n())}function zf(){return!1}var jr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=lx;let t=e;return t})();function lx(t){return dx(pt(),Ce(),(t&16)===16)}function dx(t,e,n){if(ic(t)&&!n){let r=er(t.index,e);return new xr(r,r)}else if(t.type&175){let r=e[Yt];return new xr(r,e)}return null}function NI(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=ux(r),o=[SI({}),{provide:Ri,useExisting:rx},...n||[]],s=new Zu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return ox({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var PI=new O("");function Is(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Es(t,e){$i("NgSignals");let n=fv(t);return e?.equal&&(n[dn].equal=e.equal),n}function bn(t){let e=ue(null);try{return t()}finally{ue(e)}}function kI(t){let e=Yn(t);if(!e)return null;let n=new ki(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var LI=null;function An(){return LI}function jI(t){LI??=t}var Ic=class{};var lt=new O(""),Yf=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>R(px),providedIn:"platform"});let t=e;return t})(),UI=new O(""),px=(()=>{let e=class e extends Yf{constructor(){super(),this._doc=R(lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return An().getBaseHref(this._doc)}onPopState(r){let i=An().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=An().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Zf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function OI(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Tn(t){return t&&t[0]!=="?"?"?"+t:t}var Ur=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>R(Jf),providedIn:"root"});let t=e;return t})(),BI=new O(""),Jf=(()=>{let e=class e extends Ur{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??R(lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Zf(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Tn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let u=this.prepareExternalUrl(o+Tn(s));this._platformLocation.pushState(r,i,u)}replaceState(r,i,o,s){let u=this.prepareExternalUrl(o+Tn(s));this._platformLocation.replaceState(r,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(L(Yf),L(BI,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$I=(()=>{let e=class e extends Ur{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Zf(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let u=this.prepareExternalUrl(o+Tn(s));u.length==0&&(u=this._platformLocation.pathname),this._platformLocation.pushState(r,i,u)}replaceState(r,i,o,s){let u=this.prepareExternalUrl(o+Tn(s));u.length==0&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(L(Yf),L(BI,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),zi=(()=>{let e=class e{constructor(r){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=yx(OI(FI(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Tn(i))}normalize(r){return e.stripTrailingSlash(mx(this._basePath,FI(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Tn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Tn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Tn,e.joinWithSlash=Zf,e.stripTrailingSlash=OI,e.\u0275fac=function(i){return new(i||e)(L(Ur))},e.\u0275prov=j({token:e,factory:()=>gx(),providedIn:"root"});let t=e;return t})();function gx(){return new zi(L(Ur))}function mx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function FI(t){return t.replace(/\/index.html$/,"")}function yx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function HI(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Dc=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Wf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){VI("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){VI("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ee(gs),ee(jf))},e.\u0275dir=ct({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Wf=class{constructor(){this.$implicit=null,this.ngIf=null}};function VI(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${at(e)}'.`)}var Ds=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=_n({});let t=e;return t})(),Xf="browser",vx="server";function _x(t){return t===Xf}function Cs(t){return t===vx}var qI=(()=>{let e=class e{};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>_x(R(wt))?new Kf(R(lt),window):new Qf});let t=e;return t})(),Kf=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=wx(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function wx(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Qf=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ec=class{};var np=class extends Ic{constructor(){super(...arguments),this.supportsDOMEvents=!0}},rp=class t extends np{static makeCurrent(){jI(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Ix();return n==null?null:Ex(n)}resetBaseElement(){bs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return HI(document.cookie,e)}},bs=null;function Ix(){return bs=bs||document.querySelector("base"),bs?bs.getAttribute("href"):null}function Ex(t){return new URL(t,document.baseURI).pathname}var Dx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Cc=new O(""),QI=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(L(Cc),L(ce))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Ts=class{constructor(e){this._doc=e}},ep="ng-app-id",YI=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Cs(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${ep}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(ep),s;{let u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(ep,this.appId),r.appendChild(u),u}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,u=s.get(i)?.elements;u?u.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(L(lt),L(Tf),L(Sf,8),L(wt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),tp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},op=/%COMP%/g,ZI="%COMP%",Cx=`_nghost-${ZI}`,bx=`_ngcontent-${ZI}`,Tx=!0,Ax=new O("",{providedIn:"root",factory:()=>Tx});function Sx(t){return bx.replace(op,t)}function Mx(t){return Cx.replace(op,t)}function JI(t,e){return e.map(n=>n.replace(op,t))}var GI=(()=>{let e=class e{constructor(r,i,o,s,u,c,d,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=u,this.platformId=c,this.ngZone=d,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Cs(c),this.defaultRenderer=new As(r,u,d,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Kt.ShadowDom&&(i=oe(k({},i),{encapsulation:Kt.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof bc?o.applyToHost(r):o instanceof Ss&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let u=this.doc,c=this.ngZone,d=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case Kt.Emulated:s=new bc(d,f,i,this.appId,g,u,c,_);break;case Kt.ShadowDom:return new ip(d,f,r,i,u,c,this.nonce,_);default:s=new Ss(d,f,i,g,u,c,_);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(L(QI),L(YI),L(Tf),L(Ax),L(lt),L(wt),L(ce),L(Sf))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),As=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(tp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(WI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(WI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=tp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=tp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(yn.DashCase|yn.Important)?e.style.setProperty(n,r,i&yn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&yn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=An().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function WI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ip=class extends As{constructor(e,n,r,i,o,s,u,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=JI(i.id,i.styles);for(let f of d){let g=document.createElement("style");u&&g.setAttribute("nonce",u),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ss=class extends As{constructor(e,n,r,i,o,s,u,c){super(e,o,s,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?JI(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},bc=class extends Ss{constructor(e,n,r,i,o,s,u,c){let d=i+"-"+r.id;super(e,n,r,o,s,u,c,d),this.contentAttr=Sx(d),this.hostAttr=Mx(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},xx=(()=>{let e=class e extends Ts{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(L(lt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Rx=(()=>{let e=class e extends Ts{constructor(r){super(r),this.delegate=R(PI,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(L(lt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),KI=["alt","control","meta","shift"],Nx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Px={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},kx=(()=>{let e=class e extends Ts{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),u=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>An().onAndCancel(r,s.domEventName,u))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),u="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),u="code."),KI.forEach(f=>{let g=i.indexOf(f);g>-1&&(i.splice(g,1),u+=f+".")}),u+=s,i.length!=0||s.length===0)return null;let d={};return d.domEventName=o,d.fullKey=u,d}static matchEventFullKeyCode(r,i){let o=Nx[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),KI.forEach(u=>{if(u!==o){let c=Px[u];c(r)&&(s+=u+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(L(lt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function XI(t,e){return NI(k({rootComponent:t},Ox(e)))}function Ox(t){return{appProviders:[...Ux,...t?.providers??[]],platformProviders:jx}}function Fx(){rp.makeCurrent()}function Vx(){return new mn}function Lx(){return Lw(document),document}var jx=[{provide:wt,useValue:Xf},{provide:Af,useValue:Fx,multi:!0},{provide:lt,useFactory:Lx,deps:[]}];var Ux=[{provide:nc,useValue:"root"},{provide:mn,useFactory:Vx,deps:[]},{provide:Cc,useClass:xx,multi:!0,deps:[lt,ce,wt]},{provide:Cc,useClass:kx,multi:!0,deps:[lt]},{provide:Cc,useClass:Rx,multi:!0},GI,YI,QI,{provide:Pi,useExisting:GI},{provide:Ec,useClass:Dx,deps:[]},[]];var eE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(L(lt))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Q="primary",qs=Symbol("RouteTitle"),lp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Zi(t){return new lp(t)}function $x(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],u=t[o];if(s[0]===":")i[s.substring(1)]=u;else if(s!==u.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Hx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!en(t[n],e[n]))return!1;return!0}function en(t,e){let n=t?dp(t):void 0,r=e?dp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!dE(t[i],e[i]))return!1;return!0}function dp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function dE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function hE(t){return t.length>0?t[t.length-1]:null}function nr(t){return Jd(t)?t:Vr(t)?ge(Promise.resolve(t)):H(t)}var qx={exact:pE,subset:gE},fE={exact:zx,subset:Gx,ignored:()=>!0};function tE(t,e,n){return qx[n.paths](t.root,e.root,n.matrixParams)&&fE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function zx(t,e){return en(t,e)}function pE(t,e,n){if(!$r(t.segments,e.segments)||!Sc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!pE(t.children[r],e.children[r],n))return!1;return!0}function Gx(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>dE(t[n],e[n]))}function gE(t,e,n){return mE(t,e,e.segments,n)}function mE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!$r(i,n)||e.hasChildren()||!Sc(i,n,r))}else if(t.segments.length===n.length){if(!$r(t.segments,n)||!Sc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!gE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!$r(t.segments,i)||!Sc(t.segments,i,r)||!t.children[Q]?!1:mE(t.children[Q],e,o,r)}}function Sc(t,e,n){return e.every((r,i)=>fE[n](t[i].parameters,r.parameters))}var Mn=class{constructor(e=new fe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zi(this.queryParams),this._queryParamMap}toString(){return Qx.serialize(this)}},fe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mc(this)}},Br=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Zi(this.parameters),this._parameterMap}toString(){return vE(this)}};function Wx(t,e){return $r(t,e)&&t.every((n,r)=>en(n.parameters,e[r].parameters))}function $r(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Kx(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Q&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Q&&(n=n.concat(e(i,r)))}),n}var zs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>new Ji,providedIn:"root"});let t=e;return t})(),Ji=class{parse(e){let n=new fp(e);return new Mn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ms(e.root,!0)}`,r=Jx(e.queryParams),i=typeof e.fragment=="string"?`#${Yx(e.fragment)}`:"";return`${n}${r}${i}`}},Qx=new Ji;function Mc(t){return t.segments.map(e=>vE(e)).join("/")}function Ms(t,e){if(!t.hasChildren())return Mc(t);if(e){let n=t.children[Q]?Ms(t.children[Q],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Q&&r.push(`${i}:${Ms(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Kx(t,(r,i)=>i===Q?[Ms(t.children[Q],!1)]:[`${i}:${Ms(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Q]!=null?`${Mc(t)}/${n[0]}`:`${Mc(t)}/(${n.join("//")})`}}function yE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tc(t){return yE(t).replace(/%3B/gi,";")}function Yx(t){return encodeURI(t)}function hp(t){return yE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xc(t){return decodeURIComponent(t)}function nE(t){return xc(t.replace(/\+/g,"%20"))}function vE(t){return`${hp(t.path)}${Zx(t.parameters)}`}function Zx(t){return Object.entries(t).map(([e,n])=>`;${hp(e)}=${hp(n)}`).join("")}function Jx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Tc(n)}=${Tc(i)}`).join("&"):`${Tc(n)}=${Tc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Xx=/^[^\/()?;#]+/;function sp(t){let e=t.match(Xx);return e?e[0]:""}var eR=/^[^\/()?;=#]+/;function tR(t){let e=t.match(eR);return e?e[0]:""}var nR=/^[^=?&#]+/;function rR(t){let e=t.match(nR);return e?e[0]:""}var iR=/^[^&#]+/;function oR(t){let e=t.match(iR);return e?e[0]:""}var fp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Q]=new fe(e,n)),r}parseSegment(){let e=sp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Br(xc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=tR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=sp(this.remaining);i&&(r=i,this.capture(r))}e[xc(n)]=xc(r)}parseQueryParam(e){let n=rR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=oR(this.remaining);s&&(r=s,this.capture(r))}let i=nE(n),o=nE(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=sp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Q);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Q]:new fe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function _E(t){return t.segments.length>0?new fe([],{[Q]:t}):t}function wE(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=wE(i);if(r===Q&&o.segments.length===0&&o.hasChildren())for(let[s,u]of Object.entries(o.children))e[s]=u;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new fe(t.segments,e);return sR(n)}function sR(t){if(t.numberOfChildren===1&&t.children[Q]){let e=t.children[Q];return new fe(t.segments.concat(e.segments),e.children)}return t}function Os(t){return t instanceof Mn}function aR(t,e,n=null,r=null){let i=IE(t);return EE(i,e,n,r)}function IE(t){let e;function n(o){let s={};for(let c of o.children){let d=n(c);s[c.outlet]=d}let u=new fe(o.url,s);return o===t&&(e=u),u}let r=n(t.root),i=_E(r);return e??i}function EE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return ap(i,i,i,n,r);let o=uR(e);if(o.toRoot())return ap(i,i,new fe([],{}),n,r);let s=cR(o,i,t),u=s.processChildren?Ns(s.segmentGroup,s.index,o.commands):CE(s.segmentGroup,s.index,o.commands);return ap(i,s.segmentGroup,u,n,r)}function Rc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Fs(t){return typeof t=="object"&&t!=null&&t.outlets}function ap(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,d])=>{o[c]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let s;t===e?s=n:s=DE(t,e,n);let u=_E(wE(s));return new Mn(u,o,i)}function DE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=DE(o,e,n)}),new fe(t.segments,r)}var Nc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Rc(r[0]))throw new $(4003,!1);let i=r.find(Fs);if(i&&i!==hE(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uR(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Nc(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let u={};return Object.entries(o.outlets).forEach(([c,d])=>{u[c]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:u}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((u,c)=>{c==0&&u==="."||(c==0&&u===""?n=!0:u===".."?e++:u!=""&&i.push(u))}),i):[...i,o]},[]);return new Nc(n,e,r)}var Ki=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function cR(t,e,n){if(t.isAbsolute)return new Ki(e,!0,0);if(!n)return new Ki(e,!1,NaN);if(n.parent===null)return new Ki(n,!0,0);let r=Rc(t.commands[0])?0:1,i=n.segments.length-1+r;return lR(n,i,t.numberOfDoubleDots)}function lR(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Ki(r,!1,i-o)}function dR(t){return Fs(t[0])?t[0].outlets:{[Q]:t}}function CE(t,e,n){if(t??=new fe([],{}),t.segments.length===0&&t.hasChildren())return Ns(t,e,n);let r=hR(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new fe(t.segments.slice(0,r.pathIndex),{});return o.children[Q]=new fe(t.segments.slice(r.pathIndex),t.children),Ns(o,0,i)}else return r.match&&i.length===0?new fe(t.segments,{}):r.match&&!t.hasChildren()?pp(t,e,n):r.match?Ns(t,0,i):pp(t,e,n)}function Ns(t,e,n){if(n.length===0)return new fe(t.segments,{});{let r=dR(n),i={};if(Object.keys(r).some(o=>o!==Q)&&t.children[Q]&&t.numberOfChildren===1&&t.children[Q].segments.length===0){let o=Ns(t.children[Q],e,n);return new fe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=CE(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new fe(t.segments,i)}}function hR(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],u=n[r];if(Fs(u))break;let c=`${u}`,d=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!iE(c,d,s))return o;r+=2}else{if(!iE(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function pp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Fs(o)){let c=fR(o.outlets);return new fe(r,c)}if(i===0&&Rc(n[0])){let c=t.segments[e];r.push(new Br(c.path,rE(n[0]))),i++;continue}let s=Fs(o)?o.outlets[Q]:`${o}`,u=i<n.length-1?n[i+1]:null;s&&u&&Rc(u)?(r.push(new Br(s,rE(u))),i+=2):(r.push(new Br(s,{})),i++)}return new fe(r,{})}function fR(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=pp(new fe([],{}),0,r))}),e}function rE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function iE(t,e,n){return t==n.path&&en(e,n.parameters)}var Ps="imperative",Ue=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ue||{}),Ft=class{constructor(e,n){this.id=e,this.url=n}},Xi=class extends Ft{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ue.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xn=class extends Ft{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ue.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Et=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Et||{}),Pc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Pc||{}),Sn=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ue.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},tr=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ue.NavigationSkipped}},Vs=class extends Ft{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ue.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},kc=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ue.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gp=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ue.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mp=class extends Ft{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ue.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yp=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ue.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vp=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ue.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_p=class{constructor(e){this.route=e,this.type=Ue.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wp=class{constructor(e){this.route=e,this.type=Ue.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ip=class{constructor(e){this.snapshot=e,this.type=Ue.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ep=class{constructor(e){this.snapshot=e,this.type=Ue.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dp=class{constructor(e){this.snapshot=e,this.type=Ue.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cp=class{constructor(e){this.snapshot=e,this.type=Ue.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oc=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ue.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ls=class{},eo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function pR(t,e){return t.providers&&!t._injector&&(t._injector=fc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ht(t){return t.outlet||Q}function gR(t,e){let n=t.filter(r=>Ht(r)===e);return n.push(...t.filter(r=>Ht(r)!==e)),n}function Gs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var bp=class{get injector(){return Gs(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ws(this.rootInjector),this.attachRef=null}},Ws=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new bp(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(L(vt))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Tp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Tp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ap(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ap(e,this._root).map(n=>n.value)}};function Tp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Tp(t,n);if(r)return r}return null}function Ap(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ap(t,n);if(r.length)return r.unshift(e),r}return[]}var It=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Wi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Vc=class extends Fc{constructor(e,n){super(e),this.snapshot=n,Fp(this,e)}toString(){return this.snapshot.toString()}};function bE(t){let e=mR(t),n=new qe([new Br("",{})]),r=new qe({}),i=new qe({}),o=new qe({}),s=new qe(""),u=new Hr(n,r,o,s,i,Q,t,e.root);return u.snapshot=e.root,new Vc(new It(u,[]),e)}function mR(t){let e={},n={},r={},i="",o=new Qi([],e,r,i,n,Q,t,null,{});return new jc("",new It(o,[]))}var Hr=class{constructor(e,n,r,i,o,s,u,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=u,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(K(d=>d[qs]))??H(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(e=>Zi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(e=>Zi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Lc(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&AE(i)&&(r.resolve[qs]=i.title),r}var Qi=class{get title(){return this.data?.[qs]}constructor(e,n,r,i,o,s,u,c,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=u,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},jc=class extends Fc{constructor(e,n){super(n),this.url=e,Fp(this,n)}toString(){return TE(this._root)}};function Fp(t,e){e.value._routerState=t,e.children.forEach(n=>Fp(t,n))}function TE(t){let e=t.children.length>0?` { ${t.children.map(TE).join(", ")} } `:"";return`${t.value}${e}`}function up(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,en(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),en(e.params,n.params)||t.paramsSubject.next(n.params),Hx(e.url,n.url)||t.urlSubject.next(n.url),en(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Sp(t,e){let n=en(t.params,e.params)&&Wx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Sp(t.parent,e.parent))}function AE(t){return typeof t.title=="string"||t.title===null}var Vp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Q,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=R(Ws),this.location=R(gs),this.changeDetector=R(jr),this.inputBinder=R(Hc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=r;let o=this.location,u=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,d=new Mp(r,c,o.injector);this.activated=o.createComponent(u,{index:o.length,injector:d,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ct({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pr]});let t=e;return t})(),Mp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Hr?this.route:e===Ws?this.childContexts:this.parent.get(e,n)}},Hc=new O(""),oE=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=ns([i.queryParams,i.params,i.data]).pipe(Se(([s,u,c],d)=>(c=k(k(k({},s),u),c),d===0?H(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let u=kI(i.component);if(!u){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of u.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function yR(t,e,n){let r=js(t,e._root,n?n._root:void 0);return new Vc(r,e)}function js(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=vR(t,e,n);return new It(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(u=>js(t,u)),s}}let r=_R(e.value),i=e.children.map(o=>js(t,o));return new It(r,i)}}function vR(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return js(t,r,i);return js(t,r)})}function _R(t){return new Hr(new qe(t.url),new qe(t.params),new qe(t.queryParams),new qe(t.fragment),new qe(t.data),t.outlet,t.component,t)}var Us=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},SE="ngNavigationCancelingError";function Uc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Os(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ME(!1,Et.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function ME(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[SE]=!0,n.cancellationCode=e,n}function wR(t){return xE(t)&&Os(t.url)}function xE(t){return!!t&&t[SE]}var IR=(t,e,n,r)=>K(i=>(new xp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),xp=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),up(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Wi(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Wi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:u})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Wi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Wi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Cp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ep(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(up(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(u.contexts),s.attachRef=u.componentRef,s.route=u.route.value,s.outlet&&s.outlet.attach(u.componentRef,u.route.value),up(u.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Bc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Yi=class{constructor(e,n){this.component=e,this.route=n}};function ER(t,e,n){let r=t._root,i=e?e._root:null;return xs(r,i,n,[r.value])}function DR(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function no(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!b_(t)?t:e.get(t):r}function xs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Wi(e);return t.children.forEach(s=>{CR(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,u])=>ks(u,n.getContext(s),i)),i}function CR(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=bR(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Bc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?xs(t,e,u?u.children:null,r,i):xs(t,e,n,r,i),c&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Yi(u.outlet.component,s))}else s&&ks(e,u,i),i.canActivateChecks.push(new Bc(r)),o.component?xs(t,null,u?u.children:null,r,i):xs(t,null,n,r,i);return i}function bR(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!$r(t.url,e.url);case"pathParamsOrQueryParamsChange":return!$r(t.url,e.url)||!en(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sp(t,e)||!en(t.queryParams,e.queryParams);case"paramsChange":default:return!Sp(t,e)}}function ks(t,e,n){let r=Wi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ks(s,e.children.getContext(o),n):ks(s,null,n):ks(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Yi(e.outlet.component,i)):n.canDeactivateChecks.push(new Yi(null,i)):n.canDeactivateChecks.push(new Yi(null,i))}function Ks(t){return typeof t=="function"}function TR(t){return typeof t=="boolean"}function AR(t){return t&&Ks(t.canLoad)}function SR(t){return t&&Ks(t.canActivate)}function MR(t){return t&&Ks(t.canActivateChild)}function xR(t){return t&&Ks(t.canDeactivate)}function RR(t){return t&&Ks(t.canMatch)}function RE(t){return t instanceof fn||t?.name==="EmptyError"}var Ac=Symbol("INITIAL_VALUE");function to(){return Se(t=>ns(t.map(e=>e.pipe(pn(1),oh(Ac)))).pipe(K(e=>{for(let n of e)if(n!==!0){if(n===Ac)return Ac;if(n===!1||NR(n))return n}return!0}),ft(e=>e!==Ac),pn(1)))}function NR(t){return Os(t)||t instanceof Us}function PR(t,e){return xe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?H(oe(k({},n),{guardsResult:!0})):kR(s,r,i,t).pipe(xe(u=>u&&TR(u)?OR(r,o,t,e):H(u)),K(u=>oe(k({},n),{guardsResult:u})))})}function kR(t,e,n,r){return ge(t).pipe(xe(i=>UR(i.component,i.route,n,e,r)),Tt(i=>i!==!0,!0))}function OR(t,e,n,r){return ge(e).pipe(Ir(i=>gi(VR(i.route.parent,r),FR(i.route,r),jR(t,i.path,n),LR(t,i.route,n))),Tt(i=>i!==!0,!0))}function FR(t,e){return t!==null&&e&&e(new Dp(t)),H(!0)}function VR(t,e){return t!==null&&e&&e(new Ip(t)),H(!0)}function LR(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(o=>_u(()=>{let s=Gs(e)??n,u=no(o,s),c=SR(u)?u.canActivate(e,t):Xt(s,()=>u(e,t));return nr(c).pipe(Tt())}));return H(i).pipe(to())}function jR(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>DR(s)).filter(s=>s!==null).map(s=>_u(()=>{let u=s.guards.map(c=>{let d=Gs(s.node)??n,f=no(c,d),g=MR(f)?f.canActivateChild(r,t):Xt(d,()=>f(r,t));return nr(g).pipe(Tt())});return H(u).pipe(to())}));return H(o).pipe(to())}function UR(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(u=>{let c=Gs(e)??i,d=no(u,c),f=xR(d)?d.canDeactivate(t,e,n,r):Xt(c,()=>d(t,e,n,r));return nr(f).pipe(Tt())});return H(s).pipe(to())}function BR(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return H(!0);let o=i.map(s=>{let u=no(s,t),c=AR(u)?u.canLoad(e,n):Xt(t,()=>u(e,n));return nr(c)});return H(o).pipe(to(),NE(r))}function NE(t){return zd(Ve(e=>{if(typeof e!="boolean")throw Uc(t,e)}),K(e=>e===!0))}function $R(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let u=no(s,t),c=RR(u)?u.canMatch(e,n):Xt(t,()=>u(e,n));return nr(c)});return H(o).pipe(to(),NE(r))}var Bs=class{constructor(e){this.segmentGroup=e||null}},$s=class extends Error{constructor(e){super(),this.urlTree=e}};function Gi(t){return pi(new Bs(t))}function HR(t){return pi(new $(4e3,!1))}function qR(t){return pi(ME(!1,Et.GuardRejected))}var Rp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[Q])return HR(`${e.redirectTo}`);i=i.children[Q]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let u=n,{queryParams:c,fragment:d,routeConfig:f,url:g,outlet:_,params:D,data:A,title:x}=i,M=Xt(o,()=>u({params:D,data:A,queryParams:c,fragment:d,routeConfig:f,url:g,outlet:_,title:x}));if(M instanceof Mn)throw new $s(M);n=M}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new $s(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Mn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let u=o.substring(1);r[i]=n[u]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([u,c])=>{s[u]=this.createSegmentGroup(e,c,r,i)}),new fe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Np={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zR(t,e,n,r,i){let o=PE(t,e,n);return o.matched?(r=pR(e,r),$R(r,e,n,i).pipe(K(s=>s===!0?o:k({},Np)))):H(o)}function PE(t,e,n){if(e.path==="**")return GR(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},Np):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||$x)(n,t,e);if(!i)return k({},Np);let o={};Object.entries(i.posParams??{}).forEach(([u,c])=>{o[u]=c.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function GR(t){return{matched:!0,parameters:t.length>0?hE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function sE(t,e,n,r){return n.length>0&&QR(t,n,r)?{segmentGroup:new fe(e,KR(r,new fe(n,t.children))),slicedSegments:[]}:n.length===0&&YR(t,n,r)?{segmentGroup:new fe(t.segments,WR(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new fe(t.segments,t.children),slicedSegments:n}}function WR(t,e,n,r){let i={};for(let o of n)if(qc(t,e,o)&&!r[Ht(o)]){let s=new fe([],{});i[Ht(o)]=s}return k(k({},r),i)}function KR(t,e){let n={};n[Q]=e;for(let r of t)if(r.path===""&&Ht(r)!==Q){let i=new fe([],{});n[Ht(r)]=i}return n}function QR(t,e,n){return n.some(r=>qc(t,e,r)&&Ht(r)!==Q)}function YR(t,e,n){return n.some(r=>qc(t,e,r))}function qc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ZR(t,e,n){return e.length===0&&!t.children[n]}var Pp=class{};function JR(t,e,n,r,i,o,s="emptyOnly"){return new kp(t,e,n,r,i,s,o).recognize()}var XR=31,kp=class{constructor(e,n,r,i,o,s,u){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=u,this.applyRedirects=new Rp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=sE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(K(({children:n,rootSnapshot:r})=>{let i=new It(r,n),o=new jc("",i),s=aR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Qi([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Q,n).pipe(K(r=>({children:r,rootSnapshot:n})),qn(r=>{if(r instanceof $s)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Bs?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(K(s=>s instanceof It?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ge(o).pipe(Ir(s=>{let u=r.children[s],c=gR(n,s);return this.processSegmentGroup(e,c,u,s,i)}),rh((s,u)=>(s.push(...u),s)),zn(null),nh(),xe(s=>{if(s===null)return Gi(r);let u=kE(s);return eN(u),H(u)}))}processSegment(e,n,r,i,o,s,u){return ge(n).pipe(Ir(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,u).pipe(qn(d=>{if(d instanceof Bs)return H(null);throw d}))),Tt(c=>!!c),qn(c=>{if(RE(c))return ZR(r,i,o)?H(new Pp):Gi(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,u,c){return Ht(r)!==s&&(s===Q||!qc(i,o,r))?Gi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Gi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,u){let{matched:c,parameters:d,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=PE(n,i,o);if(!c)return Gi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>XR&&(this.allowRedirects=!1));let D=new Qi(o,d,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,aE(i),Ht(i),i.component??i._loadedComponent??null,i,uE(i)),A=Lc(D,u,this.paramsInheritanceStrategy);D.params=Object.freeze(A.params),D.data=Object.freeze(A.data);let x=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,D,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(xe(M=>this.processSegment(e,r,n,M.concat(_),s,!1,u)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let u=zR(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),u.pipe(Se(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Se(({routes:d})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:D}=c,A=new Qi(_,g,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,aE(r),Ht(r),r.component??r._loadedComponent??null,r,uE(r)),x=Lc(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(x.params),A.data=Object.freeze(x.data);let{segmentGroup:M,slicedSegments:V}=sE(n,_,D,d);if(V.length===0&&M.hasChildren())return this.processChildren(f,d,M,A).pipe(K(U=>new It(A,U)));if(d.length===0&&V.length===0)return H(new It(A,[]));let z=Ht(r)===o;return this.processSegment(f,d,M,V,z?Q:o,!0,A).pipe(K(U=>new It(A,U instanceof It?[U]:[])))}))):Gi(n)))}getChildConfig(e,n,r){return n.children?H({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?H({routes:n._loadedRoutes,injector:n._loadedInjector}):BR(e,n,r,this.urlSerializer).pipe(xe(i=>i?this.configLoader.loadChildren(e,n).pipe(Ve(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):qR(n))):H({routes:[],injector:e})}};function eN(t){t.sort((e,n)=>e.value.outlet===Q?-1:n.value.outlet===Q?1:e.value.outlet.localeCompare(n.value.outlet))}function tN(t){let e=t.value.routeConfig;return e&&e.path===""}function kE(t){let e=[],n=new Set;for(let r of t){if(!tN(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=kE(r.children);e.push(new It(r.value,i))}return e.filter(r=>!n.has(r))}function aE(t){return t.data||{}}function uE(t){return t.resolve||{}}function nN(t,e,n,r,i,o){return xe(s=>JR(t,e,n,r,s.extractedUrl,i,o).pipe(K(({state:u,tree:c})=>oe(k({},s),{targetSnapshot:u,urlAfterRedirects:c}))))}function rN(t,e){return xe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return H(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let d of OE(c))s.add(d);let u=0;return ge(s).pipe(Ir(c=>o.has(c)?iN(c,r,t,e):(c.data=Lc(c,c.parent,t).resolve,H(void 0))),Ve(()=>u++),mi(1),xe(c=>u===s.size?H(n):ot))})}function OE(t){let e=t.children.map(n=>OE(n)).flat();return[t,...e]}function iN(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!AE(i)&&(o[qs]=i.title),oN(o,t,e,r).pipe(K(s=>(t._resolvedData=s,t.data=Lc(t,t.parent,n).resolve,null)))}function oN(t,e,n,r){let i=dp(t);if(i.length===0)return H({});let o={};return ge(i).pipe(xe(s=>sN(t[s],e,n,r).pipe(Tt(),Ve(u=>{if(u instanceof Us)throw Uc(new Ji,u);o[s]=u}))),mi(1),th(o),qn(s=>RE(s)?ot:pi(s)))}function sN(t,e,n,r){let i=Gs(e)??r,o=no(t,i),s=o.resolve?o.resolve(e,n):Xt(i,()=>o(e,n));return nr(s)}function cp(t){return Se(e=>{let n=t(e);return n?ge(n).pipe(K(()=>e)):H(e)})}var FE=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===Q);return i}getResolvedTitleForRoute(r){return r.data[qs]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>R(aN),providedIn:"root"});let t=e;return t})(),aN=(()=>{let e=class e extends FE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(L(eE))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qs=new O("",{providedIn:"root",factory:()=>({})}),uN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Rt({type:e,selectors:[["ng-component"]],standalone:!0,features:[kt],decls:1,vars:0,template:function(i,o){i&1&&Cn(0,"router-outlet")},dependencies:[Vp],encapsulation:2});let t=e;return t})();function Lp(t){let e=t.children&&t.children.map(Lp),n=e?oe(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Q&&(n.component=uN),n}var Hs=new O(""),jp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=R(wc)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return H(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=nr(r.loadComponent()).pipe(K(VE),Ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),rs(()=>{this.componentLoaders.delete(r)})),o=new li(i,()=>new De).pipe(ci());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return H({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=cN(i,this.compiler,r,this.onLoadEndListener).pipe(rs(()=>{this.childrenLoaders.delete(i)})),u=new li(s,()=>new De).pipe(ci());return this.childrenLoaders.set(i,u),u}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cN(t,e,n,r){return nr(t.loadChildren()).pipe(K(VE),xe(i=>i instanceof ls||Array.isArray(i)?H(i):ge(e.compileModuleAsync(i))),K(i=>{r&&r(t);let o,s,u=!1;return Array.isArray(i)?(s=i,u=!0):(o=i.create(n).injector,s=o.get(Hs,[],{optional:!0,self:!0}).flat()),{routes:s.map(Lp),injector:o}}))}function lN(t){return t&&typeof t=="object"&&"default"in t}function VE(t){return lN(t)?t.default:t}var Up=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>R(dN),providedIn:"root"});let t=e;return t})(),dN=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),LE=new O(""),jE=new O("");function hN(t,e,n){let r=t.get(jE),i=t.get(lt);return t.get(ce).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),u=i.startViewTransition(()=>(o(),fN(t))),{onViewTransitionCreated:c}=r;return c&&Xt(t,()=>c({transition:u,from:e,to:n})),s})}function fN(t){return new Promise(e=>{Bf({read:()=>setTimeout(e)},{injector:t})})}var pN=new O(""),Bp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new De,this.transitionAbortSubject=new De,this.configLoader=R(jp),this.environmentInjector=R(vt),this.urlSerializer=R(zs),this.rootContexts=R(Ws),this.location=R(zi),this.inputBindingEnabled=R(Hc,{optional:!0})!==null,this.titleStrategy=R(FE),this.options=R(Qs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=R(Up),this.createViewTransition=R(LE,{optional:!0}),this.navigationErrorHandler=R(pN,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null;let r=o=>this.events.next(new _p(o)),i=o=>this.events.next(new wp(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(oe(k(k({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new qe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ps,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ft(s=>s.id!==0),K(s=>oe(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Se(s=>{let u=!1,c=!1;return H(s).pipe(Se(d=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Et.SupersededByNewNavigation),ot;this.currentTransition=s,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?oe(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=d.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&g!=="reload"){let _="";return this.events.next(new tr(d.id,this.urlSerializer.serialize(d.rawUrl),_,Pc.IgnoredSameUrlNavigation)),d.resolve(!1),ot}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return H(d).pipe(Se(_=>{let D=this.transitions?.getValue();return this.events.next(new Xi(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),D!==this.transitions?.getValue()?ot:Promise.resolve(_)}),nN(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(_=>{s.targetSnapshot=_.targetSnapshot,s.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=oe(k({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let D=new kc(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(D)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:_,extractedUrl:D,source:A,restoredState:x,extras:M}=d,V=new Xi(_,this.urlSerializer.serialize(D),A,x);this.events.next(V);let z=bE(this.rootComponentType).snapshot;return this.currentTransition=s=oe(k({},d),{targetSnapshot:z,urlAfterRedirects:D,extras:oe(k({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=D,H(s)}else{let _="";return this.events.next(new tr(d.id,this.urlSerializer.serialize(d.extractedUrl),_,Pc.IgnoredByUrlHandlingStrategy)),d.resolve(!1),ot}}),Ve(d=>{let f=new gp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),K(d=>(this.currentTransition=s=oe(k({},d),{guards:ER(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),s)),PR(this.environmentInjector,d=>this.events.next(d)),Ve(d=>{if(s.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw Uc(this.urlSerializer,d.guardsResult);let f=new mp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(f)}),ft(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",Et.GuardRejected),!1)),cp(d=>{if(d.guards.canActivateChecks.length)return H(d).pipe(Ve(f=>{let g=new yp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),Se(f=>{let g=!1;return H(f).pipe(rN(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(f,"",Et.NoDataFromResolver)}}))}),Ve(f=>{let g=new vp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),cp(d=>{let f=g=>{let _=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(g.routeConfig).pipe(Ve(D=>{g.component=D}),K(()=>{})));for(let D of g.children)_.push(...f(D));return _};return ns(f(d.targetSnapshot.root)).pipe(zn(null),pn(1))}),cp(()=>this.afterPreactivation()),Se(()=>{let{currentSnapshot:d,targetSnapshot:f}=s,g=this.createViewTransition?.(this.environmentInjector,d.root,f.root);return g?ge(g).pipe(K(()=>s)):H(s)}),K(d=>{let f=yR(r.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s=oe(k({},d),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),Ve(()=>{this.events.next(new Ls)}),IR(this.rootContexts,r.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),pn(1),Ve({next:d=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xn(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{u=!0}}),sh(this.transitionAbortSubject.pipe(Ve(d=>{throw d}))),rs(()=>{!u&&!c&&this.cancelNavigationTransition(s,"",Et.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),qn(d=>{if(c=!0,xE(d))this.events.next(new Sn(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),wR(d)?this.events.next(new eo(d.url,d.navigationBehaviorOptions)):s.resolve(!1);else{let f=new Vs(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0);try{let g=Xt(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(g instanceof Us){let{message:_,cancellationCode:D}=Uc(this.urlSerializer,g);this.events.next(new Sn(s.id,this.urlSerializer.serialize(s.extractedUrl),_,D)),this.events.next(new eo(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(f);let _=r.errorHandler(d);s.resolve(!!_)}}catch(g){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(g)}}return ot}))}))}cancelNavigationTransition(r,i,o){let s=new Sn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gN(t){return t!==Ps}var mN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>R(yN),providedIn:"root"});let t=e;return t})(),Op=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},yN=(()=>{let e=class e extends Op{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Li(e)))(o||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>R(vN),providedIn:"root"});let t=e;return t})(),vN=(()=>{let e=class e extends UE{constructor(){super(...arguments),this.location=R(zi),this.urlSerializer=R(zs),this.options=R(Qs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=R(Up),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Xi)this.stateMemento=this.createStateMemento();else if(r instanceof tr)this.rawUrlTree=i.initialUrl;else if(r instanceof kc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof Ls?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Sn&&(r.code===Et.GuardRejected||r.code===Et.NoDataFromResolver)?this.restoreHistory(i):r instanceof Vs?this.restoreHistory(i,!0):r instanceof xn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof Mn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,u=k(k({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",u)}else{let s=k(k({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Li(e)))(o||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Rs||{});function BE(t,e){t.events.pipe(ft(n=>n instanceof xn||n instanceof Sn||n instanceof Vs||n instanceof tr),K(n=>n instanceof xn||n instanceof tr?Rs.COMPLETE:(n instanceof Sn?n.code===Et.Redirect||n.code===Et.SupersededByNewNavigation:!1)?Rs.REDIRECTING:Rs.FAILED),ft(n=>n!==Rs.REDIRECTING),pn(1)).subscribe(()=>{e()})}function _N(t){throw t}var wN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xe=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=R(yc),this.stateManager=R(UE),this.options=R(Qs,{optional:!0})||{},this.pendingTasks=R(ji),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=R(Bp),this.urlSerializer=R(zs),this.location=R(zi),this.urlHandlingStrategy=R(Up),this._events=new De,this.errorHandler=this.options.errorHandler||_N,this.navigated=!1,this.routeReuseStrategy=R(mN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=R(Hs,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!R(Hc,{optional:!0}),this.eventsSubscription=new Ae,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Sn&&i.code!==Et.Redirect&&i.code!==Et.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof xn)this.navigated=!0;else if(i instanceof eo){let u=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),d=k({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||gN(o.source)},u);this.scheduleNavigation(c,Ps,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}DN(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ps,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},u=o?.navigationId?o:null;if(o){let d=k({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Lp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:u,queryParamsHandling:c,preserveFragment:d}=i,f=d?this.currentUrlTree.fragment:u,g=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":g=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}g!==null&&(g=this.removeEmptyProps(g));let _;try{let D=o?o.snapshot:this.routerState.snapshot.root;_=IE(D)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),_=this.currentUrlTree.root}return EE(_,r,g,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Os(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ps,null,i)}navigate(r,i={skipLocationChange:!1}){return EN(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=k({},wN):i===!1?o=k({},IN):o=i,Os(r))return tE(this.currentUrlTree,r,o);let s=this.parseUrl(r);return tE(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,u){if(this.disposed)return Promise.resolve(!1);let c,d,f;u?(c=u.resolve,d=u.reject,f=u.promise):f=new Promise((_,D)=>{c=_,d=D});let g=this.pendingTasks.add();return BE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:d,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function EN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function DN(t){return!(t instanceof Ls)&&!(t instanceof eo)}var $c=class{};var CN=(()=>{let e=class e{constructor(r,i,o,s,u){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(ft(r=>r instanceof xn),Ir(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=fc(s.providers,r,`Route: ${s.path}`));let u=s._injector??r,c=s._loadedInjector??u;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(u,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return ge(o).pipe(Hn())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=H(null);let s=o.pipe(xe(u=>u===null?H(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??r,u.routes))));if(i.loadComponent&&!i._loadedComponent){let u=this.loader.loadComponent(i);return ge([s,u]).pipe(Hn())}else return s})}};e.\u0275fac=function(i){return new(i||e)(L(Xe),L(wc),L(vt),L($c),L(jp))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$E=new O(""),bN=(()=>{let e=class e{constructor(r,i,o,s,u={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration||="disabled",u.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Xi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof xn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof tr&&r.code===Pc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Oc&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Oc(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Zw()},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function HE(t,...e){return Jt([{provide:Hs,multi:!0,useValue:t},[],{provide:Hr,useFactory:qE,deps:[Xe]},{provide:_c,multi:!0,useFactory:zE},e.map(n=>n.\u0275providers)])}function qE(t){return t.routerState.root}function Ys(t,e){return{\u0275kind:t,\u0275providers:e}}function zE(){let t=R(ze);return e=>{let n=t.get(Lr);if(e!==n.components[0])return;let r=t.get(Xe),i=t.get(GE);t.get($p)===1&&r.initialNavigation(),t.get(WE,null,Y.Optional)?.setUpPreloading(),t.get($E,null,Y.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var GE=new O("",{factory:()=>new De}),$p=new O("",{providedIn:"root",factory:()=>1});function TN(){return Ys(2,[{provide:$p,useValue:0},{provide:vc,multi:!0,deps:[ze],useFactory:e=>{let n=e.get(UI,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Xe),o=e.get(GE);BE(i,()=>{r(!0)}),e.get(Bp).afterPreactivation=()=>(r(!0),o.closed?H(void 0):o),i.initialNavigation()}))}}])}function AN(){return Ys(3,[{provide:vc,multi:!0,useFactory:()=>{let e=R(Xe);return()=>{e.setUpLocationChangeListener()}}},{provide:$p,useValue:2}])}var WE=new O("");function SN(t){return Ys(0,[{provide:WE,useExisting:CN},{provide:$c,useExisting:t}])}function MN(){return Ys(8,[oE,{provide:Hc,useExisting:oE}])}function xN(t){let e=[{provide:LE,useValue:hN},{provide:jE,useValue:k({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ys(9,e)}var cE=new O("ROUTER_FORROOT_GUARD"),RN=[zi,{provide:zs,useClass:Ji},Xe,Ws,{provide:Hr,useFactory:qE,deps:[Xe]},jp,[]],KE=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[RN,[],{provide:Hs,multi:!0,useValue:r},{provide:cE,useFactory:ON,deps:[[Xe,new Je,new N_]]},{provide:Qs,useValue:i||{}},i?.useHash?PN():kN(),NN(),i?.preloadingStrategy?SN(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?FN(i):[],i?.bindToComponentInputs?MN().\u0275providers:[],i?.enableViewTransitions?xN().\u0275providers:[],VN()]}}static forChild(r){return{ngModule:e,providers:[{provide:Hs,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(L(cE,8))},e.\u0275mod=wn({type:e}),e.\u0275inj=_n({});let t=e;return t})();function NN(){return{provide:$E,useFactory:()=>{let t=R(qI),e=R(ce),n=R(Qs),r=R(Bp),i=R(zs);return n.scrollOffset&&t.setOffset(n.scrollOffset),new bN(i,r,t,e,n)}}}function PN(){return{provide:Ur,useClass:$I}}function kN(){return{provide:Ur,useClass:Jf}}function ON(t){return"guarded"}function FN(t){return[t.initialNavigation==="disabled"?AN().\u0275providers:[],t.initialNavigation==="enabledBlocking"?TN().\u0275providers:[]]}var lE=new O("");function VN(){return[{provide:lE,useFactory:zE},{provide:_c,multi:!0,useExisting:lE}]}var LN="firebase",jN="10.13.1";Ze(LN,jN,"app");var rr=new vn("ANGULARFIRE2_VERSION");function Wc(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Zs=(t,e)=>{let n=e?[e]:Ha(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Rn=class{constructor(){return Zs(UN)}},UN="app-check";function ro(){}var Gc=class{zone;delegate;constructor(e,n=Yd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Hp=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ro,{},ro,ro)),n.pipe(Ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ir=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Gc(Zone.current)),this.insideAngular=n.run(()=>new Gc(Zone.current,Qd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(L(ce))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kc(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function BN(t){return Kc().ngZone.runOutsideAngular(()=>t())}function qr(t){return Kc().ngZone.run(()=>t())}function qp(t){return $N(Kc())(t)}function $N(t){return function(n){return n=n.lift(new Hp(t.ngZone)),n.pipe(bt(t.outsideAngular),yt(t.insideAngular))}}var HN=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),qr(()=>t.apply(void 0,r))},Vt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=qr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ro,{},ro,ro))),r[o]=HN(r[o],n));let i=BN(()=>t.apply(this,r));if(!e)if(i instanceof X){let o=Kc();return i.pipe(bt(o.outsideAngular),yt(o.insideAngular))}else return qr(()=>i);return i instanceof X?i.pipe(qp):i instanceof Promise?qr(()=>new Promise((o,s)=>i.then(u=>qr(()=>o(u)),u=>qr(()=>s(u))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:qr(()=>i)};var Nn=class{constructor(e){return e}},zr=class{constructor(){return Ha()}};function zN(t){return t&&t.length===1?t[0]:new Nn(Yo())}var zp=new O("angularfire2._apps"),GN={provide:Nn,useFactory:zN,deps:[[new Je,zp]]},WN={provide:zr,deps:[[new Je,zp]]};function KN(t){return(e,n)=>{let r=n.get(wt);Ze("angularfire",rr.full,"core"),Ze("angularfire",rr.full,"app"),Ze("angular",Hf.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Nn(i)}}function QE(t,...e){return Jt([GN,WN,{provide:zp,useFactory:KN(t),multi:!0,deps:[ce,ze,ir,...e]}])}var Qc=Vt(iv,!0);var YE="auth",Js=class{constructor(e){return e}},Xs=class{constructor(){return Zs(YE)}};var Gp=new O("angularfire2.auth-instances");function qP(t,e){let n=Wc(YE,t,e);return n&&new Js(n)}function zP(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Js(r)}}var GP={provide:Xs,deps:[[new Je,Gp]]},WP={provide:Js,useFactory:qP,deps:[[new Je,Gp],Nn]};function ZE(t,...e){return Ze("angularfire",rr.full,"auth"),Jt([WP,GP,{provide:Gp,useFactory:zP(t),multi:!0,deps:[ce,ze,ir,zr,[new Je,Rn],...e]}])}var JE=Vt(Sd,!0);var Yc=Vt(Nd,!0);var XE=Vt(xd,!0);var eD=Vt(Md,!0);var tD=Vt(Rd,!0);var Zc={projectId:"sala-de-juegos-59d90",appId:"1:1000227605196:web:ed6371a18bbdaa3eb19069",storageBucket:"sala-de-juegos-59d90.appspot.com",apiKey:"AIzaSyAHNTs5amejnX-GYcdKbkUPQYVHEKb1h2g",authDomain:"sala-de-juegos-59d90.firebaseapp.com",messagingSenderId:"1000227605196"};var nD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rD={};var Wp,iD;(function(){var t;function e(I,m){function v(){}v.prototype=m.prototype,I.D=m.prototype,I.prototype=new v,I.prototype.constructor=I,I.C=function(w,E,b){for(var y=Array(arguments.length-2),an=2;an<arguments.length;an++)y[an-2]=arguments[an];return m.prototype[E].apply(w,y)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,m,v){v||(v=0);var w=Array(16);if(typeof m=="string")for(var E=0;16>E;++E)w[E]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(E=0;16>E;++E)w[E]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=I.g[0],v=I.g[1],E=I.g[2];var b=I.g[3],y=m+(b^v&(E^b))+w[0]+3614090360&4294967295;m=v+(y<<7&4294967295|y>>>25),y=b+(E^m&(v^E))+w[1]+3905402710&4294967295,b=m+(y<<12&4294967295|y>>>20),y=E+(v^b&(m^v))+w[2]+606105819&4294967295,E=b+(y<<17&4294967295|y>>>15),y=v+(m^E&(b^m))+w[3]+3250441966&4294967295,v=E+(y<<22&4294967295|y>>>10),y=m+(b^v&(E^b))+w[4]+4118548399&4294967295,m=v+(y<<7&4294967295|y>>>25),y=b+(E^m&(v^E))+w[5]+1200080426&4294967295,b=m+(y<<12&4294967295|y>>>20),y=E+(v^b&(m^v))+w[6]+2821735955&4294967295,E=b+(y<<17&4294967295|y>>>15),y=v+(m^E&(b^m))+w[7]+4249261313&4294967295,v=E+(y<<22&4294967295|y>>>10),y=m+(b^v&(E^b))+w[8]+1770035416&4294967295,m=v+(y<<7&4294967295|y>>>25),y=b+(E^m&(v^E))+w[9]+2336552879&4294967295,b=m+(y<<12&4294967295|y>>>20),y=E+(v^b&(m^v))+w[10]+4294925233&4294967295,E=b+(y<<17&4294967295|y>>>15),y=v+(m^E&(b^m))+w[11]+2304563134&4294967295,v=E+(y<<22&4294967295|y>>>10),y=m+(b^v&(E^b))+w[12]+1804603682&4294967295,m=v+(y<<7&4294967295|y>>>25),y=b+(E^m&(v^E))+w[13]+4254626195&4294967295,b=m+(y<<12&4294967295|y>>>20),y=E+(v^b&(m^v))+w[14]+2792965006&4294967295,E=b+(y<<17&4294967295|y>>>15),y=v+(m^E&(b^m))+w[15]+1236535329&4294967295,v=E+(y<<22&4294967295|y>>>10),y=m+(E^b&(v^E))+w[1]+4129170786&4294967295,m=v+(y<<5&4294967295|y>>>27),y=b+(v^E&(m^v))+w[6]+3225465664&4294967295,b=m+(y<<9&4294967295|y>>>23),y=E+(m^v&(b^m))+w[11]+643717713&4294967295,E=b+(y<<14&4294967295|y>>>18),y=v+(b^m&(E^b))+w[0]+3921069994&4294967295,v=E+(y<<20&4294967295|y>>>12),y=m+(E^b&(v^E))+w[5]+3593408605&4294967295,m=v+(y<<5&4294967295|y>>>27),y=b+(v^E&(m^v))+w[10]+38016083&4294967295,b=m+(y<<9&4294967295|y>>>23),y=E+(m^v&(b^m))+w[15]+3634488961&4294967295,E=b+(y<<14&4294967295|y>>>18),y=v+(b^m&(E^b))+w[4]+3889429448&4294967295,v=E+(y<<20&4294967295|y>>>12),y=m+(E^b&(v^E))+w[9]+568446438&4294967295,m=v+(y<<5&4294967295|y>>>27),y=b+(v^E&(m^v))+w[14]+3275163606&4294967295,b=m+(y<<9&4294967295|y>>>23),y=E+(m^v&(b^m))+w[3]+4107603335&4294967295,E=b+(y<<14&4294967295|y>>>18),y=v+(b^m&(E^b))+w[8]+1163531501&4294967295,v=E+(y<<20&4294967295|y>>>12),y=m+(E^b&(v^E))+w[13]+2850285829&4294967295,m=v+(y<<5&4294967295|y>>>27),y=b+(v^E&(m^v))+w[2]+4243563512&4294967295,b=m+(y<<9&4294967295|y>>>23),y=E+(m^v&(b^m))+w[7]+1735328473&4294967295,E=b+(y<<14&4294967295|y>>>18),y=v+(b^m&(E^b))+w[12]+2368359562&4294967295,v=E+(y<<20&4294967295|y>>>12),y=m+(v^E^b)+w[5]+4294588738&4294967295,m=v+(y<<4&4294967295|y>>>28),y=b+(m^v^E)+w[8]+2272392833&4294967295,b=m+(y<<11&4294967295|y>>>21),y=E+(b^m^v)+w[11]+1839030562&4294967295,E=b+(y<<16&4294967295|y>>>16),y=v+(E^b^m)+w[14]+4259657740&4294967295,v=E+(y<<23&4294967295|y>>>9),y=m+(v^E^b)+w[1]+2763975236&4294967295,m=v+(y<<4&4294967295|y>>>28),y=b+(m^v^E)+w[4]+1272893353&4294967295,b=m+(y<<11&4294967295|y>>>21),y=E+(b^m^v)+w[7]+4139469664&4294967295,E=b+(y<<16&4294967295|y>>>16),y=v+(E^b^m)+w[10]+3200236656&4294967295,v=E+(y<<23&4294967295|y>>>9),y=m+(v^E^b)+w[13]+681279174&4294967295,m=v+(y<<4&4294967295|y>>>28),y=b+(m^v^E)+w[0]+3936430074&4294967295,b=m+(y<<11&4294967295|y>>>21),y=E+(b^m^v)+w[3]+3572445317&4294967295,E=b+(y<<16&4294967295|y>>>16),y=v+(E^b^m)+w[6]+76029189&4294967295,v=E+(y<<23&4294967295|y>>>9),y=m+(v^E^b)+w[9]+3654602809&4294967295,m=v+(y<<4&4294967295|y>>>28),y=b+(m^v^E)+w[12]+3873151461&4294967295,b=m+(y<<11&4294967295|y>>>21),y=E+(b^m^v)+w[15]+530742520&4294967295,E=b+(y<<16&4294967295|y>>>16),y=v+(E^b^m)+w[2]+3299628645&4294967295,v=E+(y<<23&4294967295|y>>>9),y=m+(E^(v|~b))+w[0]+4096336452&4294967295,m=v+(y<<6&4294967295|y>>>26),y=b+(v^(m|~E))+w[7]+1126891415&4294967295,b=m+(y<<10&4294967295|y>>>22),y=E+(m^(b|~v))+w[14]+2878612391&4294967295,E=b+(y<<15&4294967295|y>>>17),y=v+(b^(E|~m))+w[5]+4237533241&4294967295,v=E+(y<<21&4294967295|y>>>11),y=m+(E^(v|~b))+w[12]+1700485571&4294967295,m=v+(y<<6&4294967295|y>>>26),y=b+(v^(m|~E))+w[3]+2399980690&4294967295,b=m+(y<<10&4294967295|y>>>22),y=E+(m^(b|~v))+w[10]+4293915773&4294967295,E=b+(y<<15&4294967295|y>>>17),y=v+(b^(E|~m))+w[1]+2240044497&4294967295,v=E+(y<<21&4294967295|y>>>11),y=m+(E^(v|~b))+w[8]+1873313359&4294967295,m=v+(y<<6&4294967295|y>>>26),y=b+(v^(m|~E))+w[15]+4264355552&4294967295,b=m+(y<<10&4294967295|y>>>22),y=E+(m^(b|~v))+w[6]+2734768916&4294967295,E=b+(y<<15&4294967295|y>>>17),y=v+(b^(E|~m))+w[13]+1309151649&4294967295,v=E+(y<<21&4294967295|y>>>11),y=m+(E^(v|~b))+w[4]+4149444226&4294967295,m=v+(y<<6&4294967295|y>>>26),y=b+(v^(m|~E))+w[11]+3174756917&4294967295,b=m+(y<<10&4294967295|y>>>22),y=E+(m^(b|~v))+w[2]+718787259&4294967295,E=b+(y<<15&4294967295|y>>>17),y=v+(b^(E|~m))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+m&4294967295,I.g[1]=I.g[1]+(E+(y<<21&4294967295|y>>>11))&4294967295,I.g[2]=I.g[2]+E&4294967295,I.g[3]=I.g[3]+b&4294967295}r.prototype.u=function(I,m){m===void 0&&(m=I.length);for(var v=m-this.blockSize,w=this.B,E=this.h,b=0;b<m;){if(E==0)for(;b<=v;)i(this,I,b),b+=this.blockSize;if(typeof I=="string"){for(;b<m;)if(w[E++]=I.charCodeAt(b++),E==this.blockSize){i(this,w),E=0;break}}else for(;b<m;)if(w[E++]=I[b++],E==this.blockSize){i(this,w),E=0;break}}this.h=E,this.o+=m},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var m=1;m<I.length-8;++m)I[m]=0;var v=8*this.o;for(m=I.length-8;m<I.length;++m)I[m]=v&255,v/=256;for(this.u(I),I=Array(16),m=v=0;4>m;++m)for(var w=0;32>w;w+=8)I[v++]=this.g[m]>>>w&255;return I};function o(I,m){var v=u;return Object.prototype.hasOwnProperty.call(v,I)?v[I]:v[I]=m(I)}function s(I,m){this.h=m;for(var v=[],w=!0,E=I.length-1;0<=E;E--){var b=I[E]|0;w&&b==m||(v[E]=b,w=!1)}this.g=v}var u={};function c(I){return-128<=I&&128>I?o(I,function(m){return new s([m|0],0>m?-1:0)}):new s([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return g;if(0>I)return M(d(-I));for(var m=[],v=1,w=0;I>=v;w++)m[w]=I/v|0,v*=4294967296;return new s(m,0)}function f(I,m){if(I.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(I.charAt(0)=="-")return M(f(I.substring(1),m));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=d(Math.pow(m,8)),w=g,E=0;E<I.length;E+=8){var b=Math.min(8,I.length-E),y=parseInt(I.substring(E,E+b),m);8>b?(b=d(Math.pow(m,b)),w=w.j(b).add(d(y))):(w=w.j(v),w=w.add(d(y)))}return w}var g=c(0),_=c(1),D=c(16777216);t=s.prototype,t.m=function(){if(x(this))return-M(this).m();for(var I=0,m=1,v=0;v<this.g.length;v++){var w=this.i(v);I+=(0<=w?w:4294967296+w)*m,m*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(x(this))return"-"+M(this).toString(I);for(var m=d(Math.pow(I,6)),v=this,w="";;){var E=Z(v,m).g;v=V(v,E.j(m));var b=((0<v.g.length?v.g[0]:v.h)>>>0).toString(I);if(v=E,A(v))return b+w;for(;6>b.length;)b="0"+b;w=b+w}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(var m=0;m<I.g.length;m++)if(I.g[m]!=0)return!1;return!0}function x(I){return I.h==-1}t.l=function(I){return I=V(this,I),x(I)?-1:A(I)?0:1};function M(I){for(var m=I.g.length,v=[],w=0;w<m;w++)v[w]=~I.g[w];return new s(v,~I.h).add(_)}t.abs=function(){return x(this)?M(this):this},t.add=function(I){for(var m=Math.max(this.g.length,I.g.length),v=[],w=0,E=0;E<=m;E++){var b=w+(this.i(E)&65535)+(I.i(E)&65535),y=(b>>>16)+(this.i(E)>>>16)+(I.i(E)>>>16);w=y>>>16,b&=65535,y&=65535,v[E]=y<<16|b}return new s(v,v[v.length-1]&-2147483648?-1:0)};function V(I,m){return I.add(M(m))}t.j=function(I){if(A(this)||A(I))return g;if(x(this))return x(I)?M(this).j(M(I)):M(M(this).j(I));if(x(I))return M(this.j(M(I)));if(0>this.l(D)&&0>I.l(D))return d(this.m()*I.m());for(var m=this.g.length+I.g.length,v=[],w=0;w<2*m;w++)v[w]=0;for(w=0;w<this.g.length;w++)for(var E=0;E<I.g.length;E++){var b=this.i(w)>>>16,y=this.i(w)&65535,an=I.i(E)>>>16,Mo=I.i(E)&65535;v[2*w+2*E]+=y*Mo,z(v,2*w+2*E),v[2*w+2*E+1]+=b*Mo,z(v,2*w+2*E+1),v[2*w+2*E+1]+=y*an,z(v,2*w+2*E+1),v[2*w+2*E+2]+=b*an,z(v,2*w+2*E+2)}for(w=0;w<m;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=m;w<2*m;w++)v[w]=0;return new s(v,0)};function z(I,m){for(;(I[m]&65535)!=I[m];)I[m+1]+=I[m]>>>16,I[m]&=65535,m++}function U(I,m){this.g=I,this.h=m}function Z(I,m){if(A(m))throw Error("division by zero");if(A(I))return new U(g,g);if(x(I))return m=Z(M(I),m),new U(M(m.g),M(m.h));if(x(m))return m=Z(I,M(m)),new U(M(m.g),m.h);if(30<I.g.length){if(x(I)||x(m))throw Error("slowDivide_ only works with positive integers.");for(var v=_,w=m;0>=w.l(I);)v=be(v),w=be(w);var E=pe(v,1),b=pe(w,1);for(w=pe(w,2),v=pe(v,2);!A(w);){var y=b.add(w);0>=y.l(I)&&(E=E.add(v),b=y),w=pe(w,1),v=pe(v,1)}return m=V(I,E.j(m)),new U(E,m)}for(E=g;0<=I.l(m);){for(v=Math.max(1,Math.floor(I.m()/m.m())),w=Math.ceil(Math.log(v)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),b=d(v),y=b.j(m);x(y)||0<y.l(I);)v-=w,b=d(v),y=b.j(m);A(b)&&(b=_),E=E.add(b),I=V(I,y)}return new U(E,I)}t.A=function(I){return Z(this,I).h},t.and=function(I){for(var m=Math.max(this.g.length,I.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)&I.i(w);return new s(v,this.h&I.h)},t.or=function(I){for(var m=Math.max(this.g.length,I.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)|I.i(w);return new s(v,this.h|I.h)},t.xor=function(I){for(var m=Math.max(this.g.length,I.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)^I.i(w);return new s(v,this.h^I.h)};function be(I){for(var m=I.g.length+1,v=[],w=0;w<m;w++)v[w]=I.i(w)<<1|I.i(w-1)>>>31;return new s(v,I.h)}function pe(I,m){var v=m>>5;m%=32;for(var w=I.g.length-v,E=[],b=0;b<w;b++)E[b]=0<m?I.i(b+v)>>>m|I.i(b+v+1)<<32-m:I.i(b+v);return new s(E,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iD=rD.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,Wp=rD.Integer=s}).apply(typeof nD<"u"?nD:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pn={};var Kp,Qp,io,Yp,ea,Xc,Zp,Jp,Xp;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,l){if(l)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var C=a[p];if(!(C in h))break e;h=h[C]}a=a[a.length-1],p=h[a],l=l(p),l!=p&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function o(a,l){a instanceof String&&(a+="");var h=0,p=!1,C={next:function(){if(!p&&h<a.length){var T=h++;return{value:l(T,a[T]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return o(this,function(l,h){return h})}});var s=s||{},u=this||self;function c(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function g(a,l,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),a.apply(l,C)}}return function(){return a.apply(l,arguments)}}function _(a,l,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,_.apply(null,arguments)}function D(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,C,T){for(var P=Array(arguments.length-2),me=2;me<arguments.length;me++)P[me-2]=arguments[me];return l.prototype[C].apply(p,P)}}function x(a){let l=a.length;if(0<l){let h=Array(l);for(let p=0;p<l;p++)h[p]=a[p];return h}return[]}function M(a,l){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(c(p)){let C=a.length||0,T=p.length||0;a.length=C+T;for(let P=0;P<T;P++)a[C+P]=p[P]}else a.push(p)}}class V{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function z(a){return/^[\s\xa0]*$/.test(a)}function U(){var a=u.navigator;return a&&(a=a.userAgent)?a:""}function Z(a){return Z[" "](a),a}Z[" "]=function(){};var be=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function pe(a,l,h){for(let p in a)l.call(h,a[p],p,a)}function I(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function m(a){let l={};for(let h in a)l[h]=a[h];return l}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,l){let h,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(h in p)a[h]=p[h];for(let T=0;T<v.length;T++)h=v[T],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function E(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function b(a){u.setTimeout(()=>{throw a},0)}function y(){var a=ed;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class an{constructor(){this.h=this.g=null}add(l,h){let p=Mo.get();p.set(l,h),this.h?this.h.next=p:this.g=p,this.h=p}}var Mo=new V(()=>new d0,a=>a.reset());class d0{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let xo,Ro=!1,ed=new an,Gm=()=>{let a=u.Promise.resolve(void 0);xo=()=>{a.then(h0)}};var h0=()=>{for(var a;a=y();){try{a.h.call(a.g)}catch(h){b(h)}var l=Mo;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}Ro=!1};function jn(){this.s=this.s,this.C=this.C}jn.prototype.s=!1,jn.prototype.ma=function(){this.s||(this.s=!0,this.N())},jn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function We(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var f0=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};u.addEventListener("test",h,l),u.removeEventListener("test",h,l)}catch{}return a}();function No(a,l){if(We.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(be){e:{try{Z(l.nodeName);var C=!0;break e}catch{}C=!1}C||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:p0[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&No.aa.h.call(this)}}A(No,We);var p0={2:"touch",3:"pen",4:"mouse"};No.prototype.h=function(){No.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Po="closure_listenable_"+(1e6*Math.random()|0),g0=0;function m0(a,l,h,p,C){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.ha=C,this.key=++g0,this.da=this.fa=!1}function Ca(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ba(a){this.src=a,this.g={},this.h=0}ba.prototype.add=function(a,l,h,p,C){var T=a.toString();a=this.g[T],a||(a=this.g[T]=[],this.h++);var P=nd(a,l,p,C);return-1<P?(l=a[P],h||(l.fa=!1)):(l=new m0(l,this.src,T,!!p,C),l.fa=h,a.push(l)),l};function td(a,l){var h=l.type;if(h in a.g){var p=a.g[h],C=Array.prototype.indexOf.call(p,l,void 0),T;(T=0<=C)&&Array.prototype.splice.call(p,C,1),T&&(Ca(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function nd(a,l,h,p){for(var C=0;C<a.length;++C){var T=a[C];if(!T.da&&T.listener==l&&T.capture==!!h&&T.ha==p)return C}return-1}var rd="closure_lm_"+(1e6*Math.random()|0),id={};function Wm(a,l,h,p,C){if(p&&p.once)return Qm(a,l,h,p,C);if(Array.isArray(l)){for(var T=0;T<l.length;T++)Wm(a,l[T],h,p,C);return null}return h=ud(h),a&&a[Po]?a.K(l,h,d(p)?!!p.capture:!!p,C):Km(a,l,h,!1,p,C)}function Km(a,l,h,p,C,T){if(!l)throw Error("Invalid event type");var P=d(C)?!!C.capture:!!C,me=sd(a);if(me||(a[rd]=me=new ba(a)),h=me.add(l,h,p,P,T),h.proxy)return h;if(p=y0(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)f0||(C=P),C===void 0&&(C=!1),a.addEventListener(l.toString(),p,C);else if(a.attachEvent)a.attachEvent(Zm(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function y0(){function a(h){return l.call(a.src,a.listener,h)}let l=v0;return a}function Qm(a,l,h,p,C){if(Array.isArray(l)){for(var T=0;T<l.length;T++)Qm(a,l[T],h,p,C);return null}return h=ud(h),a&&a[Po]?a.L(l,h,d(p)?!!p.capture:!!p,C):Km(a,l,h,!0,p,C)}function Ym(a,l,h,p,C){if(Array.isArray(l))for(var T=0;T<l.length;T++)Ym(a,l[T],h,p,C);else p=d(p)?!!p.capture:!!p,h=ud(h),a&&a[Po]?(a=a.i,l=String(l).toString(),l in a.g&&(T=a.g[l],h=nd(T,h,p,C),-1<h&&(Ca(T[h]),Array.prototype.splice.call(T,h,1),T.length==0&&(delete a.g[l],a.h--)))):a&&(a=sd(a))&&(l=a.g[l.toString()],a=-1,l&&(a=nd(l,h,p,C)),(h=-1<a?l[a]:null)&&od(h))}function od(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[Po])td(l.i,a);else{var h=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(h,p,a.capture):l.detachEvent?l.detachEvent(Zm(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=sd(l))?(td(h,a),h.h==0&&(h.src=null,l[rd]=null)):Ca(a)}}}function Zm(a){return a in id?id[a]:id[a]="on"+a}function v0(a,l){if(a.da)a=!0;else{l=new No(l,this);var h=a.listener,p=a.ha||a.src;a.fa&&od(a),a=h.call(p,l)}return a}function sd(a){return a=a[rd],a instanceof ba?a:null}var ad="__closure_events_fn_"+(1e9*Math.random()>>>0);function ud(a){return typeof a=="function"?a:(a[ad]||(a[ad]=function(l){return a.handleEvent(l)}),a[ad])}function Ke(){jn.call(this),this.i=new ba(this),this.M=this,this.F=null}A(Ke,jn),Ke.prototype[Po]=!0,Ke.prototype.removeEventListener=function(a,l,h,p){Ym(this,a,l,h,p)};function rt(a,l){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new We(l,a);else if(l instanceof We)l.target=l.target||a;else{var C=l;l=new We(p,a),w(l,C)}if(C=!0,h)for(var T=h.length-1;0<=T;T--){var P=l.g=h[T];C=Ta(P,p,!0,l)&&C}if(P=l.g=a,C=Ta(P,p,!0,l)&&C,C=Ta(P,p,!1,l)&&C,h)for(T=0;T<h.length;T++)P=l.g=h[T],C=Ta(P,p,!1,l)&&C}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],p=0;p<h.length;p++)Ca(h[p]);delete a.g[l],a.h--}}this.F=null},Ke.prototype.K=function(a,l,h,p){return this.i.add(String(a),l,!1,h,p)},Ke.prototype.L=function(a,l,h,p){return this.i.add(String(a),l,!0,h,p)};function Ta(a,l,h,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var C=!0,T=0;T<l.length;++T){var P=l[T];if(P&&!P.da&&P.capture==h){var me=P.listener,He=P.ha||P.src;P.fa&&td(a.i,P),C=me.call(He,p)!==!1&&C}}return C&&!p.defaultPrevented}function Jm(a,l,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:u.setTimeout(a,l||0)}function Xm(a){a.g=Jm(()=>{a.g=null,a.i&&(a.i=!1,Xm(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class _0 extends jn{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:Xm(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ko(a){jn.call(this),this.h=a,this.g={}}A(ko,jn);var ey=[];function ty(a){pe(a.g,function(l,h){this.g.hasOwnProperty(h)&&od(l)},a),a.g={}}ko.prototype.N=function(){ko.aa.N.call(this),ty(this)},ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cd=u.JSON.stringify,w0=u.JSON.parse,I0=class{stringify(a){return u.JSON.stringify(a,void 0)}parse(a){return u.JSON.parse(a,void 0)}};function ld(){}ld.prototype.h=null;function ny(a){return a.h||(a.h=a.i())}function ry(){}var Oo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dd(){We.call(this,"d")}A(dd,We);function hd(){We.call(this,"c")}A(hd,We);var hr={},iy=null;function Aa(){return iy=iy||new Ke}hr.La="serverreachability";function oy(a){We.call(this,hr.La,a)}A(oy,We);function Fo(a){let l=Aa();rt(l,new oy(l))}hr.STAT_EVENT="statevent";function sy(a,l){We.call(this,hr.STAT_EVENT,a),this.stat=l}A(sy,We);function it(a){let l=Aa();rt(l,new sy(l,a))}hr.Ma="timingevent";function ay(a,l){We.call(this,hr.Ma,a),this.size=l}A(ay,We);function Vo(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){a()},l)}function Lo(){this.g=!0}Lo.prototype.xa=function(){this.g=!1};function E0(a,l,h,p,C,T){a.info(function(){if(a.g)if(T)for(var P="",me=T.split("&"),He=0;He<me.length;He++){var le=me[He].split("=");if(1<le.length){var Qe=le[0];le=le[1];var Ye=Qe.split("_");P=2<=Ye.length&&Ye[1]=="type"?P+(Qe+"="+le+"&"):P+(Qe+"=redacted&")}}else P=null;else P=T;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+l+`
`+h+`
`+P})}function D0(a,l,h,p,C,T,P){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+l+`
`+h+`
`+T+" "+P})}function ti(a,l,h,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+b0(a,h)+(p?" "+p:"")})}function C0(a,l){a.info(function(){return"TIMEOUT: "+l})}Lo.prototype.info=function(){};function b0(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var T=C[0];if(T!="noop"&&T!="stop"&&T!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return cd(h)}catch{return l}}var Sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fd;function Ma(){}A(Ma,ld),Ma.prototype.g=function(){return new XMLHttpRequest},Ma.prototype.i=function(){return{}},fd=new Ma;function Un(a,l,h,p){this.j=a,this.i=l,this.l=h,this.R=p||1,this.U=new ko(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cy}function cy(){this.i=null,this.g="",this.h=!1}var ly={},pd={};function gd(a,l,h){a.L=1,a.v=Pa(un(l)),a.m=h,a.P=!0,dy(a,null)}function dy(a,l){a.F=Date.now(),xa(a),a.A=un(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),by(h.i,"t",p),a.C=0,h=a.j.J,a.h=new cy,a.g=Hy(a.j,h?l:null,!a.m),0<a.O&&(a.M=new _0(_(a.Y,a,a.g),a.O)),l=a.U,h=a.g,p=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(ey[0]=C.toString()),C=ey);for(var T=0;T<C.length;T++){var P=Wm(h,C[T],p||l.handleEvent,!1,l.h||l);if(!P)break;l.g[P.key]=P}l=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),Fo(),E0(a.i,a.u,a.A,a.l,a.R,a.m)}Un.prototype.ca=function(a){a=a.target;let l=this.M;l&&cn(a)==3?l.j():this.Y(a)},Un.prototype.Y=function(a){try{if(a==this.g)e:{let Ye=cn(this.g);var l=this.g.Ba();let ii=this.g.Z();if(!(3>Ye)&&(Ye!=3||this.g&&(this.h.h||this.g.oa()||Ny(this.g)))){this.J||Ye!=4||l==7||(l==8||0>=ii?Fo(3):Fo(2)),md(this);var h=this.g.Z();this.X=h;t:if(hy(this)){var p=Ny(this.g);a="";var C=p.length,T=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fr(this),jo(this);var P="";break t}this.h.i=new u.TextDecoder}for(l=0;l<C;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(T&&l==C-1)});p.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,D0(this.i,this.u,this.A,this.l,this.R,Ye,h),this.o){if(this.T&&!this.K){t:{if(this.g){var me,He=this.g;if((me=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(me)){var le=me;break t}}le=null}if(h=le)ti(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yd(this,h);else{this.o=!1,this.s=3,it(12),fr(this),jo(this);break e}}if(this.P){h=!0;let Lt;for(;!this.J&&this.C<P.length;)if(Lt=T0(this,P),Lt==pd){Ye==4&&(this.s=4,it(14),h=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==ly){this.s=4,it(15),ti(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else ti(this.i,this.l,Lt,null),yd(this,Lt);if(hy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||P.length!=0||this.h.h||(this.s=1,it(16),h=!1),this.o=this.o&&h,!h)ti(this.i,this.l,P,"[Invalid Chunked Response]"),fr(this),jo(this);else if(0<P.length&&!this.W){this.W=!0;var Qe=this.j;Qe.g==this&&Qe.ba&&!Qe.M&&(Qe.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Dd(Qe),Qe.M=!0,it(11))}}else ti(this.i,this.l,P,null),yd(this,P);Ye==4&&fr(this),this.o&&!this.J&&(Ye==4?jy(this.j,this):(this.o=!1,xa(this)))}else H0(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),fr(this),jo(this)}}}catch{}finally{}};function hy(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function T0(a,l){var h=a.C,p=l.indexOf(`
`,h);return p==-1?pd:(h=Number(l.substring(h,p)),isNaN(h)?ly:(p+=1,p+h>l.length?pd:(l=l.slice(p,p+h),a.C=p+h,l)))}Un.prototype.cancel=function(){this.J=!0,fr(this)};function xa(a){a.S=Date.now()+a.I,fy(a,a.I)}function fy(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Vo(_(a.ba,a),l)}function md(a){a.B&&(u.clearTimeout(a.B),a.B=null)}Un.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(C0(this.i,this.A),this.L!=2&&(Fo(),it(17)),fr(this),this.s=2,jo(this)):fy(this,this.S-a)};function jo(a){a.j.G==0||a.J||jy(a.j,a)}function fr(a){md(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,ty(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function yd(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||vd(h.h,a))){if(!a.K&&vd(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)La(h),Fa(h);else break e;Ed(h),it(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=Vo(_(h.Za,h),6e3));if(1>=my(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else gr(h,11)}else if((a.K||h.g==a)&&La(h),!z(l))for(C=h.Da.g.parse(l),l=0;l<C.length;l++){let le=C[l];if(h.T=le[0],le=le[1],h.G==2)if(le[0]=="c"){h.K=le[1],h.ia=le[2];let Qe=le[3];Qe!=null&&(h.la=Qe,h.j.info("VER="+h.la));let Ye=le[4];Ye!=null&&(h.Aa=Ye,h.j.info("SVER="+h.Aa));let ii=le[5];ii!=null&&typeof ii=="number"&&0<ii&&(p=1.5*ii,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Lt=a.g;if(Lt){let Ua=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ua){var T=p.h;T.g||Ua.indexOf("spdy")==-1&&Ua.indexOf("quic")==-1&&Ua.indexOf("h2")==-1||(T.j=T.l,T.g=new Set,T.h&&(_d(T,T.h),T.h=null))}if(p.D){let Cd=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cd&&(p.ya=Cd,we(p.I,p.D,Cd))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var P=a;if(p.qa=$y(p,p.J?p.ia:null,p.W),P.K){yy(p.h,P);var me=P,He=p.L;He&&(me.I=He),me.B&&(md(me),xa(me)),p.g=P}else Vy(p);0<h.i.length&&Va(h)}else le[0]!="stop"&&le[0]!="close"||gr(h,7);else h.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?gr(h,7):Id(h):le[0]!="noop"&&h.l&&h.l.ta(le),h.v=0)}}Fo(4)}catch{}}var A0=class{constructor(a,l){this.g=a,this.map=l}};function py(a){this.l=a||10,u.PerformanceNavigationTiming?(a=u.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gy(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function my(a){return a.h?1:a.g?a.g.size:0}function vd(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function _d(a,l){a.g?a.g.add(l):a.h=l}function yy(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}py.prototype.cancel=function(){if(this.i=vy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function vy(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return x(a.i)}function S0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var l=[],h=a.length,p=0;p<h;p++)l.push(a[p]);return l}l=[],h=0;for(p in a)l[h++]=a[p];return l}function M0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let p in a)l[h++]=p;return l}}}function _y(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=M0(a),p=S0(a),C=p.length,T=0;T<C;T++)l.call(void 0,p[T],h&&h[T],a)}var wy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function x0(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),C=null;if(0<=p){var T=a[h].substring(0,p);C=a[h].substring(p+1)}else T=a[h];l(T,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function pr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof pr){this.h=a.h,Ra(this,a.j),this.o=a.o,this.g=a.g,Na(this,a.s),this.l=a.l;var l=a.i,h=new $o;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),Iy(this,h),this.m=a.m}else a&&(l=String(a).match(wy))?(this.h=!1,Ra(this,l[1]||"",!0),this.o=Uo(l[2]||""),this.g=Uo(l[3]||"",!0),Na(this,l[4]),this.l=Uo(l[5]||"",!0),Iy(this,l[6]||"",!0),this.m=Uo(l[7]||"")):(this.h=!1,this.i=new $o(null,this.h))}pr.prototype.toString=function(){var a=[],l=this.j;l&&a.push(Bo(l,Ey,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(Bo(l,Ey,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Bo(h,h.charAt(0)=="/"?P0:N0,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Bo(h,O0)),a.join("")};function un(a){return new pr(a)}function Ra(a,l,h){a.j=h?Uo(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function Na(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function Iy(a,l,h){l instanceof $o?(a.i=l,F0(a.i,a.h)):(h||(l=Bo(l,k0)),a.i=new $o(l,a.h))}function we(a,l,h){a.i.set(l,h)}function Pa(a){return we(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Uo(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Bo(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,R0),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function R0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ey=/[#\/\?@]/g,N0=/[#\?:]/g,P0=/[#\?]/g,k0=/[#\?@]/g,O0=/#/g;function $o(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function Bn(a){a.g||(a.g=new Map,a.h=0,a.i&&x0(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}t=$o.prototype,t.add=function(a,l){Bn(this),this.i=null,a=ni(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function Dy(a,l){Bn(a),l=ni(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function Cy(a,l){return Bn(a),l=ni(a,l),a.g.has(l)}t.forEach=function(a,l){Bn(this),this.g.forEach(function(h,p){h.forEach(function(C){a.call(l,C,p,this)},this)},this)},t.na=function(){Bn(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let p=0;p<l.length;p++){let C=a[p];for(let T=0;T<C.length;T++)h.push(l[p])}return h},t.V=function(a){Bn(this);let l=[];if(typeof a=="string")Cy(this,a)&&(l=l.concat(this.g.get(ni(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},t.set=function(a,l){return Bn(this),this.i=null,a=ni(this,a),Cy(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function by(a,l,h){Dy(a,l),0<h.length&&(a.i=null,a.g.set(ni(a,l),x(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var p=l[h];let T=encodeURIComponent(String(p)),P=this.V(p);for(p=0;p<P.length;p++){var C=T;P[p]!==""&&(C+="="+encodeURIComponent(String(P[p]))),a.push(C)}}return this.i=a.join("&")};function ni(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function F0(a,l){l&&!a.j&&(Bn(a),a.i=null,a.g.forEach(function(h,p){var C=p.toLowerCase();p!=C&&(Dy(this,p),by(this,C,h))},a)),a.j=l}function V0(a,l){let h=new Lo;if(u.Image){let p=new Image;p.onload=D($n,h,"TestLoadImage: loaded",!0,l,p),p.onerror=D($n,h,"TestLoadImage: error",!1,l,p),p.onabort=D($n,h,"TestLoadImage: abort",!1,l,p),p.ontimeout=D($n,h,"TestLoadImage: timeout",!1,l,p),u.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function L0(a,l){let h=new Lo,p=new AbortController,C=setTimeout(()=>{p.abort(),$n(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(T=>{clearTimeout(C),T.ok?$n(h,"TestPingServer: ok",!0,l):$n(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(C),$n(h,"TestPingServer: error",!1,l)})}function $n(a,l,h,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(h)}catch{}}function j0(){this.g=new I0}function U0(a,l,h){let p=h||"";try{_y(a,function(C,T){let P=C;d(C)&&(P=cd(C)),l.push(p+T+"="+encodeURIComponent(P))})}catch(C){throw l.push(p+"type="+encodeURIComponent("_badmap")),C}}function Ho(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Ho,ld),Ho.prototype.g=function(){return new ka(this.l,this.j)},Ho.prototype.i=function(a){return function(){return a}}({});function ka(a,l){Ke.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ka,Ke),t=ka.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,zo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||u).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,zo(this)),this.g&&(this.readyState=3,zo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ty(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ty(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?qo(this):zo(this),this.readyState==3&&Ty(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,qo(this))},t.Qa=function(a){this.g&&(this.response=a,qo(this))},t.ga=function(){this.g&&qo(this)};function qo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,zo(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function zo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Ay(a){let l="";return pe(a,function(h,p){l+=p,l+=":",l+=h,l+=`\r
`}),l}function wd(a,l,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=Ay(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):we(a,l,h))}function Te(a){Ke.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Te,Ke);var B0=/^https?$/i,$0=["POST","PUT"];t=Te.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fd.g(),this.v=this.o?ny(this.o):ny(fd),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(T){Sy(this,T);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)h.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let T of p.keys())h.set(T,p.get(T));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(T=>T.toLowerCase()=="content-type"),C=u.FormData&&a instanceof u.FormData,!(0<=Array.prototype.indexOf.call($0,l,void 0))||p||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[T,P]of h)this.g.setRequestHeader(T,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ry(this),this.u=!0,this.g.send(a),this.u=!1}catch(T){Sy(this,T)}};function Sy(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,My(a),Oa(a)}function My(a){a.A||(a.A=!0,rt(a,"complete"),rt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,rt(this,"complete"),rt(this,"abort"),Oa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oa(this,!0)),Te.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xy(this):this.bb())},t.bb=function(){xy(this)};function xy(a){if(a.h&&typeof s<"u"&&(!a.v[1]||cn(a)!=4||a.Z()!=2)){if(a.u&&cn(a)==4)Jm(a.Ea,0,a);else if(rt(a,"readystatechange"),cn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=P===0){var C=String(a.D).match(wy)[1]||null;!C&&u.self&&u.self.location&&(C=u.self.location.protocol.slice(0,-1)),p=!B0.test(C?C.toLowerCase():"")}h=p}if(h)rt(a,"complete"),rt(a,"success");else{a.m=6;try{var T=2<cn(a)?a.g.statusText:""}catch{T=""}a.l=T+" ["+a.Z()+"]",My(a)}}finally{Oa(a)}}}}function Oa(a,l){if(a.g){Ry(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||rt(a,"ready");try{h.onreadystatechange=p}catch{}}}function Ry(a){a.I&&(u.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function cn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),w0(l)}};function Ny(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function H0(a){let l={};a=(a.g&&2<=cn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(z(a[p]))continue;var h=E(a[p]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let T=l[C]||[];l[C]=T,T.push(h)}I(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Go(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function Py(a){this.Aa=0,this.i=[],this.j=new Lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Go("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Go("baseRetryDelayMs",5e3,a),this.cb=Go("retryDelaySeedMs",1e4,a),this.Wa=Go("forwardChannelMaxRetries",2,a),this.wa=Go("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new py(a&&a.concurrentRequestLimit),this.Da=new j0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Py.prototype,t.la=8,t.G=1,t.connect=function(a,l,h,p){it(0),this.W=a,this.H=l||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=$y(this,null,this.W),Va(this)};function Id(a){if(ky(a),a.G==3){var l=a.U++,h=un(a.I);if(we(h,"SID",a.K),we(h,"RID",l),we(h,"TYPE","terminate"),Wo(a,h),l=new Un(a,a.j,l),l.L=2,l.v=Pa(un(h)),h=!1,u.navigator&&u.navigator.sendBeacon)try{h=u.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&u.Image&&(new Image().src=l.v,h=!0),h||(l.g=Hy(l.j,null),l.g.ea(l.v)),l.F=Date.now(),xa(l)}By(a)}function Fa(a){a.g&&(Dd(a),a.g.cancel(),a.g=null)}function ky(a){Fa(a),a.u&&(u.clearTimeout(a.u),a.u=null),La(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&u.clearTimeout(a.s),a.s=null)}function Va(a){if(!gy(a.h)&&!a.s){a.s=!0;var l=a.Ga;xo||Gm(),Ro||(xo(),Ro=!0),ed.add(l,a),a.B=0}}function q0(a,l){return my(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Vo(_(a.Ga,a,l),Uy(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new Un(this,this.j,a),T=this.o;if(this.S&&(T?(T=m(T),w(T,this.S)):T=this.S),this.m!==null||this.O||(C.H=T,T=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=Fy(this,C,l),h=un(this.I),we(h,"RID",a),we(h,"CVER",22),this.D&&we(h,"X-HTTP-Session-Id",this.D),Wo(this,h),T&&(this.O?l="headers="+encodeURIComponent(String(Ay(T)))+"&"+l:this.m&&wd(h,this.m,T)),_d(this.h,C),this.Ua&&we(h,"TYPE","init"),this.P?(we(h,"$req",l),we(h,"SID","null"),C.T=!0,gd(C,h,null)):gd(C,h,l),this.G=2}}else this.G==3&&(a?Oy(this,a):this.i.length==0||gy(this.h)||Oy(this))};function Oy(a,l){var h;l?h=l.l:h=a.U++;let p=un(a.I);we(p,"SID",a.K),we(p,"RID",h),we(p,"AID",a.T),Wo(a,p),a.m&&a.o&&wd(p,a.m,a.o),h=new Un(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=Fy(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),_d(a.h,h),gd(h,p,l)}function Wo(a,l){a.H&&pe(a.H,function(h,p){we(l,p,h)}),a.l&&_y({},function(h,p){we(l,p,h)})}function Fy(a,l,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var C=a.i;let T=-1;for(;;){let P=["count="+h];T==-1?0<h?(T=C[0].g,P.push("ofs="+T)):T=0:P.push("ofs="+T);let me=!0;for(let He=0;He<h;He++){let le=C[He].g,Qe=C[He].map;if(le-=T,0>le)T=Math.max(0,C[He].g-100),me=!1;else try{U0(Qe,P,"req"+le+"_")}catch{p&&p(Qe)}}if(me){p=P.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,p}function Vy(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;xo||Gm(),Ro||(xo(),Ro=!0),ed.add(l,a),a.v=0}}function Ed(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Vo(_(a.Fa,a),Uy(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Ly(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Vo(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Fa(this),Ly(this))};function Dd(a){a.A!=null&&(u.clearTimeout(a.A),a.A=null)}function Ly(a){a.g=new Un(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=un(a.qa);we(l,"RID","rpc"),we(l,"SID",a.K),we(l,"AID",a.T),we(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&we(l,"TO",a.ja),we(l,"TYPE","xmlhttp"),Wo(a,l),a.m&&a.o&&wd(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Pa(un(l)),h.m=null,h.P=!0,dy(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Fa(this),Ed(this),it(19))};function La(a){a.C!=null&&(u.clearTimeout(a.C),a.C=null)}function jy(a,l){var h=null;if(a.g==l){La(a),Dd(a),a.g=null;var p=2}else if(vd(a.h,l))h=l.D,yy(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var C=a.B;p=Aa(),rt(p,new ay(p,h)),Va(a)}else Vy(a);else if(C=l.s,C==3||C==0&&0<l.X||!(p==1&&q0(a,l)||p==2&&Ed(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),C){case 1:gr(a,5);break;case 4:gr(a,10);break;case 3:gr(a,6);break;default:gr(a,2)}}}function Uy(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function gr(a,l){if(a.j.info("Error code "+l),l==2){var h=_(a.fb,a),p=a.Xa;let C=!p;p=new pr(p||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ra(p,"https"),Pa(p),C?V0(p.toString(),h):L0(p.toString(),h)}else it(2);a.G=0,a.l&&a.l.sa(l),By(a),ky(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function By(a){if(a.G=0,a.ka=[],a.l){let l=vy(a.h);(l.length!=0||a.i.length!=0)&&(M(a.ka,l),M(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function $y(a,l,h){var p=h instanceof pr?un(h):new pr(h);if(p.g!="")l&&(p.g=l+"."+p.g),Na(p,p.s);else{var C=u.location;p=C.protocol,l=l?l+"."+C.hostname:C.hostname,C=+C.port;var T=new pr(null);p&&Ra(T,p),l&&(T.g=l),C&&Na(T,C),h&&(T.l=h),p=T}return h=a.D,l=a.ya,h&&l&&we(p,h,l),we(p,"VER",a.la),Wo(a,p),p}function Hy(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new Te(new Ho({eb:h})):new Te(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qy(){}t=qy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ja(){}ja.prototype.g=function(a,l){return new gt(a,l)};function gt(a,l){Ke.call(this),this.g=new Py(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!z(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!z(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new ri(this)}A(gt,Ke),gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gt.prototype.close=function(){Id(this.g)},gt.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=cd(a),a=h);l.i.push(new A0(l.Ya++,a)),l.G==3&&Va(l)},gt.prototype.N=function(){this.g.l=null,delete this.j,Id(this.g),delete this.g,gt.aa.N.call(this)};function zy(a){dd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}A(zy,dd);function Gy(){hd.call(this),this.status=1}A(Gy,hd);function ri(a){this.g=a}A(ri,qy),ri.prototype.ua=function(){rt(this.g,"a")},ri.prototype.ta=function(a){rt(this.g,new zy(a))},ri.prototype.sa=function(a){rt(this.g,new Gy)},ri.prototype.ra=function(){rt(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,gt.prototype.send=gt.prototype.o,gt.prototype.open=gt.prototype.m,gt.prototype.close=gt.prototype.close,Xp=Pn.createWebChannelTransport=function(){return new ja},Jp=Pn.getStatEventTarget=function(){return Aa()},Zp=Pn.Event=hr,Xc=Pn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,ea=Pn.ErrorCode=Sa,uy.COMPLETE="complete",Yp=Pn.EventType=uy,ry.EventType=Oo,Oo.OPEN="a",Oo.CLOSE="b",Oo.ERROR="c",Oo.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,io=Pn.WebChannel=ry,Qp=Pn.FetchXmlHttpFactory=Ho,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,Kp=Pn.XhrIo=Te}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});var oD="@firebase/firestore";var Be=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");var Do="10.13.1";var Qr=new $a("@firebase/firestore");function ta(){return Qr.logLevel}function B(t,...e){if(Qr.logLevel<=ln.DEBUG){let n=e.map(Im);Qr.debug(`Firestore (${Do}): ${t}`,...n)}}function Yr(t,...e){if(Qr.logLevel<=ln.ERROR){let n=e.map(Im);Qr.error(`Firestore (${Do}): ${t}`,...n)}}function ol(t,...e){if(Qr.logLevel<=ln.WARN){let n=e.map(Im);Qr.warn(`Firestore (${Do}): ${t}`,...n)}}function Im(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ie(t="Unexpected state"){let e=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: `+t;throw Yr(e),new Error(e)}function je(t,e){t||ie()}function _e(t,e){return t}var S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends tv{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var kn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var sl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},rg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Be.UNAUTHENTICATED))}shutdown(){}},ig=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},og=class{constructor(e){this.t=e,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new kn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new kn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>F(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},u=c=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?u(c):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new kn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new sl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Be(e)}},sg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ag=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ug=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},cg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new ug(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function KP(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var al=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=KP(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ve(t,e){return t<e?-1:t>e?1:0}function uo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var nt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Me=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new nt(0,0))}static max(){return new t(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ul=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Oe=class t extends ul{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(S.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},QP=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dt=class t extends ul{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return QP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new q(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let u=e[i];if(u==="\\"){if(i+1===e.length)throw new q(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new q(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new q(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var J=class t{constructor(e){this.path=e}static fromPath(e){return new t(Oe.fromString(e))}static fromName(e){return new t(Oe.fromString(e).popFirst(5))}static empty(){return new t(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Oe(e.slice()))}};var lg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};lg.UNKNOWN_ID=-1;function YP(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Zr(i,J.empty(),e)}function ZP(t){return new Zr(t.readTime,t.key,-1)}var Zr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Me.min(),J.empty(),-1)}static max(){return new t(Me.max(),J.empty(),-1)}};function JP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}var XP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",dg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function AD(t){return F(this,null,function*(){if(t.code!==S.FAILED_PRECONDITION||t.message!==XP)throw t;B("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),u=0;for(let c=0;c<o;c++){let d=c;n(e[d]).next(f=>{s[d]=f,++u,u===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function e1(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Al(t){return t.name==="IndexedDbTransactionError"}var t1=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Em(t){return t==null}function aa(t){return t===0&&1/t==-1/0}function n1(t){return typeof t=="number"&&Number.isInteger(t)&&!aa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var r1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],b4=[...r1,"documentOverlays"],i1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],o1=i1,s1=[...o1,"indexConfiguration","indexState","indexEntries"];var T4=[...s1,"globals"];function sD(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function da(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ct=class t{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new so(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new so(this.root,e,this.comparator,!1)}getReverseIterator(){return new so(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new so(this.root,e,this.comparator,!0)}},so=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},on=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();let e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}};on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,o){return this}insert(e,n,r){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class t{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cl(this.data.getIterator())}getIteratorFrom(e){return new cl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},cl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var rn=class t{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new t([])}unionWith(e){let n=new dt(Dt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var hg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Fn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hg("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Fn.EMPTY_BYTE_STRING=new Fn("");var a1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(t){if(je(!!t),typeof t=="string"){let e=0,n=a1.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function co(t){return typeof t=="string"?Fn.fromBase64String(t):Fn.fromUint8Array(t)}function Dm(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function MD(t){let e=t.mapValue.fields.__previous_value__;return Dm(e)?MD(e):e}function ll(t){let e=sr(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}var fg=class{constructor(e,n,r,i,o,s,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d}},pg=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var el={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dm(t)?4:RD(t)?9007199254740991:xD(t)?10:11:ie()}function sn(t,e){if(t===e)return!0;let n=lo(t);if(n!==lo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ll(t).isEqual(ll(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=sr(i.timestampValue),u=sr(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return co(i.bytesValue).isEqual(co(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ke(i.doubleValue),u=ke(o.doubleValue);return s===u?aa(s)===aa(u):isNaN(s)&&isNaN(u)}return!1}(t,e);case 9:return uo(t.arrayValue.values||[],e.arrayValue.values||[],sn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},u=o.mapValue.fields||{};if(sD(s)!==sD(u))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!sn(s[c],u[c])))return!1;return!0}(t,e);default:return ie()}}function ua(t,e){return(t.values||[]).find(n=>sn(n,e))!==void 0}function ho(t,e){if(t===e)return 0;let n=lo(t),r=lo(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(o,s){let u=ke(o.integerValue||o.doubleValue),c=ke(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return aD(t.timestampValue,e.timestampValue);case 4:return aD(ll(t),ll(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(o,s){let u=co(o),c=co(s);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let u=o.split("/"),c=s.split("/");for(let d=0;d<u.length&&d<c.length;d++){let f=ve(u[d],c[d]);if(f!==0)return f}return ve(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let u=ve(ke(o.latitude),ke(s.latitude));return u!==0?u:ve(ke(o.longitude),ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return uD(t.arrayValue,e.arrayValue);case 10:return function(o,s){var u,c,d,f;let g=o.fields||{},_=s.fields||{},D=(u=g.value)===null||u===void 0?void 0:u.arrayValue,A=(c=_.value)===null||c===void 0?void 0:c.arrayValue,x=ve(((d=D?.values)===null||d===void 0?void 0:d.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:uD(D,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===el.mapValue&&s===el.mapValue)return 0;if(o===el.mapValue)return 1;if(s===el.mapValue)return-1;let u=o.fields||{},c=Object.keys(u),d=s.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let g=0;g<c.length&&g<f.length;++g){let _=ve(c[g],f[g]);if(_!==0)return _;let D=ho(u[c[g]],d[f[g]]);if(D!==0)return D}return ve(c.length,f.length)}(t.mapValue,e.mapValue);default:throw ie()}}function aD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);let n=sr(t),r=sr(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function uD(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ho(n[i],r[i]);if(o)return o}return ve(n.length,r.length)}function fo(t){return gg(t)}function gg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=sr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=gg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${gg(n.fields[s])}`;return i+"}"}(t.mapValue):ie()}function mg(t){return!!t&&"integerValue"in t}function Cm(t){return!!t&&"arrayValue"in t}function rl(t){return!!t&&"mapValue"in t}function xD(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ra(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return da(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ra(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ra(t.arrayValue.values[n]);return e}return Object.assign({},t)}function RD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var nn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ra(n)}setAll(e){let n=Dt.emptyPath(),r={},i=[];e.forEach((s,u)=>{if(!n.isImmediateParentOf(u)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=ra(s):i.push(u.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());rl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){da(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ra(this.value))}};function ND(t){let e=[];return da(t.fields,(n,r)=>{let i=new Dt([n]);if(rl(r)){let o=ND(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new rn(e)}var po=class t{constructor(e,n,r,i,o,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=u}static newInvalidDocument(e){return new t(e,0,Me.min(),Me.min(),Me.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Me.min(),Me.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Me.min(),Me.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var go=class{constructor(e,n){this.position=e,this.inclusive=n}};function cD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=ho(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function lD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sn(t.position[n],e.position[n]))return!1;return!0}var mo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function u1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var dl=class{},$e=class t extends dl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vg(e,n,r):n==="array-contains"?new Ig(e,r):n==="in"?new Eg(e,r):n==="not-in"?new Dg(e,r):n==="array-contains-any"?new Cg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _g(e,r):new wg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ho(n,this.value)):n!==null&&lo(this.value)===lo(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ar=class t extends dl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return PD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function PD(t){return t.op==="and"}function kD(t){return c1(t)&&PD(t)}function c1(t){for(let e of t.filters)if(e instanceof ar)return!1;return!0}function yg(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+fo(t.value);if(kD(t))return t.filters.map(e=>yg(e)).join(",");{let e=t.filters.map(n=>yg(n)).join(",");return`${t.op}(${e})`}}function OD(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&sn(r.value,i.value)}(t,e):t instanceof ar?function(r,i){return i instanceof ar&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,u)=>o&&OD(s,i.filters[u]),!0):!1}(t,e):void ie()}function FD(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`}(t):t instanceof ar?function(n){return n.op.toString()+" {"+n.getFilters().map(FD).join(" ,")+"}"}(t):"Filter"}var vg=class extends $e{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){let n=J.comparator(e.key,this.key);return this.matchesComparison(n)}},_g=class extends $e{constructor(e,n){super(e,"in",n),this.keys=VD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},wg=class extends $e{constructor(e,n){super(e,"not-in",n),this.keys=VD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function VD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}var Ig=class extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Cm(n)&&ua(n.arrayValue,this.value)}},Eg=class extends $e{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ua(this.value.arrayValue,n)}},Dg=class extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ua(this.value.arrayValue,n)}},Cg=class extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Cm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ua(this.value.arrayValue,r))}};var bg=class{constructor(e,n=null,r=[],i=[],o=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.ue=null}};function dD(t,e=null,n=[],r=[],i=null,o=null,s=null){return new bg(t,e,n,r,i,o,s)}function bm(t){let e=_e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fo(r)).join(",")),e.ue=n}return e.ue}function Tm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lD(t.startAt,e.startAt)&&lD(t.endAt,e.endAt)}var yo=class{constructor(e,n=null,r=[],i=[],o=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function l1(t,e,n,r,i,o,s,u){return new yo(t,e,n,r,i,o,s,u)}function d1(t){return new yo(t)}function hD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function h1(t){return t.collectionGroup!==null}function ia(t){let e=_e(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new dt(Dt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new mo(o,r))}),n.has(Dt.keyField().canonicalString())||e.ce.push(new mo(Dt.keyField(),r))}return e.ce}function Wr(t){let e=_e(t);return e.le||(e.le=f1(e,ia(t))),e.le}function f1(t,e){if(t.limitType==="F")return dD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new mo(i.field,o)});let n=t.endAt?new go(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new go(t.startAt.position,t.startAt.inclusive):null;return dD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tg(t,e,n){return new yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function LD(t,e){return Tm(Wr(t),Wr(e))&&t.limitType===e.limitType}function jD(t){return`${bm(Wr(t))}|lt:${t.limitType}`}function na(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>FD(i)).join(", ")}]`),Em(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fo(i)).join(",")),`Target(${r})`}(Wr(t))}; limitType=${t.limitType})`}function Am(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ia(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,u,c){let d=cD(s,u,c);return s.inclusive?d<=0:d<0}(r.startAt,ia(r),i)||r.endAt&&!function(s,u,c){let d=cD(s,u,c);return s.inclusive?d>=0:d>0}(r.endAt,ia(r),i))}(t,e)}function p1(t){return(e,n)=>{let r=!1;for(let i of ia(t)){let o=g1(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function g1(t,e,n){let r=t.field.isKeyField()?J.comparator(e.key,n.key):function(o,s,u){let c=s.data.field(o),d=u.data.field(o);return c!==null&&d!==null?ho(c,d):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}var ur=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return SD(this.inner)}size(){return this.innerSize}};var m1=new Ct(J.comparator);function hl(){return m1}var UD=new Ct(J.comparator);function tl(...t){let e=UD;for(let n of t)e=e.insert(n.key,n);return e}function BD(t){let e=UD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gr(){return oa()}function $D(){return oa()}function oa(){return new ur(t=>t.toString(),(t,e)=>t.isEqual(e))}var y1=new Ct(J.comparator),v1=new dt(J.comparator);function tt(...t){let e=v1;for(let n of t)e=e.add(n);return e}var _1=new dt(ve);function w1(){return _1}function Sm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:aa(e)?"-0":e}}function HD(t){return{integerValue:""+t}}function I1(t,e){return n1(e)?HD(e):Sm(t,e)}var vo=class{constructor(){this._=void 0}};function E1(t,e,n){return t instanceof _o?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Dm(o)&&(o=MD(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Jr?zD(t,e):t instanceof Xr?GD(t,e):function(i,o){let s=qD(i,o),u=fD(s)+fD(i.Pe);return mg(s)&&mg(i.Pe)?HD(u):Sm(i.serializer,u)}(t,e)}function D1(t,e,n){return t instanceof Jr?zD(t,e):t instanceof Xr?GD(t,e):n}function qD(t,e){return t instanceof wo?function(r){return mg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var _o=class extends vo{},Jr=class extends vo{constructor(e){super(),this.elements=e}};function zD(t,e){let n=WD(e);for(let r of t.elements)n.some(i=>sn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Xr=class extends vo{constructor(e){super(),this.elements=e}};function GD(t,e){let n=WD(e);for(let r of t.elements)n=n.filter(i=>!sn(i,r));return{arrayValue:{values:n}}}var wo=class extends vo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function fD(t){return ke(t.integerValue||t.doubleValue)}function WD(t){return Cm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function C1(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Jr&&i instanceof Jr||r instanceof Xr&&i instanceof Xr?uo(r.elements,i.elements,sn):r instanceof wo&&i instanceof wo?sn(r.Pe,i.Pe):r instanceof _o&&i instanceof _o}(t.transform,e.transform)}var Ag=class{constructor(e,n){this.version=e,this.transformResults=n}},Kr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function il(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Io=class{};function KD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fl(t.key,Kr.none()):new ei(t.key,t.data,Kr.none());{let n=t.data,r=nn.empty(),i=new dt(Dt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Vn(t.key,r,new rn(i.toArray()),Kr.none())}}function b1(t,e,n){t instanceof ei?function(i,o,s){let u=i.value.clone(),c=gD(i.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Vn?function(i,o,s){if(!il(i.precondition,o))return void o.convertToUnknownDocument(s.version);let u=gD(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(QD(i)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function sa(t,e,n,r){return t instanceof ei?function(o,s,u,c){if(!il(o.precondition,s))return u;let d=o.value.clone(),f=mD(o.fieldTransforms,c,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vn?function(o,s,u,c){if(!il(o.precondition,s))return u;let d=mD(o.fieldTransforms,c,s),f=s.data;return f.setAll(QD(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,s,u){return il(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(t,e,n)}function T1(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=qD(r.transform,i||null);o!=null&&(n===null&&(n=nn.empty()),n.set(r.field,o))}return n||null}function pD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&uo(r,i,(o,s)=>C1(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ei=class extends Io{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Vn=class extends Io{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function QD(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function gD(t,e,n){let r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,u=e.data.field(o.field);r.set(o.field,D1(s,u,n[i]))}return r}function mD(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,E1(o,s,e))}return r}var fl=class extends Io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Sg=class extends Io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Mg=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&b1(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=sa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=sa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=$D();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,u=this.applyToLocalView(s,o.mutatedFields);u=n.has(i.key)?null:u;let c=KD(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,(n,r)=>pD(n,r))&&uo(this.baseMutations,e.baseMutations,(n,r)=>pD(n,r))}},xg=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return y1}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Rg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ne,ae;function A1(t){switch(t){default:return ie();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function S1(t){if(t===void 0)return Yr("GRPC error has no .code"),S.UNKNOWN;switch(t){case Ne.OK:return S.OK;case Ne.CANCELLED:return S.CANCELLED;case Ne.UNKNOWN:return S.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return S.INTERNAL;case Ne.UNAVAILABLE:return S.UNAVAILABLE;case Ne.UNAUTHENTICATED:return S.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case Ne.NOT_FOUND:return S.NOT_FOUND;case Ne.ALREADY_EXISTS:return S.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return S.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case Ne.ABORTED:return S.ABORTED;case Ne.OUT_OF_RANGE:return S.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return S.UNIMPLEMENTED;case Ne.DATA_LOSS:return S.DATA_LOSS;default:return ie()}}(ae=Ne||(Ne={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";var S4=new Wp([4294967295,4294967295],0);var Ng=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Pg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function x1(t,e){return Pg(t,e.toTimestamp())}function ao(t){return je(!!t),Me.fromTimestamp(function(n){let r=sr(n);return new nt(r.seconds,r.nanos)}(t))}function YD(t,e){return kg(t,e).canonicalString()}function kg(t,e){let n=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function R1(t){let e=Oe.fromString(t);return je(j1(e)),e}function Og(t,e){return YD(t.databaseId,e.path)}function N1(t){let e=R1(t);return e.length===4?Oe.emptyPath():k1(e)}function P1(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function k1(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yD(t,e,n){return{name:Og(t,e),fields:n.value.mapValue.fields}}function O1(t,e){let n;if(e instanceof ei)n={update:yD(t,e.key,e.value)};else if(e instanceof fl)n={delete:Og(t,e.key)};else if(e instanceof Vn)n={update:yD(t,e.key,e.data),updateMask:L1(e.fieldMask)};else{if(!(e instanceof Sg))return ie();n={verify:Og(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let u=s.transform;if(u instanceof _o)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Jr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Xr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof wo)return{fieldPath:s.field.canonicalString(),increment:u.Pe};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:x1(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ie()}(t,e.precondition)),n}function F1(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ao(i.updateTime):ao(o);return s.isEqual(Me.min())&&(s=ao(o)),new Ag(s,i.transformResults||[])}(n,e))):[]}function V1(t){let e=N1(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){je(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(g){let _=ZD(g);return _ instanceof ar&&kD(_)?_.getFilters():[_]}(n.where));let s=[];n.orderBy&&(s=function(g){return g.map(_=>function(A){return new mo(oo(A.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let u=null;n.limit&&(u=function(g){let _;return _=typeof g=="object"?g.value:g,Em(_)?null:_}(n.limit));let c=null;n.startAt&&(c=function(g){let _=!!g.before,D=g.values||[];return new go(D,_)}(n.startAt));let d=null;return n.endAt&&(d=function(g){let _=!g.before,D=g.values||[];return new go(D,_)}(n.endAt)),l1(e,i,s,o,u,"F",c,d)}function ZD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=oo(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=oo(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=oo(n.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=oo(n.unaryFilter.field);return $e.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(oo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ar.create(n.compositeFilter.filters.map(r=>ZD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function oo(t){return Dt.fromServerFormat(t.fieldPath)}function L1(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function j1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Fg=class{constructor(e){this.ct=e}};function U1(t){let e=V1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tg(e,e.limit,"L"):e}var pl=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),aa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=sr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(co(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?RD(e)?this.dt(n,Number.MAX_SAFE_INTEGER):xD(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ie()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",u=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ke(u)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),J.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};pl.vt=new pl;var Vg=class{constructor(){this.un=new Lg}addToCollectionParentIndex(e,n){return this.un.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Zr.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},Lg=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(Oe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Oe.comparator)).toArray()}};var M4=new Uint8Array(0);var tn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(41943040,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);var ca=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var jg=class{constructor(){this.changes=new ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,po.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ug=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Bg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sa(r.mutation,i,rn.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=tt()){let i=Gr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=tl();return o.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Gr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,tt()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,u)=>{n.set(s,u)})})}computeViews(e,n,r,i){let o=hl(),s=oa(),u=function(){return oa()}();return n.forEach((c,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Vn)?o=o.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),sa(f.mutation,d,f.mutation.getFieldMask(),nt.now())):s.set(d.key,rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,f)=>s.set(d,f)),n.forEach((d,f)=>{var g;return u.set(d,new Ug(f,(g=s.get(d))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,n){let r=oa(),i=new Ct((s,u)=>s-u),o=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let u of s)u.keys().forEach(c=>{let d=n.get(c);if(d===null)return;let f=r.get(c)||rn.empty();f=u.applyToLocalView(d,f),r.set(c,f);let g=(i.get(u.batchId)||tt()).add(c);i=i.insert(u.batchId,g)})}).next(()=>{let s=[],u=i.getReverseIterator();for(;u.hasNext();){let c=u.getNext(),d=c.key,f=c.value,g=$D();f.forEach(_=>{if(!o.has(_)){let D=KD(n.get(_),r.get(_));D!==null&&g.set(_,D),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,g))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):h1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):N.resolve(Gr()),u=-1,c=o;return s.next(d=>N.forEach(d,(f,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),o.get(f)?N.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{c=c.insert(f,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,tt())).next(f=>({batchId:u,changes:BD(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=tl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=tl();return this.indexManager.getCollectionParents(e,o).next(u=>N.forEach(u,c=>{let d=function(g,_){return new yo(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((g,_)=>{s=s.insert(g,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,d)=>{let f=d.getKey();s.get(f)===null&&(s=s.insert(f,po.newInvalidDocument(f)))});let u=tl();return s.forEach((c,d)=>{let f=o.get(c);f!==void 0&&sa(f.mutation,d,rn.empty(),nt.now()),Am(n,d)&&(u=u.insert(c,d))}),u})}};var $g=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return N.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ao(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:U1(i.bundledQuery),readTime:ao(i.readTime)}}(n)),N.resolve()}};var Hg=class{constructor(){this.overlays=new Ct(J.comparator),this.Ir=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Gr();return N.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=Gr(),o=n.length+1,s=new J(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){let c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ct((d,f)=>d-f),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=o.get(d.largestBatchId);f===null&&(f=Gr(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let u=Gr(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>u.set(d,f)),!(u.size()>=i)););return N.resolve(u)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Rg(n,r));let o=this.Ir.get(n);o===void 0&&(o=tt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var qg=class{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var la=class{constructor(){this.Tr=new dt(Pe.Er),this.dr=new dt(Pe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Pe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Pe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new J(new Oe([])),r=new Pe(n,e),i=new Pe(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new J(new Oe([])),r=new Pe(n,e),i=new Pe(n,e+1),o=tt();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Pe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Pe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return J.comparator(e.key,n.key)||ve(e.wr,n.wr)}static Ar(e,n){return ve(e.wr,n.wr)||J.comparator(e.key,n.key)}};var zg=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new dt(Pe.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Mg(o,n,r,i);this.mutationQueue.push(s);for(let u of i)this.br=this.br.add(new Pe(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Pe(n,0),i=new Pe(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let u=this.Dr(s.wr);o.push(u)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(ve);return n.forEach(i=>{let o=new Pe(i,0),s=new Pe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],u=>{r=r.add(u.wr)})}),N.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new Pe(new J(o),0),u=new dt(ve);return this.br.forEachWhile(c=>{let d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(c.wr)),!0)},s),N.resolve(this.Cr(u))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return N.forEach(n.mutations,i=>{let o=new Pe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Pe(n,0),i=this.br.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Gg=class{constructor(e){this.Mr=e,this.docs=function(){return new Ct(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():po.newInvalidDocument(n))}getEntries(e,n){let r=hl();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():po.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=hl(),s=n.path,u=new J(s.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){let{key:d,value:{document:f}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||JP(ZP(f),r)<=0||(i.has(f.key)||Am(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ie()}Or(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Wg(this)}getSize(e){return N.resolve(this.size)}},Wg=class extends jg{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Kg=class{constructor(e){this.persistence=e,this.Nr=new ur(n=>bm(n),Tm),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new la,this.targetCount=0,this.kr=ca.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),N.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ca(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Kn(n),N.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Br.containsKey(n))}};var Qg=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new t1(0),this.Kr=!1,this.Kr=!0,this.$r=new qg,this.referenceDelegate=e(this),this.Ur=new Kg(this),this.indexManager=new Vg,this.remoteDocumentCache=function(i){return new Gg(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Fg(n),this.Gr=new $g(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hg,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new zg(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);let i=new Yg(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return N.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Yg=class extends dg{constructor(e){super(),this.currentSequenceNumber=e}},Zg=class t{constructor(e){this.persistence=e,this.Jr=new la,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ie()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,r=>{let i=J.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return N.or([()=>N.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Jg=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=tt(),i=tt();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Xg=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var em=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ev()?8:e1(Xy())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Xg;return this.Xi(e,n,s).next(u=>{if(o.result=u,this.zi)return this.es(e,n,s,u.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ta()<=ln.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(ta()<=ln.DEBUG&&B("QueryEngine","Query:",na(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ta()<=ln.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):N.resolve())}Yi(e,n){if(hD(n))return N.resolve(null);let r=Wr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tg(n,null,"F"),r=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=tt(...o);return this.Ji.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{let d=this.ts(n,u);return this.ns(n,d,s,c.readTime)?this.Yi(e,Tg(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,i){return hD(n)||i.isEqual(Me.min())?N.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?N.resolve(null):(ta()<=ln.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),na(n)),this.rs(e,s,n,YP(i,-1)).next(u=>u))})}ts(e,n){let r=new dt(p1(e));return n.forEach((i,o)=>{Am(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return ta()<=ln.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",na(n)),this.Ji.getDocumentsMatchingQuery(e,n,Zr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var tm=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ct(ve),this._s=new ur(o=>bm(o),Tm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bg(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function B1(t,e,n,r){return new tm(t,e,n,r)}function JD(t,e){return F(this,null,function*(){let n=_e(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],u=[],c=tt();for(let d of i){s.push(d.batchId);for(let f of d.mutations)c=c.add(f.key)}for(let d of o){u.push(d.batchId);for(let f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:u}))})})})}function $1(t,e){let n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,d,f){let g=d.batch,_=g.keys(),D=N.resolve();return _.forEach(A=>{D=D.next(()=>f.getEntry(c,A)).next(x=>{let M=d.docVersions.get(A);je(M!==null),x.version.compareTo(M)<0&&(g.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),f.addEntry(x)))})}),D.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=tt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function H1(t){let e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function q1(t,e){let n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var gl=class{constructor(){this.activeTargetIds=w1()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var nm=class{constructor(){this.so=new gl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new gl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var rm=class{_o(e){}shutdown(){}};var ml=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var nl=null;function eg(){return nl===null?nl=function(){return 268435456+Math.round(2147483648*Math.random())}():nl++,"0x"+nl.toString(16)}var z1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var im=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var et="WebChannelConnection",om=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let u=eg(),c=this.xo(n,r.toUriEncodedString());B("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(n,c,d,i).then(f=>(B("RestConnection",`Received RPC '${n}' ${u}: `,f),f),f=>{throw ol("RestConnection",`RPC '${n}' ${u} failed with error: `,f,"url: ",c,"request:",i),f})}Lo(n,r,i,o,s,u){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=z1[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=eg();return new Promise((s,u)=>{let c=new Kp;c.setWithCredentials(!0),c.listenOnce(Yp.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ea.NO_ERROR:let f=c.getResponseJson();B(et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case ea.TIMEOUT:B(et,`RPC '${e}' ${o} timed out`),u(new q(S.DEADLINE_EXCEEDED,"Request time out"));break;case ea.HTTP_ERROR:let g=c.getStatus();if(B(et,`RPC '${e}' ${o} failed with status:`,g,"response text:",c.getResponseText()),g>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);let D=_?.error;if(D&&D.status&&D.message){let A=function(M){let V=M.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(V)>=0?V:S.UNKNOWN}(D.status);u(new q(A,D.message))}else u(new q(S.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new q(S.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{B(et,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);B(et,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=eg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Xp(),u=Jp(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.xmlHttpFactory=new Qp({})),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let f=o.join("");B(et,`Creating RPC '${e}' stream ${i}: ${f}`,c);let g=s.createWebChannel(f,c),_=!1,D=!1,A=new im({Io:M=>{D?B(et,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(_||(B(et,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),B(et,`RPC '${e}' stream ${i} sending:`,M),g.send(M))},To:()=>g.close()}),x=(M,V,z)=>{M.listen(V,U=>{try{z(U)}catch(Z){setTimeout(()=>{throw Z},0)}})};return x(g,io.EventType.OPEN,()=>{D||(B(et,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),x(g,io.EventType.CLOSE,()=>{D||(D=!0,B(et,`RPC '${e}' stream ${i} transport closed`),A.So())}),x(g,io.EventType.ERROR,M=>{D||(D=!0,ol(et,`RPC '${e}' stream ${i} transport errored:`,M),A.So(new q(S.UNAVAILABLE,"The operation could not be completed")))}),x(g,io.EventType.MESSAGE,M=>{var V;if(!D){let z=M.data[0];je(!!z);let U=z,Z=U.error||((V=U[0])===null||V===void 0?void 0:V.error);if(Z){B(et,`RPC '${e}' stream ${i} received error:`,Z);let be=Z.status,pe=function(v){let w=Ne[v];if(w!==void 0)return S1(w)}(be),I=Z.message;pe===void 0&&(pe=S.INTERNAL,I="Unknown error status: "+be+" with message "+Z.message),D=!0,A.So(new q(pe,I)),g.close()}else B(et,`RPC '${e}' stream ${i} received:`,z),A.bo(z)}}),x(u,Zp.STAT_EVENT,M=>{M.stat===Xc.PROXY?B(et,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Xc.NOPROXY&&B(et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function tg(){return typeof document<"u"?document:null}function Sl(t){return new Ng(t,!0)}var yl=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var sm=class{constructor(e,n,r,i,o,s,u,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yl(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return F(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return F(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return F(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===S.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===S.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new q(S.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>F(this,null,function*(){this.state=0,this.start()}))}I_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var am=class extends sm{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=F1(e.writeResults,e.commitTime),r=ao(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=P1(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>O1(this.serializer,r))};this.a_(n)}};var um=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new q(S.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,kg(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(S.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Lo(e,kg(n,r),i,s,u,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(S.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},cm=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yr(n),this.D_=!1):B("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var lm=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>F(this,null,function*(){fa(this)&&(B("RemoteStore","Restarting streams for network reachability change."),yield function(c){return F(this,null,function*(){let d=_e(c);d.L_.add(4),yield ha(d),d.q_.set("Unknown"),d.L_.delete(4),yield Ml(d)})}(this))}))}),this.q_=new cm(r,i)}};function Ml(t){return F(this,null,function*(){if(fa(t))for(let e of t.B_)yield e(!0)})}function ha(t){return F(this,null,function*(){for(let e of t.B_)yield e(!1)})}function fa(t){return _e(t).L_.size===0}function XD(t,e,n){return F(this,null,function*(){if(!Al(e))throw e;t.L_.add(1),yield ha(t),t.q_.set("Offline"),n||(n=()=>H1(t.localStore)),t.asyncQueue.enqueueRetryable(()=>F(this,null,function*(){B("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Ml(t)}))})}function eC(t,e){return e().catch(n=>XD(t,n,e))}function xl(t){return F(this,null,function*(){let e=_e(t),n=cr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;G1(e);)try{let i=yield q1(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,W1(e,i)}catch(i){yield XD(e,i)}tC(e)&&nC(e)})}function G1(t){return fa(t)&&t.O_.length<10}function W1(t,e){t.O_.push(e);let n=cr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function tC(t){return fa(t)&&!cr(t).n_()&&t.O_.length>0}function nC(t){cr(t).start()}function K1(t){return F(this,null,function*(){cr(t).p_()})}function Q1(t){return F(this,null,function*(){let e=cr(t);for(let n of t.O_)e.m_(n.mutations)})}function Y1(t,e,n){return F(this,null,function*(){let r=t.O_.shift(),i=xg.from(r,e,n);yield eC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield xl(t)})}function Z1(t,e){return F(this,null,function*(){e&&cr(t).V_&&(yield function(r,i){return F(this,null,function*(){if(function(s){return A1(s)&&s!==S.ABORTED}(i.code)){let o=r.O_.shift();cr(r).s_(),yield eC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield xl(r)}})}(t,e)),tC(t)&&nC(t)})}function vD(t,e){return F(this,null,function*(){let n=_e(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");let r=fa(n);n.L_.add(3),yield ha(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Ml(n)})}function J1(t,e){return F(this,null,function*(){let n=_e(t);e?(n.L_.delete(2),yield Ml(n)):e||(n.L_.add(2),yield ha(n),n.q_.set("Unknown"))})}function cr(t){return t.U_||(t.U_=function(n,r,i){let o=_e(n);return o.w_(),new am(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:K1.bind(null,t),mo:Z1.bind(null,t),f_:Q1.bind(null,t),g_:Y1.bind(null,t)}),t.B_.push(e=>F(this,null,function*(){e?(t.U_.s_(),yield xl(t)):(yield t.U_.stop(),t.O_.length>0&&(B("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var dm=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,u=new t(e,n,s,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function rC(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),Al(t))return new q(S.UNAVAILABLE,`${e}: ${t}`);throw t}var hm=class{constructor(){this.queries=_D(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=_e(n),o=i.queries;i.queries=_D(),o.forEach((s,u)=>{for(let c of u.j_)c.onError(r)})})(this,new q(S.ABORTED,"Firestore shutting down"))}};function _D(){return new ur(t=>jD(t),LD)}function X1(t){t.Y_.forEach(e=>{e.next()})}var wD,ID;(ID=wD||(wD={})).ea="default",ID.Cache="cache";var fm=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ur(u=>jD(u),LD),this.Ma=new Map,this.xa=new Set,this.Oa=new Ct(J.comparator),this.Na=new Map,this.La=new la,this.Ba={},this.ka=new Map,this.qa=ca.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function ek(t,e,n){return F(this,null,function*(){let r=ik(t);try{let i=yield function(s,u){let c=_e(s),d=nt.now(),f=u.reduce((D,A)=>D.add(A.key),tt()),g,_;return c.persistence.runTransaction("Locally write mutations","readwrite",D=>{let A=hl(),x=tt();return c.cs.getEntries(D,f).next(M=>{A=M,A.forEach((V,z)=>{z.isValidDocument()||(x=x.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(D,A)).next(M=>{g=M;let V=[];for(let z of u){let U=T1(z,g.get(z.key).overlayedDocument);U!=null&&V.push(new Vn(z.key,U,ND(U.value.mapValue),Kr.exists(!0)))}return c.mutationQueue.addMutationBatch(D,d,V,u)}).next(M=>{_=M;let V=M.applyToLocalDocumentSet(g,x);return c.documentOverlayCache.saveOverlays(D,M.batchId,V)})}).then(()=>({batchId:_.batchId,changes:BD(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let d=s.Ba[s.currentUser.toKey()];d||(d=new Ct(ve)),d=d.insert(u,c),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,n),yield Rl(r,i.changes),yield xl(r.remoteStore)}catch(i){let o=rC(i,"Failed to persist write");n.reject(o)}})}function ED(t,e,n){let r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let u=s.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){let c=_e(s);c.onlineState=u;let d=!1;c.queries.forEach((f,g)=>{for(let _ of g.j_)_.Z_(u)&&(d=!0)}),d&&X1(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function tk(t,e){return F(this,null,function*(){let n=_e(t),r=e.batch.batchId;try{let i=yield $1(n.localStore,e);oC(n,r,null),iC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Rl(n,i)}catch(i){yield AD(i)}})}function nk(t,e,n){return F(this,null,function*(){let r=_e(t);try{let i=yield function(s,u){let c=_e(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,u).next(g=>(je(g!==null),f=g.keys(),c.mutationQueue.removeMutationBatch(d,g))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})}(r.localStore,e);oC(r,e,n),iC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Rl(r,i)}catch(i){yield AD(i)}})}function iC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function oC(t,e,n){let r=_e(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Rl(t,e,n){return F(this,null,function*(){let r=_e(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((u,c)=>{s.push(r.Ka(c,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(f=n?.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(d){i.push(d);let g=Jg.Wi(c.targetId,d);o.push(g)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(c,d){return F(this,null,function*(){let f=_e(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>N.forEach(d,_=>N.forEach(_.$i,D=>f.persistence.referenceDelegate.addReference(g,_.targetId,D)).next(()=>N.forEach(_.Ui,D=>f.persistence.referenceDelegate.removeReference(g,_.targetId,D)))))}catch(g){if(!Al(g))throw g;B("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let D=f.os.get(_),A=D.snapshotVersion,x=D.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(_,x)}}})}(r.localStore,o))})}function rk(t,e){return F(this,null,function*(){let n=_e(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());let r=yield JD(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(u=>{u.forEach(c=>{c.reject(new q(S.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Rl(n,r.hs)}})}function ik(t){let e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nk.bind(null,e),e}var vl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return F(this,null,function*(){this.serializer=Sl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return B1(this.persistence,new em,e.initialUser,this.serializer)}createPersistence(e){return new Qg(Zg.Zr,this.serializer)}createSharedClientState(e){return new nm}terminate(){return F(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var pm=class{initialize(e,n){return F(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ED(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rk.bind(null,this.syncEngine),yield J1(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new hm}()}createDatastore(e){let n=Sl(e.databaseInfo.databaseId),r=function(o){return new om(o)}(e.databaseInfo);return function(o,s,u,c){return new um(o,s,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,u){return new lm(r,i,o,s,u)}(this.localStore,this.datastore,e.asyncQueue,n=>ED(this.syncEngine,n,0),function(){return ml.D()?new ml:new rm}())}createSyncEngine(e,n){return function(i,o,s,u,c,d,f){let g=new fm(i,o,s,u,c,d);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return F(this,null,function*(){var e,n;yield function(i){return F(this,null,function*(){let o=_e(i);B("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield ha(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var gm=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Be.UNAUTHENTICATED,this.clientId=al.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>F(this,null,function*(){B("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(B("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>F(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=rC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ng(t,e){return F(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>F(this,null,function*(){r.isEqual(i)||(yield JD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function DD(t,e){return F(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield sk(t);B("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vD(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vD(e.remoteStore,i)),t._onlineComponents=e})}function ok(t){return t.name==="FirebaseError"?t.code===S.FAILED_PRECONDITION||t.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function sk(t){return F(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ng(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!ok(n))throw n;ol("Error using user provided cache. Falling back to memory cache: "+n),yield ng(t,new vl)}}else B("FirestoreClient","Using default OfflineComponentProvider"),yield ng(t,new vl);return t._offlineComponents})}function ak(t){return F(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),yield DD(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),yield DD(t,new pm))),t._onlineComponents})}function uk(t){return ak(t).then(e=>e.syncEngine)}function sC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var CD=new Map;function aC(t,e,n){if(!n)throw new q(S.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ck(t,e,n,r){if(e===!0&&r===!0)throw new q(S.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bD(t){if(!J.isDocumentKey(t))throw new q(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TD(t){if(J.isDocumentKey(t))throw new q(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function uC(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Mm(t);throw new q(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var _l=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ck("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Eo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _l({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _l(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rg;switch(r.type){case"firstParty":return new ag(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=CD.get(n);r&&(B("ComponentProvider","Removing Datastore"),CD.delete(n),r.terminate())}(this),Promise.resolve()}};function cC(t,e,n,r={}){var i;let o=(t=uC(t,Eo))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=Be.MOCK_USER;else{u=Jy(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new q(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Be(d)}t._authCredentials=new ig(new sl(u,c))}}var mm=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},On=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},or=class t extends mm{constructor(e,n,r){super(e,n,d1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new J(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function lC(t,e,...n){if(t=mr(t),aC("collection","path",e),t instanceof Eo){let r=Oe.fromString(e,...n);return TD(r),new or(t,null,r)}{if(!(t instanceof On||t instanceof or))throw new q(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return TD(r),new or(t.firestore,null,r)}}function dC(t,e,...n){if(t=mr(t),arguments.length===1&&(e=al.newId()),aC("doc","path",e),t instanceof Eo){let r=Oe.fromString(e,...n);return bD(r),new On(t,null,new J(r))}{if(!(t instanceof On||t instanceof or))throw new q(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return bD(r),new On(t.firestore,t instanceof or?t.converter:null,new J(r))}}var ym=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new yl(this,"async_queue_retry"),this.Eu=()=>{let n=tg();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=tg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=tg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new kn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return F(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Al(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(r);throw Yr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=dm.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&ie()}verifyOperationInProgress(){}mu(){return F(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var wl=class extends Eo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new ym}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hC(this),this._firestoreClient.terminate()}};function Nl(t,e){let n=typeof t=="object"?t:Yo(),r=typeof t=="string"?t:e||"(default)",i=Ad(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Zy("firestore");o&&cC(i,...o)}return i}function lk(t){return t._firestoreClient||hC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hC(t){var e,n,r;let i=t._freezeSettings(),o=function(u,c,d,f){return new fg(u,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,sC(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new gm(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Il=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Fn.fromBase64String(e))}catch(n){throw new q(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var El=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Dl=class{constructor(e){this._methodName=e}};var Cl=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var bl=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var dk=/^__.*__$/,vm=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ei(e,this.data,n,this.fieldTransforms)}};function fC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}var _m=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Tl(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(fC(this.wu)&&dk.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},wm=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sl(e)}Nu(e,n,r,i=!1){return new _m({wu:e,methodName:n,Ou:r,path:Dt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function hk(t){let e=t._freezeSettings(),n=Sl(t._databaseId);return new wm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fk(t,e,n,r,i,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);yC("Data must be an object, but it was:",s,r);let u=gC(r,s),c,d;if(o.merge)c=new rn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let g of o.mergeFields){let _=pk(e,g,n);if(!s.contains(_))throw new q(S.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);yk(f,_)||f.push(_)}c=new rn(f),d=s.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,d=s.fieldTransforms;return new vm(new nn(u),c,d)}function pC(t,e){if(mC(t=mr(t)))return yC("Unsupported field value:",e,t),gC(t,e);if(t instanceof Dl)return function(r,i){if(!fC(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let u of r){let c=pC(u,i.Fu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=mr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return I1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=nt.fromDate(r);return{timestampValue:Pg(i.serializer,o)}}if(r instanceof nt){let o=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pg(i.serializer,o)}}if(r instanceof Cl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Il)return{bytesValue:M1(i.serializer,r._byteString)};if(r instanceof On){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:YD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bl)return function(s,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw u.Mu("VectorValues must only contain numeric values.");return Sm(u.serializer,c)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Mm(r)}`)}(t,e)}function gC(t,e){let n={};return SD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(t,(r,i)=>{let o=pC(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function mC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof Cl||t instanceof Il||t instanceof On||t instanceof Dl||t instanceof bl)}function yC(t,e,n){if(!mC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Mm(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function pk(t,e,n){if((e=mr(e))instanceof El)return e._internalPath;if(typeof e=="string")return mk(t,e);throw Tl("Field path arguments must be of type string or ",t,!1,void 0,n)}var gk=new RegExp("[~\\*/\\[\\]]");function mk(t,e,n){if(e.search(gk)>=0)throw Tl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new El(...e.split("."))._internalPath}catch{throw Tl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tl(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new q(S.INVALID_ARGUMENT,u+t+c)}function yk(t,e){return t.some(n=>n.isEqual(e))}function vk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function vC(t,e){let n=uC(t.firestore,wl),r=dC(t),i=vk(t.converter,e);return _k(n,[fk(hk(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kr.exists(!1))]).then(()=>r)}function _k(t,e){return function(r,i){let o=new kn;return r.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return ek(yield uk(r),i,o)})),o.promise}(lk(t),e)}(function(e,n=!0){(function(i){Do=i})(rv),Qo(new Ko("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),u=new wl(new og(r.getProvider("auth-internal")),new cg(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new q(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pg(d.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Ze(oD,"4.7.1",e),Ze(oD,"4.7.1","esm2017")})();var wk=new Map,Ik={activated:!1,tokenObservers:[]},Ek={initialized:!1,enabled:!1};function qt(t){return wk.get(t)||Object.assign({},Ik)}function DC(){return Ek}var Dk="https://content-firebaseappcheck.googleapis.com/v1";var Ck="exchangeDebugToken",_C={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},$4=24*60*60*1e3;var Rm=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return F(this,null,function*(){this.stop();try{this.pending=new bd,this.pending.promise.catch(n=>{}),yield bk(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new bd,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function bk(t){return new Promise(e=>{setTimeout(e,t)})}var Tk={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},lr=new nv("appCheck","AppCheck",Tk);function CC(t){if(!qt(t).activated)throw lr.create("use-before-activation",{appName:t.name})}function bC(r,i){return F(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let D=yield s.getHeartbeatsHeader();D&&(o["X-Firebase-Client"]=D)}let u={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,u)}catch(D){throw lr.create("fetch-network-error",{originalErrorMessage:D?.message})}if(c.status!==200)throw lr.create("fetch-status-error",{httpStatus:c.status});let d;try{d=yield c.json()}catch(D){throw lr.create("fetch-parse-error",{originalErrorMessage:D?.message})}let f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw lr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});let g=Number(f[1])*1e3,_=Date.now();return{token:d.token,expireTimeMillis:_+g,issuedAtTimeMillis:_}})}function TC(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Dk}/projects/${n}/apps/${r}:${Ck}?key=${i}`,body:{debug_token:e}}}var Ak="firebase-app-check-database",Sk=1,Nm="firebase-app-check-store";var Pl=null;function Mk(){return Pl||(Pl=new Promise((t,e)=>{try{let n=indexedDB.open(Ak,Sk);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(lr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Nm,{keyPath:"compositeKey"})}}}catch(n){e(lr.create("storage-open",{originalErrorMessage:n?.message}))}}),Pl)}function xk(t,e){return Rk(Nk(t),e)}function Rk(t,e){return F(this,null,function*(){let r=(yield Mk()).transaction(Nm,"readwrite"),o=r.objectStore(Nm).put({compositeKey:t,value:e});return new Promise((s,u)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var d;u(lr.create("storage-set",{originalErrorMessage:(d=c.target.error)===null||d===void 0?void 0:d.message}))}})})}function Nk(t){return`${t.options.appId}-${t.name}`}var Pm=new $a("@firebase/app-check");function xm(t,e){return Td()?xk(t,e).catch(n=>{Pm.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function AC(){return DC().enabled}function SC(){return F(this,null,function*(){let t=DC();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Pk={error:"UNKNOWN_ERROR"};function kk(t){return Yy.encodeString(JSON.stringify(t),!1)}function km(t,e=!1){return F(this,null,function*(){let n=t.app;CC(n);let r=qt(n),i=r.token,o;if(i&&!pa(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(pa(c)?i=c:yield xm(n,void 0))}if(!e&&i&&pa(i))return{token:i.token};let s=!1;if(AC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=bC(TC(n,yield SC()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield xm(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield qt(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Pm.warn(c.message):Pm.error(c),o=c}let u;return i?o?pa(i)?u={token:i.token,internalError:o}:u=IC(o):(u={token:i.token},r.token=i,yield xm(n,i)):u=IC(o),s&&Lk(n,u),u})}function Ok(t){return F(this,null,function*(){let e=t.app;CC(e);let{provider:n}=qt(e);if(AC()){let r=yield SC(),{token:i}=yield bC(TC(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function Fk(t,e,n,r){let{app:i}=t,o=qt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&pa(o.token)){let u=o.token;Promise.resolve().then(()=>{n({token:u.token}),wC(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>wC(t))}function MC(t,e){let n=qt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function wC(t){let{app:e}=t,n=qt(e),r=n.tokenRefresher;r||(r=Vk(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Vk(t){let{app:e}=t;return new Rm(()=>F(this,null,function*(){let n=qt(e),r;if(n.token?r=yield km(t,!0):r=yield km(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=qt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},_C.RETRIAL_MIN_WAIT,_C.RETRIAL_MAX_WAIT)}function Lk(t,e){let n=qt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function pa(t){return t.expireTimeMillis-Date.now()>0}function IC(t){return{token:kk(Pk),error:t}}var Om=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=qt(this.app);for(let n of e)MC(this.app,n.next);return Promise.resolve()}};function jk(t,e){return new Om(t,e)}function Uk(t){return{getToken:e=>km(t,e),getLimitedUseToken:()=>Ok(t),addTokenListener:e=>Fk(t,"INTERNAL",e),removeTokenListener:e=>MC(t.app,e)}}var Bk="@firebase/app-check",$k="0.8.7";var Hk="app-check",EC="app-check-internal";function qk(){Qo(new Ko(Hk,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return jk(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(EC).initialize()})),Qo(new Ko(EC,t=>{let e=t.getProvider("app-check").getImmediate();return Uk(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ze(Bk,$k)}qk();var zk=["localhost","0.0.0.0","127.0.0.1"],eq=typeof window<"u"&&zk.includes(window.location.hostname);var Wk="firebase",Kk="10.13.1";yr.registerVersion(Wk,Kk,"app-compat");var Qk=["ngOnDestroy"],RC=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(Qk.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(u=>{let c=u?.[o];return typeof c=="function"?c.bind(u):c?.then?c.then(d=>n.run(()=>d)):n.run(()=>c)});return new Proxy(()=>{},{get:(u,c)=>s[c],apply:(u,c,d)=>s.then(f=>{let g=f?.(...d);return r?.spy?.apply&&r.spy.apply(o,d,g),g})})})});var Fm=class{constructor(e){return e}},NC=new O("angularfire2.app.options"),PC=new O("angularfire2.app.name");function kC(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=yr.apps.filter(u=>u&&u.name===i.name)[0]||e.runOutsideAngular(()=>yr.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let u=!!module.hot;Yk("error",`${s.name} Firebase App already initialized with different options${u?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Fm(s)}var Yk=(t,...e)=>{zf()&&typeof console<"u"&&console[t](...e)};function OC(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(u=>u[0]===t)||[];if(o)return Zk(i,s)||(xC("error",`${e} was already initialized on the ${n} Firebase App with different settings.${Jk?" You may need to reload as Firebase is not HMR aware.":""}`),xC("warn",{is:i,was:s})),o;{let u=r();return globalThis.\u0275AngularfireInstanceCache.push([t,u,i]),u}}function Zk(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var Jk=typeof module<"u"&&!!module.hot,xC=(t,...e)=>{zf()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Xk=new O("angularfire2.auth.use-emulator"),eO=new O("angularfire2.auth.settings"),tO=new O("angularfire2.auth.tenant-id"),nO=new O("angularfire2.auth.langugage-code"),rO=new O("angularfire2.auth.use-device-language"),iO=new O("angularfire.auth.persistence"),oO=(t,e,n,r,i,o,s,u)=>OC(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[d,f]of Object.entries(s))c.settings[d]=f;return u&&c.setPersistence(u),c},[n,r,i,o,s,u]),FC=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,u,c,d,f,g,_,D){let A=new De,x=H(void 0).pipe(yt(s.outsideAngular),Se(()=>o.runOutsideAngular(()=>import("./chunk-5AHH4NI7.js"))),K(()=>kC(n,o,r)),K(M=>oO(M,o,u,d,f,g,c,_)),Iu({bufferSize:1,refCount:!1}));if(Cs(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=H(null);else{x.pipe(Tt()).subscribe();let M=x.pipe(Se(U=>U.getRedirectResult().then(Z=>Z,()=>null)),qp,Iu({bufferSize:1,refCount:!1})),V=x.pipe(Se(U=>new X(Z=>({unsubscribe:o.runOutsideAngular(()=>U.onAuthStateChanged(be=>Z.next(be),be=>Z.error(be),()=>Z.complete()))})))),z=x.pipe(Se(U=>new X(Z=>({unsubscribe:o.runOutsideAngular(()=>U.onIdTokenChanged(be=>Z.next(be),be=>Z.error(be),()=>Z.complete()))}))));this.authState=M.pipe(Eu(V),bt(s.outsideAngular),yt(s.insideAngular)),this.user=M.pipe(Eu(z),bt(s.outsideAngular),yt(s.insideAngular)),this.idToken=this.user.pipe(Se(U=>U?ge(U.getIdToken()):H(null))),this.idTokenResult=this.user.pipe(Se(U=>U?ge(U.getIdTokenResult()):H(null))),this.credential=eh(M,A,this.authState.pipe(ft(U=>!U))).pipe(K(U=>U?.user?U:null),bt(s.outsideAngular),yt(s.insideAngular))}return RC(this,x,o,{spy:{apply:(M,V,z)=>{(M.startsWith("signIn")||M.startsWith("createUser"))&&z.then(U=>A.next(U))}}})}static \u0275fac=function(r){return new(r||t)(L(NC),L(PC,8),L(wt),L(ce),L(ir),L(Xk,8),L(eO,8),L(tO,8),L(nO,8),L(rO,8),L(iO,8),L(Rn,8))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var dr=class t{app;firestore;auth;currentUser=null;constructor(){this.app=Qc(Zc),this.firestore=Nl(this.app),this.auth=Yc(this.app),this.initializeAuthListener()}initializeAuthListener(){XE(this.auth,e=>{this.currentUser=e})}getCurrentUser(){return this.currentUser}logIn(e,n){return F(this,null,function*(){try{yield eD(this.auth,e,n),console.log("Usuario logeado correctamente")}catch(r){throw r}})}registro(e,n){return F(this,null,function*(){try{yield JE(this.auth,e,n),console.log("Usuario registrado correctamente")}catch(r){throw r}})}getUserLogged(){return R(FC).authState}logOut(){return F(this,null,function*(){try{yield tD(this.auth),console.log("Usuario deslogueado correctamente")}catch(e){console.error("Error al desloguearse",e)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var kl=class t{constructor(e,n){this.router=e;this.firebaseService=n}usuario;ngOnInit(){this.usuario=this.firebaseService.getCurrentUser()}irAQuienSoy(){this.router.navigate(["/quien-soy"])}logOut(){return F(this,null,function*(){yield this.firebaseService.logOut(),this.usuario=this.firebaseService.getCurrentUser(),console.log("Usuario en el componente:",this.usuario),this.router.navigate(["/login"])})}static \u0275fac=function(n){return new(n||t)(ee(Xe),ee(dr))};static \u0275cmp=Rt({type:t,selectors:[["app-home"]],standalone:!0,features:[kt],decls:10,vars:1,consts:[[1,"home-container"],[1,"header"],[1,"button-container"],[1,"btn-quien-soy",3,"click"],[1,"user-info"],[1,"user-email"],[1,"btn-log-out",3,"click"]],template:function(n,r){n&1&&(he(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Ge("click",function(){return r.irAQuienSoy()}),Ee(4,"Quien Soy"),de()(),he(5,"div",4)(6,"span",5),Ee(7),de(),he(8,"button",6),Ge("click",function(){return r.logOut()}),Ee(9,"Log Out"),de()()()()),n&2&&(Pt(7),$f(r.usuario==null?null:r.usuario.email))},styles:["[_nghost-%COMP%]{display:block;height:100vh;background-color:#333}.home-container[_ngcontent-%COMP%]{padding:0 20px;height:100%;box-sizing:border-box}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#444;padding:15px 20px;border-radius:8px;box-shadow:0 2px 5px #00000080;margin-bottom:20px}.button-container[_ngcontent-%COMP%]{margin-right:10px}.btn-quien-soy[_ngcontent-%COMP%]{background-color:#1db954;color:#fff;border-radius:8px;padding:10px 20px;border:none;font-weight:700;font-size:16px;cursor:pointer;font-family:Roboto,sans-serif;transition:background-color .3s ease,transform .3s ease}.btn-quien-soy[_ngcontent-%COMP%]:hover{background-color:#1ed760;transform:scale(1.05)}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.user-email[_ngcontent-%COMP%]{background-color:#6cb6f2;color:#fff;border-radius:8px;padding:5px 10px;margin-right:10px}.btn-log-out[_ngcontent-%COMP%]{background-color:#ff4757;color:#fff;border-radius:8px;padding:10px 20px;border:none;font-weight:700;font-size:16px;cursor:pointer;font-family:Roboto,sans-serif;transition:background-color .3s ease,transform .3s ease}.btn-log-out[_ngcontent-%COMP%]:hover{background-color:#ff6b81;transform:scale(1.05)}"]})};var Fl=class t{constructor(e){this.router=e}volverAHome(){this.router.navigate(["/home"])}static \u0275fac=function(n){return new(n||t)(ee(Xe))};static \u0275cmp=Rt({type:t,selectors:[["app-quien-soy"]],standalone:!0,features:[kt],decls:12,vars:0,consts:[[1,"quien-soy-container"],[1,"btn-volver",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-59d90.appspot.com/o/yo.jpg?alt=media&token=d19649ff-8e96-4c4d-9142-8c4880ab21a6","alt","yo",1,"mi-imagen"]],template:function(n,r){n&1&&(he(0,"div",0)(1,"button",1),Ge("click",function(){return r.volverAHome()}),Ee(2,"Volver"),de(),he(3,"h1"),Ee(4,"Mi nombre es F\xE9lix Castelli"),de(),he(5,"p"),Ee(6," Soy un estudiante de la UTN de Avellaneda en la Tecnicatura de Programaci\xF3n y vivo en la ciudad de Buenos Aires."),Cn(7,"br"),Ee(8,' Este es mi proyecto de "Sala de Juegos" para la materia Laboratorio IV.'),Cn(9,"br"),Ee(10," ....................................................................... "),de(),Cn(11,"img",2),de())},styles:[".quien-soy-container[_ngcontent-%COMP%]{background-color:#1db9541a;color:#fff;padding:40px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a;font-family:Roboto,sans-serif;position:relative}h1[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:20px;font-weight:700}p[_ngcontent-%COMP%]{font-size:1rem}.btn-volver[_ngcontent-%COMP%]{background-color:#f44336;color:#fff;border-radius:8px;padding:8px 12px;border:none;font-weight:700;font-size:14px;cursor:pointer;position:absolute;top:10px;left:10px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 8px #0000001a;font-family:Roboto,sans-serif;transition:background-color .3s ease,transform .3s ease}.btn-volver[_ngcontent-%COMP%]:hover{background-color:#c62828;transform:scale(1.05)}.mi-imagen[_ngcontent-%COMP%]{width:150px;border-radius:8px;box-shadow:0 2px 5px #00000080}"]})};var zC=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(ee(Bi),ee(kr))},e.\u0275dir=ct({type:e});let t=e;return t})(),sO=(()=>{let e=class e extends zC{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Li(e)))(o||e)}})(),e.\u0275dir=ct({type:e,features:[Dn]});let t=e;return t})(),GC=new O("");var aO={provide:GC,useExisting:Nr(()=>So),multi:!0};function uO(){let t=An()?An().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var cO=new O(""),So=(()=>{let e=class e extends zC{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!uO())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(ee(Bi),ee(kr),ee(cO,8))},e.\u0275dir=ct({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Ge("input",function(u){return o._handleInput(u.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(u){return o._compositionEnd(u.target.value)})},features:[ws([aO]),Dn]});let t=e;return t})();function lO(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var jm=new O(""),WC=new O("");function dO(t){return lO(t.value)?{required:!0}:null}function VC(t){return null}function KC(t){return t!=null}function QC(t){return Vr(t)?ge(t):t}function YC(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function ZC(t,e){return e.map(n=>n(t))}function hO(t){return!t.validate}function JC(t){return t.map(e=>hO(e)?e:n=>e.validate(n))}function fO(t){if(!t)return null;let e=t.filter(KC);return e.length==0?null:function(n){return YC(ZC(n,e))}}function Um(t){return t!=null?fO(JC(t)):null}function pO(t){if(!t)return null;let e=t.filter(KC);return e.length==0?null:function(n){let r=ZC(n,e).map(QC);return Xd(r).pipe(K(YC))}}function Bm(t){return t!=null?pO(JC(t)):null}function LC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function gO(t){return t._rawValidators}function mO(t){return t._rawAsyncValidators}function Lm(t){return t?Array.isArray(t)?t:[t]:[]}function Ll(t,e){return Array.isArray(t)?t.includes(e):t===e}function jC(t,e){let n=Lm(e);return Lm(t).forEach(i=>{Ll(n,i)||n.push(i)}),n}function UC(t,e){return Lm(e).filter(n=>!Ll(t,n))}var jl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Um(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},To=class extends jl{get formDirective(){return null}get path(){return null}},wa=class extends jl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ul=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},yO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ez=oe(k({},yO),{"[class.ng-submitted]":"isSubmitted"}),ql=(()=>{let e=class e extends Ul{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ee(wa,2))},e.\u0275dir=ct({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&gc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Dn]});let t=e;return t})(),zl=(()=>{let e=class e extends Ul{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ee(To,10))},e.\u0275dir=ct({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&gc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Dn]});let t=e;return t})();var ga="VALID",Vl="INVALID",Co="PENDING",ma="DISABLED",Ao=class{},Bl=class extends Ao{constructor(e,n){super(),this.value=e,this.source=n}},va=class extends Ao{constructor(e,n){super(),this.pristine=e,this.source=n}},_a=class extends Ao{constructor(e,n){super(),this.touched=e,this.source=n}},bo=class extends Ao{constructor(e,n){super(),this.status=e,this.source=n}};function XC(t){return(Gl(t)?t.validators:t)||null}function vO(t){return Array.isArray(t)?Um(t):t||null}function e0(t,e){return(Gl(e)?e.asyncValidators:t)||null}function _O(t){return Array.isArray(t)?Bm(t):t||null}function Gl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function wO(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function IO(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var $l=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Es(()=>this.statusReactive()),this.statusReactive=ms(void 0),this._pristine=Es(()=>this.pristineReactive()),this.pristineReactive=ms(!0),this._touched=Es(()=>this.touchedReactive()),this.touchedReactive=ms(!1),this._events=new De,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return bn(this.statusReactive)}set status(e){bn(()=>this.statusReactive.set(e))}get valid(){return this.status===ga}get invalid(){return this.status===Vl}get pending(){return this.status==Co}get disabled(){return this.status===ma}get enabled(){return this.status!==ma}get pristine(){return bn(this.pristineReactive)}set pristine(e){bn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return bn(this.touchedReactive)}set touched(e){bn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UC(e,this._rawAsyncValidators))}hasValidator(e){return Ll(this._rawValidators,e)}hasAsyncValidator(e){return Ll(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(oe(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new _a(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new _a(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(oe(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new va(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new va(!0,r))}markAsPending(e={}){this.status=Co;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(oe(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ma,this.errors=null,this._forEachChild(i=>{i.disable(oe(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bl(this.value,r)),this._events.next(new bo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ga,this._forEachChild(r=>{r.enable(oe(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(oe(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ga||this.status===Co)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bl(this.value,n)),this._events.next(new bo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(oe(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ma:ga}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Co,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=QC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new bo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?ma:this.errors?Vl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Co)?Co:this._anyControlsHaveStatus(Vl)?Vl:ga}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new va(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new _a(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=vO(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=_O(this._rawAsyncValidators)}},Hl=class extends $l{constructor(e,n,r){super(XC(n),e0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){IO(this,!0,e),Object.keys(e).forEach(r=>{wO(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var $m=new O("CallSetDisabledState",{providedIn:"root",factory:()=>Hm}),Hm="always";function EO(t,e){return[...e.path,t]}function t0(t,e,n=Hm){n0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),CO(t,e),TO(t,e),bO(t,e),DO(t,e)}function BC(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function DO(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function n0(t,e){let n=gO(t);e.validator!==null?t.setValidators(LC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=mO(t);e.asyncValidator!==null?t.setAsyncValidators(LC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();BC(e._rawValidators,i),BC(e._rawAsyncValidators,i)}function CO(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&r0(t,e)})}function bO(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&r0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function r0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function TO(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function AO(t,e){t==null,n0(t,e)}function SO(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function MO(t){return Object.getPrototypeOf(t.constructor)===sO}function xO(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function RO(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===So?n=o:MO(o)?r=o:i=o}),i||r||n||null}var NO={provide:To,useExisting:Nr(()=>Ia)},ya=Promise.resolve(),Ia=(()=>{let e=class e extends To{get submitted(){return bn(this.submittedReactive)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=Es(()=>this.submittedReactive()),this.submittedReactive=ms(!1),this._directives=new Set,this.ngSubmit=new Re,this.form=new Hl({},Um(r),Bm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){ya.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),t0(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){ya.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){ya.then(()=>{let i=this._findContainer(r.path),o=new Hl({});AO(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){ya.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){ya.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),xO(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(ee(jm,10),ee(WC,10),ee($m,8))},e.\u0275dir=ct({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&Ge("submit",function(u){return o.onSubmit(u)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ws([NO]),Dn]});let t=e;return t})();function $C(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function HC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var PO=class extends $l{constructor(e=null,n,r){super(XC(n),e0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(HC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$C(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$C(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){HC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var kO={provide:wa,useExisting:Nr(()=>Ea)},qC=Promise.resolve(),Ea=(()=>{let e=class e extends wa{constructor(r,i,o,s,u,c){super(),this._changeDetectorRef=u,this.callSetDisabledState=c,this.control=new PO,this._registered=!1,this.name="",this.update=new Re,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=RO(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),SO(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){t0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){qC.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Is(i);qC.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?EO(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(ee(To,9),ee(jm,10),ee(WC,10),ee(GC,10),ee(jr,8),ee($m,8))},e.\u0275dir=ct({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ws([kO]),Dn,Pr]});let t=e;return t})(),Wl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ct({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var OO=(()=>{let e=class e{constructor(){this._validator=VC}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):VC,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ct({type:e,features:[Pr]});let t=e;return t})();var FO={provide:jm,useExisting:Nr(()=>Da),multi:!0};var Da=(()=>{let e=class e extends OO{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Is,this.createValidator=r=>dO}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Li(e)))(o||e)}})(),e.\u0275dir=ct({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&pc("required",o._enabled?"":null)},inputs:{required:"required"},features:[ws([FO]),Dn]});let t=e;return t})();var VO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=_n({});let t=e;return t})();var Kl=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:$m,useValue:r.callSetDisabledState??Hm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=_n({imports:[VO]});let t=e;return t})();var Ln=class{constructor(e){return e}},o0="firestore",qm=class{constructor(){return Zs(o0)}};var zm=new O("angularfire2.firestore-instances");function LO(t,e){let n=Wc(o0,t,e);return n&&new Ln(n)}function jO(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ln(r)}}var UO={provide:qm,deps:[[new Je,zm]]},BO={provide:Ln,useFactory:LO,deps:[[new Je,zm],Nn]};function s0(t,...e){return Ze("angularfire",rr.full,"fst"),Jt([BO,UO,{provide:zm,useFactory:jO(t),multi:!0,deps:[ce,ze,ir,zr,[new Je,Xs],[new Je,Rn],...e]}])}var Ql=Vt(vC,!0);var Yl=Vt(lC,!0);var a0=Vt(Nl,!0);function $O(t,e){if(t&1&&(he(0,"div",13),Ee(1),de()),t&2){let n=mc();Pt(),Hi(" ",n.error," ")}}var Zl=class t{constructor(e,n,r){this.router=e;this.firestore=n;this.firebaseService=r}email="";contrasenia="";error="";exito=!0;ngAfterViewInit(){}logIn(){return F(this,null,function*(){try{yield this.firebaseService.logIn(this.email,this.contrasenia).then(()=>{let e=Yl(this.firestore,"logins"),n={fecha:new Date,user:this.email};Ql(e,n),this.router.navigate(["/home"])})}catch{this.exito=!1,this.error="Correo electr\xF3nico o contrase\xF1a inv\xE1lidos"}})}autoCompletar(){this.email="admin@admin.com",this.contrasenia="123456"}irARegistro(){this.router.navigate(["/registro"])}static \u0275fac=function(n){return new(n||t)(ee(Xe),ee(Ln),ee(dr))};static \u0275cmp=Rt({type:t,selectors:[["app-login"]],standalone:!0,features:[kt],decls:20,vars:3,consts:[[1,"login-container"],[1,"login-titulo"],[3,"ngSubmit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","contrasenia","name","contrasenia","required","",3,"ngModelChange","ngModel"],[1,"button-group"],["type","submit",1,"btn-login"],["type","button",1,"btn-registro",3,"click"],["type","button",1,"btn-login",3,"click"],["class","error-mensaje",4,"ngIf"],[1,"error-mensaje"]],template:function(n,r){n&1&&(he(0,"div",0)(1,"h1",1),Ee(2,"Login"),de(),he(3,"form",2),Ge("ngSubmit",function(){return r.logIn()}),he(4,"div",3)(5,"label",4),Ee(6,"Email:"),de(),he(7,"input",5),Fr("ngModelChange",function(o){return qi(r.email,o)||(r.email=o),o}),de()(),he(8,"div",3)(9,"label",6),Ee(10,"Contrase\xF1a:"),de(),he(11,"input",7),Fr("ngModelChange",function(o){return qi(r.contrasenia,o)||(r.contrasenia=o),o}),de()(),he(12,"div",8)(13,"button",9),Ee(14,"Login"),de(),he(15,"button",10),Ge("click",function(){return r.irARegistro()}),Ee(16,"Registrarse"),de(),he(17,"button",11),Ge("click",function(){return r.autoCompletar()}),Ee(18,"Auto Completar"),de()(),vs(19,$O,2,1,"div",12),de()()),n&2&&(Pt(7),Or("ngModel",r.email),Pt(4),Or("ngModel",r.contrasenia),Pt(8),_s("ngIf",!r.exito))},dependencies:[Kl,Wl,So,ql,zl,Da,Ea,Ia,Ds,Dc],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#333}.login-container[_ngcontent-%COMP%]{background-color:#222;padding:40px;border-radius:10px;text-align:center;box-shadow:0 4px 10px #00000080;font-family:Roboto,sans-serif;width:300px}.login-titulo[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;font-size:24px}.input-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{color:#fff;font-size:14px;display:block;margin-bottom:5px}input[_ngcontent-%COMP%]{width:calc(100% - 20px);padding:10px;border:none;border-radius:5px;font-size:14px;background-color:#444;color:#fff;outline:none;font-family:Roboto,sans-serif}input[_ngcontent-%COMP%]::placeholder{color:#aaa}.button-group[_ngcontent-%COMP%]{margin-top:20px}.btn-login[_ngcontent-%COMP%], .btn-registro[_ngcontent-%COMP%], .btn-autocompletar[_ngcontent-%COMP%]{width:100%;height:38px;margin-bottom:10px;border:none;border-radius:8px;font-weight:700;font-size:16px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}.btn-login[_ngcontent-%COMP%]{background-color:#1db954;color:#fff}.btn-login[_ngcontent-%COMP%]:hover{background-color:#1ed760;transform:scale(1.05)}.btn-registro[_ngcontent-%COMP%]{background-color:#555;color:#fff}.btn-registro[_ngcontent-%COMP%]:hover{background-color:#666;transform:scale(1.05)}.btn-autocompletar[_ngcontent-%COMP%]{background-color:#777;color:#fff}.btn-autocompletar[_ngcontent-%COMP%]:hover{background-color:#888;transform:scale(1.05)}.error-mensaje[_ngcontent-%COMP%]{color:red;margin-top:10px}"]})};function HO(t,e){if(t&1&&(he(0,"div",12),Ee(1),de()),t&2){let n=mc();Pt(),Hi(" ",n.error," ")}}var Jl=class t{constructor(e,n,r){this.firebaseService=e;this.firestore=n;this.router=r}email="";contrasenia="";error="";exito=!0;registrarse(){return F(this,null,function*(){try{yield this.firebaseService.registro(this.email,this.contrasenia).then(()=>{let e=Yl(this.firestore,"logins"),n={fecha:new Date,user:this.email};Ql(e,n),this.router.navigate(["/home"])})}catch{this.exito=!1,this.error="La direcci\xF3n de correo electr\xF3nico ya est\xE1 en uso."}})}volverALogIn(){this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||t)(ee(dr),ee(Ln),ee(Xe))};static \u0275cmp=Rt({type:t,selectors:[["app-registro"]],standalone:!0,features:[kt],decls:18,vars:3,consts:[[1,"registro-container"],[1,"btn-volver",3,"click"],[1,"registro-titulo"],[3,"ngSubmit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","contrasenia","name","contrasenia","required","",3,"ngModelChange","ngModel"],[1,"button-group"],["type","submit",1,"btn-registro"],["class","error-mensaje",4,"ngIf"],[1,"error-mensaje"]],template:function(n,r){n&1&&(he(0,"div",0)(1,"button",1),Ge("click",function(){return r.volverALogIn()}),Ee(2,"\u2190"),de(),he(3,"h1",2),Ee(4,"Registrarse"),de(),he(5,"form",3),Ge("ngSubmit",function(){return r.registrarse()}),he(6,"div",4)(7,"label",5),Ee(8,"Email:"),de(),he(9,"input",6),Fr("ngModelChange",function(o){return qi(r.email,o)||(r.email=o),o}),de()(),he(10,"div",4)(11,"label",7),Ee(12,"Contrase\xF1a:"),de(),he(13,"input",8),Fr("ngModelChange",function(o){return qi(r.contrasenia,o)||(r.contrasenia=o),o}),de()(),he(14,"div",9)(15,"button",10),Ee(16,"Registrarse"),de()(),vs(17,HO,2,1,"div",11),de()()),n&2&&(Pt(9),Or("ngModel",r.email),Pt(4),Or("ngModel",r.contrasenia),Pt(4),_s("ngIf",!r.exito))},dependencies:[Kl,Wl,So,ql,zl,Da,Ea,Ia,Ds,Dc],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#333}.registro-container[_ngcontent-%COMP%]{background-color:#222;padding:40px;border-radius:10px;text-align:center;box-shadow:0 4px 10px #00000080;font-family:Roboto,sans-serif;width:300px}.registro-titulo[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;font-size:24px}.input-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{color:#fff;font-size:14px;display:block;margin-bottom:5px}input[_ngcontent-%COMP%]{width:calc(100% - 20px);padding:10px;border:none;border-radius:5px;font-size:14px;background-color:#444;color:#fff;outline:none;font-family:Roboto,sans-serif}input[_ngcontent-%COMP%]::placeholder{color:#aaa}.button-group[_ngcontent-%COMP%]{margin-top:20px}.btn-registro[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:8px;font-weight:700;font-size:16px;cursor:pointer;transition:background-color .3s ease,transform .3s ease;background-color:#1db954;color:#fff}.btn-registro[_ngcontent-%COMP%]:hover{background-color:#1ed760;transform:scale(1.05)}.error-mensaje[_ngcontent-%COMP%]{color:red;margin-top:10px}.btn-volver[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;background-color:#ff4757;color:#fff;font-size:20px;font-weight:700;padding:10px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}.btn-volver[_ngcontent-%COMP%]:hover{background-color:#ff6b81;transform:scale(1.05)}"]})};var c0=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Zl},{path:"home",component:kl},{path:"quien-soy",component:Fl},{path:"registro",component:Jl}];var l0={providers:[MI({eventCoalescing:!0}),HE(c0),QE(()=>Qc(Zc)),ZE(()=>Yc()),s0(()=>a0())]};var Xl=class t{title="sala-de-juegos";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Rt({type:t,selectors:[["app-root"]],standalone:!0,features:[kt],decls:1,vars:0,template:function(n,r){n&1&&Cn(0,"router-outlet")},dependencies:[Vp,KE]})};XI(Xl,l0).catch(t=>console.error(t));
