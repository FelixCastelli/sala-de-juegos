import{A as Ye,B as bd,C as Ad,D as Sd,E as Rd,F as xd,G as vr,a as B,b as De,c as k,d as Rv,e as Ba,f as xv,g as Mv,h as Nv,i as Pv,j as Dd,k as kv,l as Ov,m as Fv,n as Td,o as Lv,p as Vv,q as un,r as Ho,s as cn,t as $a,u as Go,v as Cd,w as jv,x as Uv,y as Wo,z as za}from"./chunk-THBPOAG3.js";function Bv(t,e){return Object.is(t,e)}var Le=null,qa=!1,Ha=1,ln=Symbol("SIGNAL");function ce(t){let e=Le;return Le=t,e}function $v(){return Le}var Qo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Pd(t){if(qa)throw new Error("");if(Le===null)return;Le.consumerOnSignalRead(t);let e=Le.nextProducerIndex++;if(Qa(Le),e<Le.producerNode.length&&Le.producerNode[e]!==t&&Ko(Le)){let n=Le.producerNode[e];Ka(n,Le.producerIndexOfThis[e])}Le.producerNode[e]!==t&&(Le.producerNode[e]=t,Le.producerIndexOfThis[e]=Ko(Le)?Gv(t,Le,e):0),Le.producerLastReadVersion[e]=t.version}function d0(){Ha++}function zv(t){if(!(Ko(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ha)){if(!t.producerMustRecompute(t)&&!Od(t)){t.dirty=!1,t.lastCleanEpoch=Ha;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ha}}function qv(t){if(t.liveConsumerNode===void 0)return;let e=qa;qa=!0;try{for(let n of t.liveConsumerNode)n.dirty||h0(n)}finally{qa=e}}function Hv(){return Le?.consumerAllowSignalWrites!==!1}function h0(t){t.dirty=!0,qv(t),t.consumerMarkedDirty?.(t)}function Wa(t){return t&&(t.nextProducerIndex=0),ce(t)}function kd(t,e){if(ce(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ko(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ka(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Od(t){Qa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(zv(n),r!==n.version))return!0}return!1}function Fd(t){if(Qa(t),Ko(t))for(let e=0;e<t.producerNode.length;e++)Ka(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Gv(t,e,n){if(Wv(t),t.liveConsumerNode.length===0&&Kv(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Gv(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ka(t,e){if(Wv(t),t.liveConsumerNode.length===1&&Kv(t))for(let r=0;r<t.producerNode.length;r++)Ka(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Qa(i),i.producerIndexOfThis[r]=e}}function Ko(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Qa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Wv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Kv(t){return t.producerNode!==void 0}function Qv(t){let e=Object.create(f0);e.computation=t;let n=()=>{if(zv(e),Pd(e),e.value===Ga)throw e.error;return e.value};return n[ln]=e,n}var Md=Symbol("UNSET"),Nd=Symbol("COMPUTING"),Ga=Symbol("ERRORED"),f0=De(B({},Qo),{value:Md,dirty:!0,error:null,equal:Bv,producerMustRecompute(t){return t.value===Md||t.value===Nd},producerRecomputeValue(t){if(t.value===Nd)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Nd;let n=Wa(t),r;try{r=t.computation()}catch(i){r=Ga,t.error=i}finally{kd(t,n)}if(e!==Md&&e!==Ga&&r!==Ga&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function p0(){throw new Error}var Yv=p0;function Zv(){Yv()}function Jv(t){Yv=t}var g0=null;function Xv(t){let e=Object.create(tw);e.value=t;let n=()=>(Pd(e),e.value);return n[ln]=e,n}function Ld(t,e){Hv()||Zv(),t.equal(t.value,e)||(t.value=e,m0(t))}function ew(t,e){Hv()||Zv(),Ld(t,e(t.value))}var tw=De(B({},Qo),{equal:Bv,value:void 0});function m0(t){t.version++,d0(),qv(t),g0?.()}function Z(t){return typeof t=="function"}function si(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ya=si(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function wr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof Ya?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{nw(o)}catch(s){e=e??[],s instanceof Ya?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ya(e)}}add(e){var n;if(e&&e!==this)if(this.closed)nw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&wr(n,e)}remove(e){let{_finalizers:n}=this;n&&wr(n,e),e instanceof t&&e._removeParent(this)}};Se.EMPTY=(()=>{let t=new Se;return t.closed=!0,t})();var Vd=Se.EMPTY;function Za(t){return t instanceof Se||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function nw(t){Z(t)?t():t.unsubscribe()}var kt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ai={setTimeout(t,e,...n){let{delegate:r}=ai;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ai;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ja(t){ai.setTimeout(()=>{let{onUnhandledError:e}=kt;if(e)e(t);else throw t})}function Yo(){}var rw=jd("C",void 0,void 0);function iw(t){return jd("E",void 0,t)}function ow(t){return jd("N",t,void 0)}function jd(t,e,n){return{kind:t,value:e,error:n}}var Ir=null;function ui(t){if(kt.useDeprecatedSynchronousErrorHandling){let e=!Ir;if(e&&(Ir={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ir;if(Ir=null,n)throw r}}else t()}function sw(t){kt.useDeprecatedSynchronousErrorHandling&&Ir&&(Ir.errorThrown=!0,Ir.error=t)}var Er=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Za(e)&&e.add(this)):this.destination=w0}static create(e,n,r){return new dn(e,n,r)}next(e){this.isStopped?Bd(ow(e),this):this._next(e)}error(e){this.isStopped?Bd(iw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bd(rw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},y0=Function.prototype.bind;function Ud(t,e){return y0.call(t,e)}var $d=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Xa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Xa(r)}else Xa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Xa(n)}}},dn=class extends Er{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&kt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ud(e.next,o),error:e.error&&Ud(e.error,o),complete:e.complete&&Ud(e.complete,o)}):i=e}this.destination=new $d(i)}};function Xa(t){kt.useDeprecatedSynchronousErrorHandling?sw(t):Ja(t)}function v0(t){throw t}function Bd(t,e){let{onStoppedNotification:n}=kt;n&&ai.setTimeout(()=>n(t,e))}var w0={closed:!0,next:Yo,error:v0,complete:Yo};var ci=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yt(t){return t}function eu(...t){return zd(t)}function zd(t){return t.length===0?yt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=E0(n)?n:new dn(n,r,i);return ui(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=aw(r),new r((i,o)=>{let s=new dn({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ci](){return this}pipe(...n){return zd(n)(this)}toPromise(n){return n=aw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function aw(t){var e;return(e=t??kt.Promise)!==null&&e!==void 0?e:Promise}function I0(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function E0(t){return t&&t instanceof Er||I0(t)&&Za(t)}function qd(t){return Z(t?.lift)}function se(t){return e=>{if(qd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(t,e,n,r,i){return new Hd(t,e,n,r,i)}var Hd=class extends Er{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function li(){return se((t,e)=>{let n=null;t._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var di=class extends ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let n=this.getSubject();e.add(this.source.subscribe(ae(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return li()(this)}};var uw=si(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new tu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new uw}next(n){ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Vd:(this.currentObservers=null,o.push(n),new Se(()=>{this.currentObservers=null,wr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ee;return n.source=this,n}}return t.create=(e,n)=>new tu(e,n),t})(),tu=class extends xe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Vd}};var Be=class extends xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Zo={now(){return(Zo.delegate||Date).now()},delegate:void 0};var nu=class extends xe{constructor(e=1/0,n=1/0,r=Zo){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var ru=class extends Se{constructor(e,n){super()}schedule(e,n=0){return this}};var Jo={setInterval(t,e,...n){let{delegate:r}=Jo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Jo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var hi=class extends ru{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Jo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Jo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,wr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var fi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};fi.now=Zo.now;var pi=class extends fi{constructor(e,n=fi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Gd=new pi(hi);var iu=class extends hi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ou=class extends pi{};var Wd=new ou(iu);var rt=new ee(t=>t.complete());function cw(t){return t&&Z(t.schedule)}function Kd(t){return t[t.length-1]}function su(t){return Z(Kd(t))?t.pop():void 0}function qt(t){return cw(Kd(t))?t.pop():void 0}function lw(t,e){return typeof Kd(t)=="number"?t.pop():e}var au=t=>t&&typeof t.length=="number"&&typeof t!="function";function uu(t){return Z(t?.then)}function cu(t){return Z(t[ci])}function lu(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function du(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hu=_0();function fu(t){return Z(t?.[hu])}function pu(t){return xv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ba(n.read());if(i)return yield Ba(void 0);yield yield Ba(r)}}finally{n.releaseLock()}})}function gu(t){return Z(t?.getReader)}function _e(t){if(t instanceof ee)return t;if(t!=null){if(cu(t))return D0(t);if(au(t))return T0(t);if(uu(t))return C0(t);if(lu(t))return dw(t);if(fu(t))return b0(t);if(gu(t))return A0(t)}throw du(t)}function D0(t){return new ee(e=>{let n=t[ci]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function T0(t){return new ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function C0(t){return new ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ja)})}function b0(t){return new ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function dw(t){return new ee(e=>{S0(t,e).catch(n=>e.error(n))})}function A0(t){return dw(pu(t))}function S0(t,e){var n,r,i,o;return Rv(this,void 0,void 0,function*(){try{for(n=Mv(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function pt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function vt(t,e=0){return se((n,r)=>{n.subscribe(ae(r,i=>pt(r,t,()=>r.next(i),e),()=>pt(r,t,()=>r.complete(),e),i=>pt(r,t,()=>r.error(i),e)))})}function Dt(t,e=0){return se((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function hw(t,e){return _e(t).pipe(Dt(e),vt(e))}function fw(t,e){return _e(t).pipe(Dt(e),vt(e))}function pw(t,e){return new ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function gw(t,e){return new ee(n=>{let r;return pt(n,e,()=>{r=t[hu](),pt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function mu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ee(n=>{pt(n,e,()=>{let r=t[Symbol.asyncIterator]();pt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function mw(t,e){return mu(pu(t),e)}function yw(t,e){if(t!=null){if(cu(t))return hw(t,e);if(au(t))return pw(t,e);if(uu(t))return fw(t,e);if(lu(t))return mu(t,e);if(fu(t))return gw(t,e);if(gu(t))return mw(t,e)}throw du(t)}function ye(t,e){return e?yw(t,e):_e(t)}function H(...t){let e=qt(t);return ye(t,e)}function gi(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new ee(e?i=>e.schedule(r,0,i):r)}function Qd(t){return!!t&&(t instanceof ee||Z(t.lift)&&Z(t.subscribe))}var hn=si(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Q(t,e){return se((n,r)=>{let i=0;n.subscribe(ae(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:R0}=Array;function x0(t,e){return R0(e)?t(...e):t(e)}function yu(t){return Q(e=>x0(t,e))}var{isArray:M0}=Array,{getPrototypeOf:N0,prototype:P0,keys:k0}=Object;function vu(t){if(t.length===1){let e=t[0];if(M0(e))return{args:e,keys:null};if(O0(e)){let n=k0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function O0(t){return t&&typeof t=="object"&&N0(t)===P0}function wu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Xo(...t){let e=qt(t),n=su(t),{args:r,keys:i}=vu(t);if(r.length===0)return ye([],e);let o=new ee(F0(r,e,i?s=>wu(i,s):yt));return n?o.pipe(yu(n)):o}function F0(t,e,n=yt){return r=>{vw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)vw(e,()=>{let l=ye(t[c],e),h=!1;l.subscribe(ae(r,p=>{o[c]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function vw(t,e,n){t?pt(n,t,e):e()}function ww(t,e,n,r,i,o,s,a){let c=[],l=0,h=0,p=!1,m=()=>{p&&!c.length&&!l&&e.complete()},y=R=>l<r?C(R):c.push(R),C=R=>{o&&e.next(R),l++;let A=!1;_e(n(R,h++)).subscribe(ae(e,M=>{i?.(M),o?y(M):e.next(M)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;c.length&&l<r;){let M=c.shift();s?pt(e,s,()=>C(M)):C(M)}m()}catch(M){e.error(M)}}))};return t.subscribe(ae(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Me(t,e,n=1/0){return Z(e)?Me((r,i)=>Q((o,s)=>e(r,o,i,s))(_e(t(r,i))),n):(typeof e=="number"&&(n=e),se((r,i)=>ww(r,i,t,n)))}function Ln(t=1/0){return Me(yt,t)}function Iw(){return Ln(1)}function mi(...t){return Iw()(ye(t,qt(t)))}function Iu(t){return new ee(e=>{_e(t()).subscribe(e)})}function L0(...t){let e=su(t),{args:n,keys:r}=vu(t),i=new ee(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let h=0;h<s;h++){let p=!1;_e(n[h]).subscribe(ae(o,m=>{p||(p=!0,l--),a[h]=m},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(r?wu(r,a):a),o.complete())}))}});return e?i.pipe(yu(e)):i}function Yd(...t){let e=qt(t),n=lw(t,1/0),r=t;return r.length?r.length===1?_e(r[0]):Ln(n)(ye(r,e)):rt}function $e(t,e){return se((n,r)=>{let i=0;n.subscribe(ae(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Vn(t){return se((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ae(n,void 0,void 0,s=>{o=_e(t(s,Vn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Ew(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(ae(s,h=>{let p=l++;c=a?t(c,h,p):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function fn(t,e){return Z(e)?Me(t,e,1):Me(t,1)}function jn(t){return se((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function pn(t){return t<=0?()=>rt:se((e,n)=>{let r=0;e.subscribe(ae(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Zd(t){return Q(()=>t)}function Eu(t=V0){return se((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function V0(){return new hn}function _r(t){return se((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Tt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?$e((i,o)=>t(i,o,r)):yt,pn(1),n?jn(e):Eu(()=>new hn))}function yi(t){return t<=0?()=>rt:se((e,n)=>{let r=[];e.subscribe(ae(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Jd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?$e((i,o)=>t(i,o,r)):yt,yi(1),n?jn(e):Eu(()=>new hn))}function _u(t,e){return se(Ew(t,e,arguments.length>=2,!0))}function _w(t={}){let{connector:e=()=>new xe,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,h=!1,p=!1,m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),s=c=void 0,h=p=!1},C=()=>{let R=s;y(),R?.unsubscribe()};return se((R,A)=>{l++,!p&&!h&&m();let M=c=c??e();A.add(()=>{l--,l===0&&!p&&!h&&(a=Xd(C,i))}),M.subscribe(A),!s&&l>0&&(s=new dn({next:F=>M.next(F),error:F=>{p=!0,m(),a=Xd(y,n,F),M.error(F)},complete:()=>{h=!0,m(),a=Xd(y,r),M.complete()}}),_e(R).subscribe(s))})(o)}}function Xd(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new dn({next:()=>{r.unsubscribe(),t()}});return _e(e(...n)).subscribe(r)}function Du(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,_w({connector:()=>new nu(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Tu(...t){let e=qt(t);return se((n,r)=>{(e?mi(t,n,e):mi(t,n)).subscribe(r)})}function Te(t,e){return se((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ae(r,c=>{i?.unsubscribe();let l=0,h=o++;_e(t(c,h)).subscribe(i=ae(r,p=>r.next(e?e(c,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Cu(t,e){return Z(e)?Te(()=>t,e):Te(()=>t)}function eh(t){return se((e,n)=>{_e(t).subscribe(ae(n,()=>n.complete(),Yo)),!n.closed&&e.subscribe(n)})}function Ne(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?se((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ae(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):yt}var cI="https://g.co/ng/security#xss",G=class extends Error{constructor(e,n){super(sc(e,n)),this.code=e}};function sc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ls(t){return{toString:t}.toString()}var bu="__parameters__";function j0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function lI(t,e,n){return ls(()=>{let r=j0(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,h){let p=c.hasOwnProperty(bu)?c[bu]:Object.defineProperty(c,bu,{value:[]})[bu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function U0(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function st(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(st).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Dw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var B0=we({__forward_ref__:we});function dI(t){return t.__forward_ref__=dI,t.toString=function(){return st(this())},t}function it(t){return hI(t)?t():t}function hI(t){return typeof t=="function"&&t.hasOwnProperty(B0)&&t.__forward_ref__===dI}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pr(t){return{providers:t.providers||[],imports:t.imports||[]}}function ac(t){return Tw(t,pI)||Tw(t,gI)}function fI(t){return ac(t)!==null}function Tw(t,e){return t.hasOwnProperty(e)?t[e]:null}function $0(t){let e=t&&(t[pI]||t[gI]);return e||null}function Cw(t){return t&&(t.hasOwnProperty(bw)||t.hasOwnProperty(z0))?t[bw]:null}var pI=we({\u0275prov:we}),bw=we({\u0275inj:we}),gI=we({ngInjectableDef:we}),z0=we({ngInjectorDef:we}),V=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function mI(t){return t&&!!t.\u0275providers}var q0=we({\u0275cmp:we}),H0=we({\u0275dir:we}),G0=we({\u0275pipe:we}),W0=we({\u0275mod:we}),Ou=we({\u0275fac:we}),ts=we({__NG_ELEMENT_ID__:we}),Aw=we({__NG_ENV_ID__:we});function uc(t){return typeof t=="string"?t:t==null?"":String(t)}function K0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():uc(t)}function Q0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new G(-200,t)}function lf(t,e){throw new G(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),gh;function yI(){return gh}function Ct(t){let e=gh;return gh=t,e}function vI(t,e,n){let r=ac(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&re.Optional)return null;if(e!==void 0)return e;lf(t,"Injector")}var Y0={},ns=Y0,mh="__NG_DI_FLAG__",Fu="ngTempTokenPath",Z0="ngTokenPath",J0=/\n/gm,X0="\u0275",Sw="__source",_i;function eA(){return _i}function Un(t){let e=_i;return _i=t,e}function tA(t,e=re.Default){if(_i===void 0)throw new G(-203,!1);return _i===null?vI(t,void 0,e):_i.get(t,e&re.Optional?null:void 0,e)}function j(t,e=re.Default){return(yI()||tA)(it(t),e)}function N(t,e=re.Default){return j(t,cc(e))}function cc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yh(t){let e=[];for(let n=0;n<t.length;n++){let r=it(t[n]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,o=re.Default;for(let s=0;s<r.length;s++){let a=r[s],c=nA(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(j(i,o))}else e.push(j(r))}return e}function wI(t,e){return t[mh]=e,t.prototype[mh]=e,t}function nA(t){return t[mh]}function rA(t,e,n,r){let i=t[Fu];throw e[Sw]&&i.unshift(e[Sw]),t.message=iA(`
`+t.message,i,n,r),t[Z0]=i,t[Fu]=null,t}function iA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==X0?t.slice(2):t;let i=st(e);if(Array.isArray(e))i=e.map(st).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):st(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(J0,`
  `)}`}var ze=wI(lI("Optional"),8);var df=wI(lI("SkipSelf"),4);function Ti(t,e){let n=t.hasOwnProperty(Ou);return n?t[Ou]:null}function hf(t,e){t.forEach(n=>Array.isArray(n)?hf(n,e):e(n))}function II(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Lu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function oA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function sA(t,e,n){let r=ds(t,e);return r>=0?t[r|1]=n:(r=~r,oA(t,r,e,n)),r}function th(t,e){let n=ds(t,e);if(n>=0)return t[n|1]}function ds(t,e){return aA(t,e,1)}function aA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ci={},bt=[],bi=new V(""),EI=new V("",-1),_I=new V(""),Vu=class{get(e,n=ns){if(n===ns){let r=new Error(`NullInjectorError: No provider for ${st(e)}!`);throw r.name="NullInjectorError",r}return n}},DI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(DI||{}),Wt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Wt||{}),zn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(zn||{});function uA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function vh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];lA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function cA(t){return t===3||t===4||t===6}function lA(t){return t.charCodeAt(0)===64}function rs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Rw(t,n,i,null,e[++r]):Rw(t,n,i,null,null))}}return t}function Rw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var TI="ng-template";function dA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&uA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ff(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ff(t){return t.type===4&&t.value!==TI}function hA(t,e,n){let r=t.type===4&&!n?TI:t.value;return e===r}function fA(t,e,n){let r=4,i=t.attrs,o=i!==null?mA(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Ot(r)&&!Ot(c))return!1;if(s&&Ot(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!hA(t,c,n)||c===""&&e.length===1){if(Ot(r))return!1;s=!0}}else if(r&8){if(i===null||!dA(t,i,c,n)){if(Ot(r))return!1;s=!0}}else{let l=e[++a],h=pA(c,i,ff(t),n);if(h===-1){if(Ot(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Ot(r))return!1;s=!0}}}}return Ot(r)||s}function Ot(t){return(t&1)===0}function pA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return yA(e,t)}function gA(t,e,n=!1){for(let r=0;r<e.length;r++)if(fA(t,e[r],n))return!0;return!1}function mA(t){for(let e=0;e<t.length;e++){let n=t[e];if(cA(n))return e}return t.length}function yA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function xw(t,e){return t?":not("+e.trim()+")":e}function vA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ot(s)&&(e+=xw(o,i),i=""),r=s,o=o||!Ot(r);n++}return i!==""&&(e+=xw(o,i)),e}function wA(t){return t.map(vA).join(",")}function IA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ot(i))break;i=o}r++}return{attrs:e,classes:n}}function CI(t){return ls(()=>{let e=xI(t),n=De(B({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===DI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Wt.Emulated,styles:t.styles||bt,_:null,schemas:t.schemas||null,tView:null,id:""});MI(n);let r=t.dependencies;return n.directiveDefs=Nw(r,!1),n.pipeDefs=Nw(r,!0),n.id=DA(n),n})}function EA(t){return qn(t)||bI(t)}function _A(t){return t!==null}function kr(t){return ls(()=>({type:t.type,bootstrap:t.bootstrap||bt,declarations:t.declarations||bt,imports:t.imports||bt,exports:t.exports||bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Mw(t,e){if(t==null)return Ci;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=zn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==zn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Vi(t){return ls(()=>{let e=xI(t);return MI(e),e})}function qn(t){return t[q0]||null}function bI(t){return t[H0]||null}function AI(t){return t[G0]||null}function SI(t){let e=qn(t)||bI(t)||AI(t);return e!==null?e.standalone:!1}function RI(t,e){let n=t[W0]||null;if(!n&&e===!0)throw new Error(`Type ${st(t)} does not have '\u0275mod' property.`);return n}function xI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ci,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mw(t.inputs,e),outputs:Mw(t.outputs),debugInfo:null}}function MI(t){t.features?.forEach(e=>e(t))}function Nw(t,e){if(!t)return null;let n=e?AI:EA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(_A)}function DA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function St(t){return{\u0275providers:t}}function TA(...t){return{\u0275providers:NI(!0,t),\u0275fromNgModule:!0}}function NI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return hf(e,s=>{let a=s;wh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&PI(i,o),n}function PI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];pf(i,o=>{e(o,r)})}}function wh(t,e,n,r){if(t=it(t),!t)return!1;let i=null,o=Cw(t),s=!o&&qn(t);if(!o&&!s){let c=t.ngModule;if(o=Cw(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)wh(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{hf(o.imports,h=>{wh(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&PI(l,e)}if(!a){let l=Ti(i)||(()=>new i);e({provide:i,useFactory:l,deps:bt},i),e({provide:_I,useValue:i,multi:!0},i),e({provide:bi,useValue:()=>j(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;pf(c,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function pf(t,e){for(let n of t)mI(n)&&(n=n.\u0275providers),Array.isArray(n)?pf(n,e):e(n)}var CA=we({provide:String,useValue:we});function kI(t){return t!==null&&typeof t=="object"&&CA in t}function bA(t){return!!(t&&t.useExisting)}function AA(t){return!!(t&&t.useFactory)}function Ai(t){return typeof t=="function"}function SA(t){return!!t.useClass}var lc=new V(""),xu={},RA={},nh;function gf(){return nh===void 0&&(nh=new Vu),nh}var ct=class{},is=class extends ct{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Eh(e,s=>this.processProvider(s)),this.records.set(EI,vi(void 0,this)),i.has("environment")&&this.records.set(ct,vi(void 0,this));let o=this.records.get(lc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_I,bt,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Un(this),r=Ct(void 0),i;try{return e()}finally{Un(n),Ct(r)}}get(e,n=ns,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Aw))return e[Aw](this);r=cc(r);let i,o=Un(this),s=Ct(void 0);try{if(!(r&re.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=kA(e)&&ac(e);l&&this.injectableDefInScope(l)?c=vi(Ih(e),xu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&re.Self?gf():this.parent;return n=r&re.Optional&&n===ns?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Fu]=a[Fu]||[]).unshift(st(e)),o)throw a;return rA(a,e,"R3InjectorError",this.source)}else throw a}finally{Ct(s),Un(o)}}resolveInjectorInitializers(){let e=ce(null),n=Un(this),r=Ct(void 0),i;try{let o=this.get(bi,bt,re.Self);for(let s of o)s()}finally{Un(n),Ct(r),ce(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(st(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){e=it(e);let n=Ai(e)?e:it(e&&e.provide),r=MA(e);if(!Ai(e)&&e.multi===!0){let i=this.records.get(n);i||(i=vi(void 0,xu,!0),i.factory=()=>yh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ce(null);try{return n.value===xu&&(n.value=RA,n.value=n.factory()),typeof n.value=="object"&&n.value&&PA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ce(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=it(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ih(t){let e=ac(t),n=e!==null?e.factory:Ti(t);if(n!==null)return n;if(t instanceof V)throw new G(204,!1);if(t instanceof Function)return xA(t);throw new G(204,!1)}function xA(t){if(t.length>0)throw new G(204,!1);let n=$0(t);return n!==null?()=>n.factory(t):()=>new t}function MA(t){if(kI(t))return vi(void 0,t.useValue);{let e=OI(t);return vi(e,xu)}}function OI(t,e,n){let r;if(Ai(t)){let i=it(t);return Ti(i)||Ih(i)}else if(kI(t))r=()=>it(t.useValue);else if(AA(t))r=()=>t.useFactory(...yh(t.deps||[]));else if(bA(t))r=()=>j(it(t.useExisting));else{let i=it(t&&(t.useClass||t.provide));if(NA(t))r=()=>new i(...yh(t.deps));else return Ti(i)||Ih(i)}return r}function vi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function NA(t){return!!t.deps}function PA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function kA(t){return typeof t=="function"||typeof t=="object"&&t instanceof V}function Eh(t,e){for(let n of t)Array.isArray(n)?Eh(n,e):n&&mI(n)?Eh(n.\u0275providers,e):e(n)}function Rt(t,e){t instanceof is&&t.assertNotDestroyed();let n,r=Un(t),i=Ct(void 0);try{return e()}finally{Un(r),Ct(i)}}function FI(){return yI()!==void 0||eA()!=null}function OA(t){if(!FI())throw new G(-203,!1)}function FA(t){return typeof t=="function"}var vn=0,ie=1,J=2,lt=3,Ft=4,Vt=5,os=6,ju=7,at=8,Si=9,Kt=10,Pe=11,ss=12,Pw=13,ji=14,Lt=15,Ri=16,wi=17,xi=18,dc=19,LI=20,Bn=21,rh=22,At=23,Qt=25,VI=1;var br=7,Uu=8,Bu=9,ut=10,$u=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}($u||{});function $n(t){return Array.isArray(t)&&typeof t[VI]=="object"}function wn(t){return Array.isArray(t)&&t[VI]===!0}function jI(t){return(t.flags&4)!==0}function hc(t){return t.componentOffset>-1}function mf(t){return(t.flags&1)===1}function Hn(t){return!!t.template}function _h(t){return(t[J]&512)!==0}var Dh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function UI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function fc(){return BI}function BI(t){return t.type.prototype.ngOnChanges&&(t.setInput=VA),LA}fc.ngInherit=!0;function LA(){let t=zI(this),e=t?.current;if(e){let n=t.previous;if(n===Ci)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function VA(t,e,n,r,i){let o=this.declaredInputs[r],s=zI(t)||jA(t,{previous:Ci,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Dh(l&&l.currentValue,n,c===Ci),UI(t,e,i,n)}var $I="__ngSimpleChanges__";function zI(t){return t[$I]||null}function jA(t,e){return t[$I]=e}var kw=null;var Ht=function(t,e,n){kw?.(t,e,n)},UA="svg",BA="math";function Yt(t){for(;Array.isArray(t);)t=t[vn];return t}function qI(t,e){return Yt(e[t])}function xt(t,e){return Yt(e[t.index])}function yf(t,e){return t.data[e]}function $A(t,e){return t[e]}function Kn(t,e){let n=e[t];return $n(n)?n:n[vn]}function vf(t){return(t[J]&128)===128}function zA(t){return wn(t[lt])}function Mi(t,e){return e==null?null:t[e]}function HI(t){t[wi]=0}function GI(t){t[J]&1024||(t[J]|=1024,vf(t)&&gc(t))}function qA(t,e){for(;t>0;)e=e[ji],t--;return e}function pc(t){return!!(t[J]&9216||t[At]?.dirty)}function Th(t){t[Kt].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),pc(t)&&gc(t)}function gc(t){t[Kt].changeDetectionScheduler?.notify(0);let e=Ar(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!vf(e)));)e=Ar(e)}function WI(t,e){if((t[J]&256)===256)throw new G(911,!1);t[Bn]===null&&(t[Bn]=[]),t[Bn].push(e)}function HA(t,e){if(t[Bn]===null)return;let n=t[Bn].indexOf(e);n!==-1&&t[Bn].splice(n,1)}function Ar(t){let e=t[lt];return wn(e)?e[lt]:e}var oe={lFrame:rE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var KI=!1;function GA(){return oe.lFrame.elementDepthCount}function WA(){oe.lFrame.elementDepthCount++}function KA(){oe.lFrame.elementDepthCount--}function QI(){return oe.bindingsEnabled}function QA(){return oe.skipHydrationRootTNode!==null}function YA(t){return oe.skipHydrationRootTNode===t}function ZA(){oe.skipHydrationRootTNode=null}function ge(){return oe.lFrame.lView}function dt(){return oe.lFrame.tView}function M4(t){return oe.lFrame.contextLView=t,t[at]}function N4(t){return oe.lFrame.contextLView=null,t}function gt(){let t=YI();for(;t!==null&&t.type===64;)t=t.parent;return t}function YI(){return oe.lFrame.currentTNode}function JA(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function hs(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function ZI(){return oe.lFrame.isParent}function XA(){oe.lFrame.isParent=!1}function eS(){return oe.lFrame.contextLView}function JI(){return KI}function Ow(t){KI=t}function XI(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function tS(t){return oe.lFrame.bindingIndex=t}function fs(){return oe.lFrame.bindingIndex++}function nS(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function rS(){return oe.lFrame.inI18n}function iS(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ch(e)}function oS(){return oe.lFrame.currentDirectiveIndex}function Ch(t){oe.lFrame.currentDirectiveIndex=t}function sS(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function eE(t){oe.lFrame.currentQueryIndex=t}function aS(t){let e=t[ie];return e.type===2?e.declTNode:e.type===1?t[Vt]:null}function tE(t,e,n){if(n&re.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=aS(o),i===null||(o=o[ji],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=oe.lFrame=nE();return r.currentTNode=e,r.lView=t,!0}function wf(t){let e=nE(),n=t[ie];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function nE(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?rE(t):e}function rE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function iE(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var oE=iE;function If(){let t=iE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function uS(t){return(oe.lFrame.contextLView=qA(t,oe.lFrame.contextLView))[at]}function Or(){return oe.lFrame.selectedIndex}function Sr(t){oe.lFrame.selectedIndex=t}function mc(){let t=oe.lFrame;return yf(t.tView,t.selectedIndex)}function cS(){return oe.lFrame.currentNamespace}var sE=!0;function Ef(){return sE}function _f(t){sE=t}function lS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=BI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Df(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Mu(t,e,n){aE(t,e,3,n)}function Nu(t,e,n,r){(t[J]&3)===n&&aE(t,e,n,r)}function ih(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function aE(t,e,n,r){let i=r!==void 0?t[wi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[wi]+=65536),(a<o||o==-1)&&(dS(t,n,e,c),t[wi]=(t[wi]&4294901760)+c+2),c++}function Fw(t,e){Ht(4,t,e);let n=ce(null);try{e.call(t)}finally{ce(n),Ht(5,t,e)}}function dS(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[J]>>14<t[wi]>>16&&(t[J]&3)===e&&(t[J]+=16384,Fw(a,o)):Fw(a,o)}var Di=-1,Rr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function hS(t){return t instanceof Rr}function fS(t){return(t.flags&8)!==0}function pS(t){return(t.flags&16)!==0}var oh={},bh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=cc(r);let i=this.injector.get(e,oh,r);return i!==oh||n===oh?i:this.parentInjector.get(e,n,r)}};function uE(t){return t!==Di}function zu(t){return t&32767}function gS(t){return t>>16}function qu(t,e){let n=gS(t),r=e;for(;n>0;)r=r[ji],n--;return r}var Ah=!0;function Lw(t){let e=Ah;return Ah=t,e}var mS=256,cE=mS-1,lE=5,yS=0,Gt={};function vS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ts)&&(r=n[ts]),r==null&&(r=n[ts]=yS++);let i=r&cE,o=1<<i;e.data[t+(i>>lE)]|=o}function Hu(t,e){let n=dE(t,e);if(n!==-1)return n;let r=e[ie];r.firstCreatePass&&(t.injectorIndex=e.length,sh(r.data,t),sh(e,null),sh(r.blueprint,null));let i=Tf(t,e),o=t.injectorIndex;if(uE(i)){let s=zu(i),a=qu(i,e),c=a[ie].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function sh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Tf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=mE(i),r===null)return Di;if(n++,i=i[ji],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Di}function Sh(t,e,n){vS(t,e,n)}function hE(t,e,n){if(n&re.Optional||t!==void 0)return t;lf(e,"NodeInjector")}function fE(t,e,n,r){if(n&re.Optional&&r===void 0&&(r=null),!(n&(re.Self|re.Host))){let i=t[Si],o=Ct(void 0);try{return i?i.get(e,r,n&re.Optional):vI(e,r,n&re.Optional)}finally{Ct(o)}}return hE(r,e,n)}function pE(t,e,n,r=re.Default,i){if(t!==null){if(e[J]&2048&&!(r&re.Self)){let s=DS(t,e,n,r,Gt);if(s!==Gt)return s}let o=gE(t,e,n,r,Gt);if(o!==Gt)return o}return fE(e,n,r,i)}function gE(t,e,n,r,i){let o=ES(n);if(typeof o=="function"){if(!tE(e,t,r))return r&re.Host?hE(i,n,r):fE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&re.Optional))lf(n);else return s}finally{oE()}}else if(typeof o=="number"){let s=null,a=dE(t,e),c=Di,l=r&re.Host?e[Lt][Vt]:null;for((a===-1||r&re.SkipSelf)&&(c=a===-1?Tf(t,e):e[a+8],c===Di||!jw(r,!1)?a=-1:(s=e[ie],a=zu(c),e=qu(c,e)));a!==-1;){let h=e[ie];if(Vw(o,a,h.data)){let p=wS(a,e,n,s,r,l);if(p!==Gt)return p}c=e[a+8],c!==Di&&jw(r,e[ie].data[a+8]===l)&&Vw(o,a,e)?(s=h,a=zu(c),e=qu(c,e)):a=-1}}return i}function wS(t,e,n,r,i,o){let s=e[ie],a=s.data[t+8],c=r==null?hc(a)&&Ah:r!=s&&(a.type&3)!==0,l=i&re.Host&&o===a,h=IS(a,s,n,c,l);return h!==null?Ni(e,s,h,a):Gt}function IS(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=s[y];if(y<c&&n===C||y>=c&&C.type===n)return y}if(i){let y=s[c];if(y&&Hn(y)&&y.type===n)return c}return null}function Ni(t,e,n,r){let i=t[n],o=e.data;if(hS(i)){let s=i;s.resolving&&Q0(K0(o[n]));let a=Lw(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Ct(s.injectImpl):null,h=tE(t,r,re.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&lS(n,o[n],e)}finally{l!==null&&Ct(l),Lw(a),s.resolving=!1,oE()}}return i}function ES(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ts)?t[ts]:void 0;return typeof e=="number"?e>=0?e&cE:_S:e}function Vw(t,e,n){let r=1<<t;return!!(n[e+(t>>lE)]&r)}function jw(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var Cr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return pE(this._tNode,this._lView,e,cc(r),n)}};function _S(){return new Cr(gt(),ge())}function Cf(t){return ls(()=>{let e=t.prototype.constructor,n=e[Ou]||Rh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ou]||Rh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Rh(t){return hI(t)?()=>{let e=Rh(it(t));return e&&e()}:Ti(t)}function DS(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!(s[J]&512);){let a=gE(o,s,n,r|re.Self,Gt);if(a!==Gt)return a;let c=o.parent;if(!c){let l=s[LI];if(l){let h=l.get(n,Gt,r);if(h!==Gt)return h}c=mE(s),s=s[ji]}o=c}return i}function mE(t){let e=t[ie],n=e.type;return n===2?e.declTNode:n===1?t[Vt]:null}function Uw(t,e=null,n=null,r){let i=yE(t,e,n,r);return i.resolveInjectorInitializers(),i}function yE(t,e=null,n=null,r,i=new Set){let o=[n||bt,TA(t)];return r=r||(typeof t=="object"?void 0:st(t)),new is(o,e||gf(),r||null,i)}var Dr=class Dr{static create(e,n){if(Array.isArray(e))return Uw({name:""},n,e,"");{let r=e.name??"";return Uw({name:r},e.parent,e.providers,r)}}};Dr.THROW_IF_NOT_FOUND=ns,Dr.NULL=new Vu,Dr.\u0275prov=z({token:Dr,providedIn:"any",factory:()=>j(EI)}),Dr.__NG_ELEMENT_ID__=-1;var Ze=Dr;var TS=new V("");TS.__NG_ELEMENT_ID__=t=>{let e=gt();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(t&re.Optional)return null;throw new G(204,!1)};var CS="ngOriginalError";function ah(t){return t[CS]}var vE=!0,bf=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=bS,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),xh=class extends bf{constructor(e){super(),this._lView=e}onDestroy(e){return WI(this._lView,e),()=>HA(this._lView,e)}};function bS(){return new xh(ge())}var Qn=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Be(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Mh=class extends xe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,FI()&&(this.destroyRef=N(bf,{optional:!0})??void 0,this.pendingTasks=N(Qn,{optional:!0})??void 0)}emit(e){let n=ce(null);try{super.next(e)}finally{ce(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Se&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ot=Mh;function Gu(...t){}function wE(t){let e,n;function r(){t=Gu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Bw(t){return queueMicrotask(()=>t()),()=>{t=Gu}}var Af="isAngularZone",Wu=Af+"_ID",AS=0,le=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ot(!1),this.onMicrotaskEmpty=new ot(!1),this.onStable=new ot(!1),this.onError=new ot(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=vE}=e;if(typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,xS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Af)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new G(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,SS,Gu,Gu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},SS={};function Sf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function RS(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){wE(()=>{t.callbackScheduled=!1,Nh(t),t.isCheckStableRunning=!0,Sf(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Nh(t)}function xS(t){let e=()=>{RS(t)},n=AS++;t._inner=t._inner.fork({name:"angular",properties:{[Af]:!0,[Wu]:n,[Wu+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(MS(c))return r.invokeTask(o,s,a,c);try{return $w(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),zw(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return $w(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!NS(c)&&e(),zw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Nh(t),Sf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Nh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function $w(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zw(t){t._nesting--,Sf(t)}var Ph=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ot,this.onMicrotaskEmpty=new ot,this.onStable=new ot,this.onError=new ot}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function MS(t){return IE(t,"__ignore_ng_zone__")}function NS(t){return IE(t,"__scheduler_tick__")}function IE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var gn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ah(e);for(;n&&ah(n);)n=ah(n);return n||null}},PS=new V("",{providedIn:"root",factory:()=>{let t=N(le),e=N(gn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function kS(){return yc(gt(),ge())}function yc(t,e){return new ps(xt(t,e))}var ps=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=kS;let t=e;return t})();function EE(t){return(t.flags&128)===128}var _E=new Map,OS=0;function FS(){return OS++}function LS(t){_E.set(t[dc],t)}function kh(t){_E.delete(t[dc])}var qw="__ngContext__";function xr(t,e){$n(e)?(t[qw]=e[dc],LS(e)):t[qw]=e}function DE(t){return CE(t[ss])}function TE(t){return CE(t[Ft])}function CE(t){for(;t!==null&&!wn(t);)t=t[Ft];return t}var Oh;function bE(t){Oh=t}function VS(){if(Oh!==void 0)return Oh;if(typeof document<"u")return document;throw new G(210,!1)}var Rf=new V("",{providedIn:"root",factory:()=>jS}),jS="ng",xf=new V(""),ht=new V("",{providedIn:"platform",factory:()=>"unknown"});var Mf=new V("",{providedIn:"root",factory:()=>VS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var US="h",BS="b";var $S=()=>null;function Nf(t,e,n=!1){return $S(t,e,n)}var AE=!1,zS=new V("",{providedIn:"root",factory:()=>AE});var Ku=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cI})`}};function vc(t){return t instanceof Ku?t.changingThisBreaksApplicationSecurity:t}function SE(t,e){let n=qS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${cI})`)}return n===e}function qS(t){return t instanceof Ku&&t.getTypeName()||null}var HS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function RE(t){return t=String(t),t.match(HS)?t:"unsafe:"+t}var Pf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Pf||{});function P4(t){let e=GS();return e?e.sanitize(Pf.URL,t)||"":SE(t,"URL")?vc(t):RE(uc(t))}function GS(){let t=ge();return t&&t[Kt].sanitizer}function xE(t){return t instanceof Function?t():t}function WS(t){return(t??N(Ze)).get(ht)==="browser"}var mn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(mn||{}),KS;function kf(t,e){return KS(t,e)}function Ii(t,e,n,r,i){if(r!=null){let o,s=!1;wn(r)?o=r:$n(r)&&(s=!0,r=r[vn]);let a=Yt(r);t===0&&n!==null?i==null?kE(e,n,a):Qu(e,n,a,i||null,!0):t===1&&n!==null?Qu(e,n,a,i||null,!0):t===2?cR(e,a,s):t===3&&e.destroyNode(a),o!=null&&dR(e,t,o,n,i)}}function QS(t,e){return t.createText(e)}function YS(t,e,n){t.setValue(e,n)}function ME(t,e,n){return t.createElement(e,n)}function ZS(t,e){NE(t,e),e[vn]=null,e[Vt]=null}function JS(t,e,n,r,i,o){r[vn]=i,r[Vt]=e,Ic(t,r,n,1,i,o)}function NE(t,e){e[Kt].changeDetectionScheduler?.notify(9),Ic(t,e,e[Pe],2,null,null)}function XS(t){let e=t[ss];if(!e)return uh(t[ie],t);for(;e;){let n=null;if($n(e))n=e[ss];else{let r=e[ut];r&&(n=r)}if(!n){for(;e&&!e[Ft]&&e!==t;)$n(e)&&uh(e[ie],e),e=e[lt];e===null&&(e=t),$n(e)&&uh(e[ie],e),n=e&&e[Ft]}e=n}}function eR(t,e,n,r){let i=ut+r,o=n.length;r>0&&(n[i-1][Ft]=e),r<o-ut?(e[Ft]=n[i],II(n,ut+r,e)):(n.push(e),e[Ft]=null),e[lt]=n;let s=e[Ri];s!==null&&n!==s&&PE(s,e);let a=e[xi];a!==null&&a.insertView(t),Th(e),e[J]|=128}function PE(t,e){let n=t[Bu],r=e[lt];if($n(r))t[J]|=$u.HasTransplantedViews;else{let i=r[lt][Lt];e[Lt]!==i&&(t[J]|=$u.HasTransplantedViews)}n===null?t[Bu]=[e]:n.push(e)}function Of(t,e){let n=t[Bu],r=n.indexOf(e);n.splice(r,1)}function as(t,e){if(t.length<=ut)return;let n=ut+e,r=t[n];if(r){let i=r[Ri];i!==null&&i!==t&&Of(i,r),e>0&&(t[n-1][Ft]=r[Ft]);let o=Lu(t,ut+e);ZS(r[ie],r);let s=o[xi];s!==null&&s.detachView(o[ie]),r[lt]=null,r[Ft]=null,r[J]&=-129}return r}function wc(t,e){if(!(e[J]&256)){let n=e[Pe];n.destroyNode&&Ic(t,e,n,3,null,null),XS(e)}}function uh(t,e){if(e[J]&256)return;let n=ce(null);try{e[J]&=-129,e[J]|=256,e[At]&&Fd(e[At]),nR(t,e),tR(t,e),e[ie].type===1&&e[Pe].destroy();let r=e[Ri];if(r!==null&&wn(e[lt])){r!==e[lt]&&Of(r,e);let i=e[xi];i!==null&&i.detachView(t)}kh(e)}finally{ce(n)}}function tR(t,e){let n=t.cleanup,r=e[ju];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ju]=null);let i=e[Bn];if(i!==null){e[Bn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function nR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Rr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ht(4,a,c);try{c.call(a)}finally{Ht(5,a,c)}}else{Ht(4,i,o);try{o.call(i)}finally{Ht(5,i,o)}}}}}function rR(t,e,n){return iR(t,e.parent,n)}function iR(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[vn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Wt.None||o===Wt.Emulated)return null}return xt(r,n)}}function Qu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function kE(t,e,n){t.appendChild(e,n)}function Hw(t,e,n,r,i){r!==null?Qu(t,e,n,r,i):kE(t,e,n)}function OE(t,e){return t.parentNode(e)}function oR(t,e){return t.nextSibling(e)}function sR(t,e,n){return uR(t,e,n)}function aR(t,e,n){return t.type&40?xt(t,n):null}var uR=aR,Gw;function Ff(t,e,n,r){let i=rR(t,r,e),o=e[Pe],s=r.parent||e[Vt],a=sR(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Hw(o,i,n[c],a,!1);else Hw(o,i,n,a,!1);Gw!==void 0&&Gw(o,r,e,n,i)}function es(t,e){if(e!==null){let n=e.type;if(n&3)return xt(e,t);if(n&4)return Fh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return es(t,r);{let i=t[e.index];return wn(i)?Fh(-1,i):Yt(i)}}else{if(n&128)return es(t,e.next);if(n&32)return kf(e,t)()||Yt(t[e.index]);{let r=FE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ar(t[Lt]);return es(i,r)}else return es(t,e.next)}}}return null}function FE(t,e){if(e!==null){let r=t[Lt][Vt],i=e.projection;return r.projection[i]}return null}function Fh(t,e){let n=ut+t+1;if(n<e.length){let r=e[n],i=r[ie].firstChild;if(i!==null)return es(r,i)}return e[br]}function cR(t,e,n){t.removeChild(null,e,n)}function Lf(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&xr(Yt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Lf(t,e,n.child,r,i,o,!1),Ii(e,t,i,a,o);else if(c&32){let l=kf(n,r),h;for(;h=l();)Ii(e,t,i,h,o);Ii(e,t,i,a,o)}else c&16?lR(t,e,r,n,i,o):Ii(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ic(t,e,n,r,i,o){Lf(n,r,t.firstChild,e,i,o,!1)}function lR(t,e,n,r,i,o){let s=n[Lt],c=s[Vt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];Ii(e,t,i,h,o)}else{let l=c,h=s[lt];EE(r)&&(l.flags|=128),Lf(t,e,l,h,i,o,!0)}}function dR(t,e,n,r,i){let o=n[br],s=Yt(n);o!==s&&Ii(e,t,r,o,i);for(let a=ut;a<n.length;a++){let c=n[a];Ic(c[ie],c,t,e,r,o)}}function hR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:mn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=mn.Important),t.setStyle(n,r,i,o))}}function fR(t,e,n){t.setAttribute(e,"style",n)}function LE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function VE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&vh(t,e,r),i!==null&&LE(t,e,i),o!==null&&fR(t,e,o)}var Yn={};function k4(t=1){jE(dt(),ge(),Or()+t,!1)}function jE(t,e,n,r){if(!r)if((e[J]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Mu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Nu(e,o,0,n)}Sr(n)}function Mt(t,e=re.Default){let n=ge();if(n===null)return j(t,e);let r=gt();return pE(r,n,it(t),e)}function UE(){let t="invalid";throw new Error(t)}function BE(t,e,n,r,i,o){let s=ce(null);try{let a=null;i&zn.SignalBased&&(a=e[r][ln]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&zn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):UI(e,a,r,o)}finally{ce(s)}}function pR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Sr(~i);else{let o=i,s=n[++r],a=n[++r];iS(s,o);let c=e[o];a(2,c)}}}finally{Sr(-1)}}function Ec(t,e,n,r,i,o,s,a,c,l,h){let p=e.blueprint.slice();return p[vn]=i,p[J]=r|4|128|8|64,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),HI(p),p[lt]=p[ji]=t,p[at]=n,p[Kt]=s||t&&t[Kt],p[Pe]=a||t&&t[Pe],p[Si]=c||t&&t[Si]||null,p[Vt]=o,p[dc]=FS(),p[os]=h,p[LI]=l,p[Lt]=e.type==2?t[Lt]:p,p}function _c(t,e,n,r,i){let o=t.data[e];if(o===null)o=gR(t,e,n,r,i),rS()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=JA();o.injectorIndex=s===null?-1:s.injectorIndex}return hs(o,!0),o}function gR(t,e,n,r,i){let o=YI(),s=ZI(),a=s?o:o&&o.parent,c=t.data[e]=IR(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function $E(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function zE(t,e,n,r,i){let o=Or(),s=r&2;try{Sr(-1),s&&e.length>Qt&&jE(t,e,Qt,!1),Ht(s?2:0,i),n(r,i)}finally{Sr(o),Ht(s?3:1,i)}}function qE(t,e,n){if(jI(e)){let r=ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{ce(r)}}}function HE(t,e,n){QI()&&(bR(t,e,n,xt(n,e)),(n.flags&64)===64&&YE(t,e,n))}function GE(t,e,n=xt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function WE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Vf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Vf(t,e,n,r,i,o,s,a,c,l,h){let p=Qt+r,m=p+i,y=mR(p,m),C=typeof l=="function"?l():l;return y[ie]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:C,incompleteFirstPass:!1,ssrId:h}}function mR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Yn);return n}function yR(t,e,n,r){let o=r.get(zS,AE)||n===Wt.ShadowDom,s=t.selectRootElement(e,o);return vR(s),s}function vR(t){wR(t)}var wR=()=>null;function IR(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return QA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ww(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=zn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Kw(r,n,l,a,c):Kw(r,n,l,a)}return r}function Kw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function ER(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,C=m?m.outputs:null;c=Ww(0,p.inputs,h,c,y),l=Ww(1,p.outputs,h,l,C);let R=c!==null&&s!==null&&!ff(e)?LR(c,h,s):null;a.push(R)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function _R(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function jf(t,e,n,r,i,o,s,a){let c=xt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Uf(t,n,h,r,i),hc(e)&&DR(n,e.index)):e.type&3?(r=_R(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function DR(t,e){let n=Kn(e,t);n[J]&16||(n[J]|=64)}function KE(t,e,n,r){if(QI()){let i=r===null?null:{"":-1},o=SR(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&QE(t,e,n,s,i,a),i&&RR(n,r,i)}n.mergedAttrs=rs(n.mergedAttrs,n.attrs)}function QE(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Sh(Hu(n,e),t,r[l].type);MR(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=$E(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=rs(n.mergedAttrs,h.hostAttrs),NR(t,n,e,c,h),xR(c,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}ER(t,n,o)}function TR(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;CR(s)!=a&&s.push(a),s.push(n,r,o)}}function CR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function bR(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;hc(n)&&PR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Hu(n,e),xr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Ni(e,t,a,n);if(xr(l,e),s!==null&&FR(e,a-i,l,c,n,s),Hn(c)){let h=Kn(n.index,e);h[at]=Ni(e,t,a,n)}}}function YE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=oS();try{Sr(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Ch(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&AR(c,l)}}finally{Sr(-1),Ch(s)}}function AR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function SR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(gA(e,s.selectors,!1))if(r||(r=[]),Hn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Lh(t,e,c)}else r.unshift(s),Lh(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Lh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function RR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new G(-301,!1);r.push(e[i],o)}}}function xR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Hn(e)&&(n[""]=t)}}function MR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function NR(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ti(i.type,!0)),s=new Rr(o,Hn(i),Mt);t.blueprint[r]=s,n[r]=s,TR(t,e,r,$E(t,n,i.hostVars,Yn),i)}function PR(t,e,n){let r=xt(e,t),i=WE(n),o=t[Kt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Dc(t,Ec(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function kR(t,e,n,r,i,o){let s=xt(t,e);OR(e[Pe],s,o,t.value,n,r,i)}function OR(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?uc(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function FR(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],h=s[a++],p=s[a++];BE(r,n,c,l,h,p)}}function LR(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function ZE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function JE(t,e){let n=t.contentQueries;if(n!==null){let r=ce(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];eE(o),a.contentQueries(2,e[s],s)}}}finally{ce(r)}}}function Dc(t,e){return t[ss]?t[Pw][Ft]=e:t[ss]=e,t[Pw]=e,e}function Vh(t,e,n){eE(0);let r=ce(null);try{e(t,n)}finally{ce(r)}}function VR(t){return t[ju]??=[]}function jR(t){return t.cleanup??=[]}function XE(t,e){let n=t[Si],r=n?n.get(gn,null):null;r&&r.handleError(e)}function Uf(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],h=t.data[s];BE(h,l,r,a,c,i)}}function UR(t,e,n){let r=qI(e,t);YS(t[Pe],r,n)}function BR(t,e){let n=Kn(e,t),r=n[ie];$R(r,n);let i=n[vn];i!==null&&n[os]===null&&(n[os]=Nf(i,n[Si])),Bf(r,n,n[at])}function $R(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Bf(t,e,n){wf(e);try{let r=t.viewQuery;r!==null&&Vh(1,r,n);let i=t.template;i!==null&&zE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[xi]?.finishViewCreation(t),t.staticContentQueries&&JE(t,e),t.staticViewQueries&&Vh(2,t.viewQuery,n);let o=t.components;o!==null&&zR(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,If()}}function zR(t,e){for(let n=0;n<e.length;n++)BR(t,e[n])}function $f(t,e,n,r){let i=ce(null);try{let o=e.tView,a=t[J]&4096?4096:16,c=Ec(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Ri]=l;let h=t[xi];return h!==null&&(c[xi]=h.createEmbeddedView(o)),Bf(o,c,n),c}finally{ce(i)}}function qR(t,e){let n=ut+e;if(n<t.length)return t[n]}function Yu(t,e){return!e||e.firstChild===null||EE(t)}function zf(t,e,n,r=!0){let i=e[ie];if(eR(i,e,t,n),r){let s=Fh(n,t),a=e[Pe],c=OE(a,t[br]);c!==null&&JS(i,t[Vt],a,e,c,s)}let o=e[os];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function HR(t,e){let n=as(t,e);return n!==void 0&&wc(n[ie],n),n}function Zu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Yt(o)),wn(o)&&GR(o,r);let s=n.type;if(s&8)Zu(t,e,n.child,r);else if(s&32){let a=kf(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=FE(e,n);if(Array.isArray(a))r.push(...a);else{let c=Ar(e[Lt]);Zu(c[ie],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function GR(t,e){for(let n=ut;n<t.length;n++){let r=t[n],i=r[ie].firstChild;i!==null&&Zu(r[ie],r,i,e)}t[br]!==t[vn]&&e.push(t[br])}var e_=[];function WR(t){return t[At]??KR(t)}function KR(t){let e=e_.pop()??Object.create(YR);return e.lView=t,e}function QR(t){t.lView[At]!==t&&(t.lView=null,e_.push(t))}var YR=De(B({},Qo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{gc(t.lView)},consumerOnSignalRead(){this.lView[At]=this}});function ZR(t){let e=t[At]??Object.create(JR);return e.lView=t,e}var JR=De(B({},Qo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Ar(t.lView);for(;e&&!t_(e[ie]);)e=Ar(e);e&&GI(e)},consumerOnSignalRead(){this.lView[At]=this}});function t_(t){return t.type!==2}var XR=100;function n_(t,e=!0,n=0){let r=t[Kt],i=r.rendererFactory,o=!1;o||i.begin?.();try{ex(t,n)}catch(s){throw e&&XE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function ex(t,e){let n=JI();try{Ow(!0),jh(t,e);let r=0;for(;pc(t);){if(r===XR)throw new G(103,!1);r++,jh(t,1)}}finally{Ow(n)}}function tx(t,e,n,r){let i=e[J];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Kt].inlineEffectRunner?.flush(),wf(e);let a=!0,c=null,l=null;o||(t_(t)?(l=WR(e),c=Wa(l)):$v()===null?(a=!1,l=ZR(e),c=Wa(l)):e[At]&&(Fd(e[At]),e[At]=null));try{HI(e),tS(t.bindingStartIndex),n!==null&&zE(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Mu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Nu(e,y,0,null),ih(e,0)}if(s||nx(e),r_(e,0),t.contentQueries!==null&&JE(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Mu(e,y)}else{let y=t.contentHooks;y!==null&&Nu(e,y,1),ih(e,1)}pR(t,e);let p=t.components;p!==null&&o_(e,p,0);let m=t.viewQuery;if(m!==null&&Vh(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Mu(e,y)}else{let y=t.viewHooks;y!==null&&Nu(e,y,2),ih(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[rh]){for(let y of e[rh])y();e[rh]=null}o||(e[J]&=-73)}catch(h){throw o||gc(e),h}finally{l!==null&&(kd(l,c),a&&QR(l)),If()}}function r_(t,e){for(let n=DE(t);n!==null;n=TE(n))for(let r=ut;r<n.length;r++){let i=n[r];i_(i,e)}}function nx(t){for(let e=DE(t);e!==null;e=TE(e)){if(!(e[J]&$u.HasTransplantedViews))continue;let n=e[Bu];for(let r=0;r<n.length;r++){let i=n[r];GI(i)}}}function rx(t,e,n){let r=Kn(e,t);i_(r,n)}function i_(t,e){vf(t)&&jh(t,e)}function jh(t,e){let r=t[ie],i=t[J],o=t[At],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Od(o)),s||=!1,o&&(o.dirty=!1),t[J]&=-9217,s)tx(r,t,r.template,t[at]);else if(i&8192){r_(t,1);let a=r.components;a!==null&&o_(t,a,1)}}function o_(t,e,n){for(let r=0;r<e.length;r++)rx(t,e[r],n)}function qf(t,e){let n=JI()?64:1088;for(t[Kt].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=Ar(t);if(_h(t)&&!r)return t;t=r}return null}var Mr=class{get rootNodes(){let e=this._lView,n=e[ie];return Zu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[at]}set context(e){this._lView[at]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(wn(e)){let n=e[Uu],r=n?n.indexOf(this):-1;r>-1&&(as(e,r),Lu(n,r))}this._attachedToViewContainer=!1}wc(this._lView[ie],this._lView)}onDestroy(e){WI(this._lView,e)}markForCheck(){qf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){Th(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,n_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=_h(this._lView),n=this._lView[Ri];n!==null&&!e&&Of(n,this._lView),NE(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let n=_h(this._lView),r=this._lView[Ri];r!==null&&!n&&PE(r,this._lView),Th(this._lView)}},Tc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=sx;let t=e;return t})(),ix=Tc,ox=class extends ix{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=$f(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Mr(i)}};function sx(){return s_(gt(),ge())}function s_(t,e){return t.type&4?new ox(e,t,yc(t,e)):null}var F4=new RegExp(`^(\\d+)*(${BS}|${US})*(.*)`);var ax=()=>null;function Ju(t,e){return ax(t,e)}var Pi=class{},Hf=new V("",{providedIn:"root",factory:()=>!1});var a_=new V(""),u_=new V(""),Uh=class{},Xu=class{};function ux(t){let e=Error(`No component factory found for ${st(t)}.`);return e[cx]=t,e}var cx="ngComponent";var Bh=class{resolveComponentFactory(e){throw ux(e)}},Jf=class Jf{};Jf.NULL=new Bh;var ki=Jf,Oi=class{},Cc=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>lx();let t=e;return t})();function lx(){let t=ge(),e=gt(),n=Kn(e.index,t);return($n(n)?n:t)[Pe]}var dx=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function $h(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Dw(i,a);else if(o==2){let c=a,l=e[++s];r=Dw(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ec=class extends ki{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=qn(e);return new Fi(n,this.ngModule)}};function Qw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:zn.None;e?n.push({propName:s,templateName:r,isSignal:(a&zn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function hx(t){let e=t.toLowerCase();return e==="svg"?UA:e==="math"?BA:null}var Fi=class extends Xu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Qw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Qw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=wA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ce(null);try{i=i||this.ngModule;let s=i instanceof ct?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new bh(e,s):e,c=a.get(Oi,null);if(c===null)throw new G(407,!1);let l=a.get(dx,null),h=a.get(Pi,null),p={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?yR(m,r,this.componentDef.encapsulation,a):ME(m,y,hx(y)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let A=null;C!==null&&(A=Nf(C,a,!0));let M=Vf(0,null,null,1,0,null,null,null,null,null,null),F=Ec(null,M,null,R,null,null,p,m,a,null,A);wf(F);let L,$,he=null;try{let K=this.componentDef,E,v=null;K.findHostDirectiveDefs?(E=[],v=new Map,K.findHostDirectiveDefs(K,E,v),E.push(K)):E=[K];let I=fx(F,C);he=px(I,C,K,E,F,p,m),$=yf(M,Qt),C&&yx(m,K,C,r),n!==void 0&&vx($,this.ngContentSelectors,n),L=mx(he,K,E,v,F,[wx]),Bf(M,F,null)}catch(K){throw he!==null&&kh(he),kh(F),K}finally{If()}return new zh(this.componentType,L,yc($,F),F,$)}finally{ce(o)}}},zh=class extends Uh{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Mr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Uf(o[ie],o,i,e,n),this.previousInputValues.set(e,n);let s=Kn(this._tNode.index,o);qf(s,1)}}get injector(){return new Cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function fx(t,e){let n=t[ie],r=Qt;return t[r]=e,_c(n,r,2,"#host",null)}function px(t,e,n,r,i,o,s){let a=i[ie];gx(r,t,e,s);let c=null;e!==null&&(c=Nf(e,i[Si]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Ec(i,WE(n),null,h,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Lh(a,t,r.length-1),Dc(i,p),i[t.index]=p}function gx(t,e,n,r){for(let i of t)e.mergedAttrs=rs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&($h(e,e.mergedAttrs,!0),n!==null&&VE(r,n,e))}function mx(t,e,n,r,i,o){let s=gt(),a=i[ie],c=xt(s,i);QE(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=Ni(i,a,p,s);xr(m,i)}YE(a,i,s),c&&xr(c,i);let l=Ni(i,a,s.directiveStart+s.componentOffset,s);if(t[at]=i[at]=l,o!==null)for(let h of o)h(l,e);return qE(a,s,i),l}function yx(t,e,n,r){if(r)vh(t,n,["ng-version","18.2.4"]);else{let{attrs:i,classes:o}=IA(e.selectors[0]);i&&vh(t,n,i),o&&o.length>0&&LE(t,n,o.join(" "))}}function vx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function wx(){let t=gt();Df(ge()[ie],t)}var Ui=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ix;let t=e;return t})();function Ix(){let t=gt();return _x(t,ge())}var Ex=Ui,c_=class extends Ex{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return yc(this._hostTNode,this._hostLView)}get injector(){return new Cr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Tf(this._hostTNode,this._hostLView);if(uE(e)){let n=qu(e,this._hostLView),r=zu(e),i=n[ie].data[r+8];return new Cr(i,n)}else return new Cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Yw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ut}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ju(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Yu(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!FA(e),a;if(s)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let c=s?e:new Fi(qn(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let R=(s?l:this.parentInjector).get(ct,null);R&&(o=R)}let h=qn(c.componentType??{}),p=Ju(this._lContainer,h?.id??null),m=p?.firstChild??null,y=c.create(l,i,m,o);return this.insertImpl(y.hostView,a,Yu(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(zA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[lt],l=new c_(c,c[Vt],c[lt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return zf(s,i,o,r),e.attachToViewContainerRef(),II(ch(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Yw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=as(this._lContainer,n);r&&(Lu(ch(this._lContainer),n),wc(r[ie],r))}detach(e){let n=this._adjustIndex(e,-1),r=as(this._lContainer,n);return r&&Lu(ch(this._lContainer),n)!=null?new Mr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Yw(t){return t[Uu]}function ch(t){return t[Uu]||(t[Uu]=[])}function _x(t,e){let n,r=e[t.index];return wn(r)?n=r:(n=ZE(r,e,null,t),e[t.index]=n,Dc(e,n)),Tx(n,e,t,r),new c_(n,t,e)}function Dx(t,e){let n=t[Pe],r=n.createComment(""),i=xt(e,t),o=OE(n,i);return Qu(n,o,r,oR(n,i),!1),r}var Tx=Ax,Cx=()=>!1;function bx(t,e,n){return Cx(t,e,n)}function Ax(t,e,n,r){if(t[br])return;let i;n.type&8?i=Yt(r):i=Dx(e,n),t[br]=i}var Zw=new Set;function Zn(t){Zw.has(t)||(Zw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Sx(t){return typeof t=="function"&&t[ln]!==void 0}function V4(t,e){Zn("NgSignals");let n=Xv(t),r=n[ln];return e?.equal&&(r.equal=e.equal),n.set=i=>Ld(r,i),n.update=i=>ew(r,i),n.asReadonly=Rx.bind(n),n}function Rx(){let t=this[ln];if(t.readonlyFn===void 0){let e=()=>this();e[ln]=t,t.readonlyFn=e}return t.readonlyFn}function l_(t){return Sx(t)&&typeof t.set=="function"}function xx(t){return Object.getPrototypeOf(t.prototype).constructor}function Mx(t){let e=xx(t.type),n=!0,r=[t];for(;e;){let i;if(Hn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Au(t.inputs),s.inputTransforms=Au(t.inputTransforms),s.declaredInputs=Au(t.declaredInputs),s.outputs=Au(t.outputs);let a=i.hostBindings;a&&Fx(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&kx(t,c),l&&Ox(t,l),Nx(t,i),U0(t.outputs,i.outputs),Hn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Mx&&(n=!1)}}e=Object.getPrototypeOf(e)}Px(r)}function Nx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Px(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=rs(i.hostAttrs,n=rs(n,i.hostAttrs))}}function Au(t){return t===Ci?{}:t===bt?[]:t}function kx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Ox(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function Fx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Gn=class{},us=class{};var qh=class extends Gn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ec(this);let o=RI(e);this._bootstrapComponents=xE(o.bootstrap),this._r3Injector=yE(e,n,[{provide:Gn,useValue:this},{provide:ki,useValue:this.componentFactoryResolver},...r],st(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Hh=class extends us{constructor(e){super(),this.moduleType=e}create(e){return new qh(this.moduleType,e,[])}};var tc=class extends Gn{constructor(e){super(),this.componentFactoryResolver=new ec(this),this.instance=null;let n=new is([...e.providers,{provide:Gn,useValue:this},{provide:ki,useValue:this.componentFactoryResolver}],e.parent||gf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function bc(t,e,n=null){return new tc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function d_(t){return Vx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Lx(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Vx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function h_(t,e,n){return t[e]=n}function yn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function jx(t,e,n,r){let i=yn(t,e,n);return yn(t,e+1,r)||i}function Ux(t){return(t.flags&32)===32}function Bx(t,e,n,r,i,o,s,a,c){let l=e.consts,h=_c(e,t,4,s||null,a||null);KE(e,n,h,Mi(l,c)),Df(e,h);let p=h.tView=Vf(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Gh(t,e,n,r,i,o,s,a,c,l){let h=n+Qt,p=e.firstCreatePass?Bx(h,e,t,r,i,o,s,a,c):e.data[h];hs(p,!1);let m=zx(e,t,p,n);Ef()&&Ff(e,t,m,p),xr(m,t);let y=ZE(m,t,m,p);return t[h]=y,Dc(t,y),bx(y,p,t),mf(p)&&HE(e,t,p),c!=null&&GE(t,p,l),p}function $x(t,e,n,r,i,o,s,a){let c=ge(),l=dt(),h=Mi(l.consts,o);return Gh(c,l,t,e,n,r,i,h,s,a),$x}var zx=qx;function qx(t,e,n,r){return _f(!0),e[Pe].createComment("")}var Ei=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ei||{}),f_=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Tr=class Tr{constructor(){this.ngZone=N(le),this.scheduler=N(Pi),this.errorHandler=N(gn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Tr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Tr.PHASES=[Ei.EarlyRead,Ei.Write,Ei.MixedReadWrite,Ei.Read],Tr.\u0275prov=z({token:Tr,providedIn:"root",factory:()=>new Tr});var Wh=Tr,Kh=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Gf(t,e){!e?.injector&&OA(Gf);let n=e?.injector??N(Ze);return WS(n)?(Zn("NgAfterNextRender"),Gx(t,n,e,!0)):Wx}function Hx(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Gx(t,e,n,r){let i=e.get(f_);i.impl??=e.get(Wh);let o=n?.phase??Ei.MixedReadWrite,s=new Kh(i.impl,Hx(t,o),r,e.get(bf));return i.impl.register(s),s}var Wx={destroy(){}};function p_(t,e,n,r){let i=ge(),o=fs();if(yn(i,o,e)){let s=dt(),a=mc();kR(a,i,t,e,n,r)}return p_}function g_(t,e,n,r){return yn(t,fs(),n)?e+uc(n)+r:Yn}function Su(t,e){return t<<17|e<<2}function Nr(t){return t>>17&32767}function Kx(t){return(t&2)==2}function Qx(t,e){return t&131071|e<<17}function Qh(t){return t|2}function Li(t){return(t&131068)>>2}function lh(t,e){return t&-131069|e<<2}function Yx(t){return(t&1)===1}function Yh(t){return t|1}function Zx(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Nr(s),c=Li(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ds(p,h)>0)&&(l=!0)}else h=n;if(i)if(c!==0){let m=Nr(t[a+1]);t[r+1]=Su(m,a),m!==0&&(t[m+1]=lh(t[m+1],r)),t[a+1]=Qx(t[a+1],r)}else t[r+1]=Su(a,0),a!==0&&(t[a+1]=lh(t[a+1],r)),a=r;else t[r+1]=Su(c,0),a===0?a=r:t[c+1]=lh(t[c+1],r),c=r;l&&(t[r+1]=Qh(t[r+1])),Jw(t,h,r,!0),Jw(t,h,r,!1),Jx(e,h,t,r,o),s=Su(a,c),o?e.classBindings=s:e.styleBindings=s}function Jx(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ds(o,e)>=0&&(n[r+1]=Yh(n[r+1]))}function Jw(t,e,n,r){let i=t[n+1],o=e===null,s=r?Nr(i):Li(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];Xx(c,e)&&(a=!0,t[s+1]=r?Yh(l):Qh(l)),s=r?Nr(l):Li(l)}a&&(t[n+1]=r?Qh(i):Yh(i))}function Xx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ds(t,e)>=0:!1}function eM(t,e,n){let r=ge(),i=fs();if(yn(r,i,e)){let o=dt(),s=mc();jf(o,s,r,t,e,r[Pe],n,!1)}return eM}function Xw(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Uf(t,n,o[s],s,r)}function tM(t,e){return nM(t,e,null,!0),tM}function nM(t,e,n,r){let i=ge(),o=dt(),s=nS(2);if(o.firstUpdatePass&&iM(o,t,s,r),e!==Yn&&yn(i,s,e)){let a=o.data[Or()];cM(o,a,i,i[Pe],t,i[s+1]=lM(e,n),r,s)}}function rM(t,e){return e>=t.expandoStartIndex}function iM(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Or()],s=rM(t,n);dM(o,r)&&e===null&&!s&&(e=!1),e=oM(i,o,e,r),Zx(i,o,e,n,s,r)}}function oM(t,e,n,r){let i=sS(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=dh(null,t,e,n,r),n=cs(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=dh(i,t,e,n,r),o===null){let c=sM(t,e,r);c!==void 0&&Array.isArray(c)&&(c=dh(null,t,e,c[1],r),c=cs(c,e.attrs,r),aM(t,e,r,c))}else o=uM(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function sM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Li(r)!==0)return t[Nr(r)]}function aM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Nr(i)]=r}function uM(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=cs(r,s,n)}return cs(r,e.attrs,n)}function dh(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=cs(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function cs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),sA(t,s,n?!0:e[++o]))}return t===void 0?null:t}function cM(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],h=Yx(l)?eI(c,e,n,i,Li(l),s):void 0;if(!nc(h)){nc(o)||Kx(l)&&(o=eI(c,null,n,i,a,s));let p=qI(Or(),n);hR(r,s,p,i,o)}}function eI(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),h=l?c[1]:c,p=h===null,m=n[i+1];m===Yn&&(m=p?bt:void 0);let y=p?th(m,r):h===r?m:void 0;if(l&&!nc(y)&&(y=th(c,r)),nc(y)&&(a=y,s))return a;let C=t[i+1];i=s?Nr(C):Li(C)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=th(c,r))}return a}function nc(t){return t!==void 0}function lM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=st(vc(t)))),t}function dM(t,e){return(t.flags&(e?8:16))!==0}var Zh=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function hh(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function hM(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=t.at(o),h=e[o],p=hh(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let m=t.at(s),y=e[c],C=hh(s,m,c,y,n);if(C!==0){C<0&&t.updateValue(s,y),s--,c--;continue}let R=n(o,l),A=n(s,m),M=n(o,h);if(Object.is(M,A)){let F=n(c,y);Object.is(F,R)?(t.swap(o,s),t.updateValue(s,y),c--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new rc,i??=nI(t,o,s,n),Jh(t,r,o,M))t.updateValue(o,h),o++,s++;else if(i.has(M))r.set(R,t.detach(o)),s--;else{let F=t.create(o,e[o]);t.attach(o,F),o++,s++}}for(;o<=c;)tI(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,m=hh(o,h,o,p,n);if(m!==0)m<0&&t.updateValue(o,p),o++,l=c.next();else{r??=new rc,i??=nI(t,o,s,n);let y=n(o,p);if(Jh(t,r,o,y))t.updateValue(o,p),o++,s++,l=c.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=c.next();else{let C=n(o,h);r.set(C,t.detach(o)),s--}}}for(;!l.done;)tI(t,r,n,t.length,l.value),l=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function Jh(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function tI(t,e,n,r,i){if(Jh(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function nI(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var rc=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};var Xh=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ut}};function j4(t){return t}var ef=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function U4(t,e,n,r,i,o,s,a,c,l,h,p,m){Zn("NgControlFlow");let y=ge(),C=dt(),R=c!==void 0,A=ge(),M=a?s.bind(A[Lt][at]):s,F=new ef(R,M);A[Qt+t]=F,Gh(y,C,t+1,e,n,r,i,Mi(C.consts,o)),R&&Gh(y,C,t+2,c,l,h,p,Mi(C.consts,m))}var tf=class extends Zh{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ut}at(e){return this.getLView(e)[at].$implicit}attach(e,n){let r=n[os];this.needsIndexUpdate||=e!==this.length,zf(this.lContainer,n,e,Yu(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,fM(this.lContainer,e)}create(e,n){let r=Ju(this.lContainer,this.templateTNode.tView.ssrId),i=$f(this.hostLView,this.templateTNode,new Xh(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){wc(e[ie],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[at].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[at].$index=e}getLView(e){return pM(this.lContainer,e)}};function B4(t){let e=ce(null),n=Or();try{let r=ge(),i=r[ie],o=r[n],s=n+1,a=rI(r,s);if(o.liveCollection===void 0){let l=iI(i,s);o.liveCollection=new tf(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(hM(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=fs(),h=c.length===0;if(yn(r,l,h)){let p=n+2,m=rI(r,p);if(h){let y=iI(i,p),C=Ju(m,y.tView.ssrId),R=$f(r,y,void 0,{dehydratedView:C});zf(m,R,0,Yu(y,C))}else HR(m,0)}}}finally{ce(e)}}function rI(t,e){return t[e]}function fM(t,e){return as(t,e)}function pM(t,e){return qR(t,e)}function iI(t,e){return yf(t,e)}function gM(t,e,n,r,i,o){let s=e.consts,a=Mi(s,i),c=_c(e,t,2,r,a);return KE(e,n,c,Mi(s,o)),c.attrs!==null&&$h(c,c.attrs,!1),c.mergedAttrs!==null&&$h(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function m_(t,e,n,r){let i=ge(),o=dt(),s=Qt+t,a=i[Pe],c=o.firstCreatePass?gM(s,o,i,e,n,r):o.data[s],l=mM(o,i,c,a,e,t);i[s]=l;let h=mf(c);return hs(c,!0),VE(a,l,c),!Ux(c)&&Ef()&&Ff(o,i,l,c),GA()===0&&xr(l,i),WA(),h&&(HE(o,i,c),qE(o,c,i)),r!==null&&GE(i,c),m_}function y_(){let t=gt();ZI()?XA():(t=t.parent,hs(t,!1));let e=t;YA(e)&&ZA(),KA();let n=dt();return n.firstCreatePass&&(Df(n,t),jI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&fS(e)&&Xw(n,e,ge(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&pS(e)&&Xw(n,e,ge(),e.stylesWithoutHost,!1),y_}function Wf(t,e,n,r){return m_(t,e,n,r),y_(),Wf}var mM=(t,e,n,r,i,o)=>(_f(!0),ME(r,i,cS()));function $4(){return ge()}var ic="en-US";var yM=ic;function vM(t){typeof t=="string"&&(yM=t.toLowerCase().replace(/_/g,"-"))}var wM=(t,e,n)=>{};function v_(t,e,n,r){let i=ge(),o=dt(),s=gt();return w_(o,i,i[Pe],s,t,e,r),v_}function IM(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ju],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function w_(t,e,n,r,i,o,s){let a=mf(r),l=t.firstCreatePass&&jR(t),h=e[at],p=VR(e),m=!0;if(r.type&3||s){let R=xt(r,e),A=s?s(R):R,M=p.length,F=s?$=>s(Yt($[r.index])):r.index,L=null;if(!s&&a&&(L=IM(t,e,i,r.index)),L!==null){let $=L.__ngLastListenerFn__||L;$.__ngNextListenerFn__=o,L.__ngLastListenerFn__=o,m=!1}else{o=sI(r,e,h,o),wM(R,i,o);let $=n.listen(A,i,o);p.push(o,$),l&&l.push(i,F,M,M+1)}}else o=sI(r,e,h,o);let y=r.outputs,C;if(m&&y!==null&&(C=y[i])){let R=C.length;if(R)for(let A=0;A<R;A+=2){let M=C[A],F=C[A+1],he=e[M][F].subscribe(o),K=p.length;p.push(o,he),l&&l.push(i,r.index,K,-(K+1))}}}function oI(t,e,n,r){let i=ce(null);try{return Ht(6,e,n),n(r)!==!1}catch(o){return XE(t,o),!1}finally{Ht(7,e,n),ce(i)}}function sI(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Kn(t.index,e):e;qf(s,5);let a=oI(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=oI(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function z4(t=1){return uS(t)}function EM(t,e,n){return I_(t,"",e,"",n),EM}function I_(t,e,n,r,i){let o=ge(),s=g_(o,e,n,r);if(s!==Yn){let a=dt(),c=mc();jf(a,c,o,t,s,o[Pe],i,!1)}return I_}function q4(t){let e=eS();return $A(e,Qt+t)}function H4(t,e=""){let n=ge(),r=dt(),i=t+Qt,o=r.firstCreatePass?_c(r,i,1,e,null):r.data[i],s=_M(r,n,o,e,t);n[i]=s,Ef()&&Ff(r,n,s,o),hs(o,!1)}var _M=(t,e,n,r,i)=>(_f(!0),QS(e[Pe],r));function DM(t){return E_("",t,""),DM}function E_(t,e,n){let r=ge(),i=g_(r,t,e,n);return i!==Yn&&UR(r,Or(),i),E_}function TM(t,e,n){l_(e)&&(e=e());let r=ge(),i=fs();if(yn(r,i,e)){let o=dt(),s=mc();jf(o,s,r,t,e,r[Pe],n,!1)}return TM}function G4(t,e){let n=l_(t);return n&&t.set(e),n}function CM(t,e){let n=ge(),r=dt(),i=gt();return w_(r,n,n[Pe],i,t,e),CM}function bM(t,e,n){let r=dt();if(r.firstCreatePass){let i=Hn(t);nf(n,r.data,r.blueprint,i,!0),nf(e,r.data,r.blueprint,i,!1)}}function nf(t,e,n,r,i){if(t=it(t),Array.isArray(t))for(let o=0;o<t.length;o++)nf(t[o],e,n,r,i);else{let o=dt(),s=ge(),a=gt(),c=Ai(t)?t:it(t.provide),l=OI(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Ai(t)||!t.multi){let y=new Rr(l,i,Mt),C=ph(c,e,i?h:h+m,p);C===-1?(Sh(Hu(a,s),o,c),fh(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[C]=y,s[C]=y)}else{let y=ph(c,e,h+m,p),C=ph(c,e,h,h+m),R=y>=0&&n[y],A=C>=0&&n[C];if(i&&!A||!i&&!R){Sh(Hu(a,s),o,c);let M=RM(i?SM:AM,n.length,i,r,l);!i&&A&&(n[C].providerFactory=M),fh(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(M),s.push(M)}else{let M=__(n[i?C:y],l,!i&&r);fh(o,t,y>-1?y:C,M)}!i&&r&&A&&n[C].componentProviders++}}}function fh(t,e,n,r){let i=Ai(e),o=SA(e);if(i||o){let c=(o?it(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,c]):l[h+1].push(r,c)}else l.push(n,c)}}}function __(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ph(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function AM(t,e,n,r){return rf(this.multi,[])}function SM(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ni(n,n[ie],this.providerFactory.index,r);o=a.slice(0,s),rf(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],rf(i,o);return o}function rf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function RM(t,e,n,r,i){let o=new Rr(t,n,Mt);return o.multi=[],o.index=e,o.componentProviders=0,__(o,i,r&&!n),o}function W4(t,e=[]){return n=>{n.providersResolver=(r,i)=>bM(r,i?i(t):t,e)}}var xM=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=NI(!1,r.type),o=i.length>0?bc([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(j(ct))});let t=e;return t})();function D_(t){Zn("NgStandalone"),t.getStandaloneInjector=e=>e.get(xM).getOrCreateStandaloneInjector(t)}function K4(t,e,n,r){return MM(ge(),XI(),t,e,n,r)}function Q4(t,e,n,r,i){return NM(ge(),XI(),t,e,n,r,i)}function T_(t,e){let n=t[e];return n===Yn?void 0:n}function MM(t,e,n,r,i,o){let s=e+n;return yn(t,s,i)?h_(t,s+1,o?r.call(o,i):r(i)):T_(t,s+1)}function NM(t,e,n,r,i,o,s){let a=e+n;return jx(t,a,i,o)?h_(t,a+2,s?r.call(s,i,o):r(i,o)):T_(t,a+2)}function Y4(t,e){return s_(t,e)}var Wn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Kf=new Wn("18.2.4");var Ac=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var C_=new V("");function gs(t){return!!t&&typeof t.then=="function"}function b_(t){return!!t&&typeof t.subscribe=="function"}var Sc=new V(""),A_=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=N(Sc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(gs(s))r.push(s);else if(b_(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ms=new V("");function PM(){Jv(()=>{throw new G(600,!1)})}function kM(t){return t.isBoundToModule}var OM=10;function FM(t,e,n){try{let r=n();return gs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Jn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(PS),this.afterRenderManager=N(f_),this.zonelessEnabled=N(Hf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new xe,this.afterTick=new xe,this.componentTypes=[],this.components=[],this.isStable=N(Qn).hasPendingTasks.pipe(Q(r=>!r)),this._injector=N(ct)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Xu;if(!this._injector.get(A_).done){let y=!o&&SI(r),C=!1;throw new G(405,C)}let a;o?a=r:a=this._injector.get(ki).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=kM(a)?void 0:this._injector.get(Gn),l=i||a.selector,h=a.create(Ze.NULL,[],l,c),p=h.location.nativeElement,m=h.injector.get(C_,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Pu(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new G(101,!1);let r=ce(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ce(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Oi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<OM;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:s}of this._views)LM(o,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>pc(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Pu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(ms,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Pu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new G(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Pu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function LM(t,e,n,r){if(!n&&!pc(t))return;n_(t,e,n&&!r?0:1)}var of=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Rc=(()=>{let e=class e{compileModuleSync(r){return new Hh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=RI(r),s=xE(o.declarations).reduce((a,c)=>{let l=qn(c);return l&&a.push(new Fi(l)),a},[]);return new of(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var VM=(()=>{let e=class e{constructor(){this.zone=N(le),this.changeDetectionScheduler=N(Pi),this.applicationRef=N(Jn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jM=new V("",{factory:()=>!1});function S_({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new le(De(B({},R_()),{scheduleInRootZone:n})),[{provide:le,useFactory:t},{provide:bi,multi:!0,useFactory:()=>{let r=N(VM,{optional:!0});return()=>r.initialize()}},{provide:bi,multi:!0,useFactory:()=>{let r=N(UM);return()=>{r.initialize()}}},e===!0?{provide:a_,useValue:!0}:[],{provide:u_,useValue:n??vE}]}function Z4(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=S_({ngZoneFactory:()=>{let i=R_(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Zn("NgZone_CoalesceEvent"),new le(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return St([{provide:jM,useValue:!0},{provide:Hf,useValue:!1},r])}function R_(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var UM=(()=>{let e=class e{constructor(){this.subscription=new Se,this.initialized=!1,this.zone=N(le),this.pendingTasks=N(Qn)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{le.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var BM=(()=>{let e=class e{constructor(){this.appRef=N(Jn),this.taskService=N(Qn),this.ngZone=N(le),this.zonelessEnabled=N(Hf),this.disableScheduling=N(a_,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Se,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(u_,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ph||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Bw:wE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Bw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $M(){return typeof $localize<"u"&&$localize.locale||ic}var Qf=new V("",{providedIn:"root",factory:()=>N(Qf,re.Optional|re.SkipSelf)||$M()});var x_=new V("");function Ru(t){return!!t.platformInjector}function zM(t){let e=Ru(t)?t.r3Injector:t.moduleRef.injector,n=e.get(le);return n.run(()=>{Ru(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(gn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Ru(t)){let o=()=>e.destroy(),s=t.platformInjector.get(x_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{Pu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return FM(r,n,()=>{let o=e.get(A_);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Qf,ic);if(vM(s||ic),Ru(t)){let a=e.get(Jn);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return qM(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function qM(t,e){let n=t.injector.get(Jn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new G(-403,!1);e.push(t)}var ku=null;function HM(t=[],e){return Ze.create({name:e,providers:[{provide:lc,useValue:"platform"},{provide:x_,useValue:new Set([()=>ku=null])},...t]})}function GM(t=[]){if(ku)return ku;let e=HM(t);return ku=e,PM(),WM(e),e}function WM(t){t.get(xf,null)?.forEach(n=>n())}function Yf(){return!1}var ys=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=KM;let t=e;return t})();function KM(t){return QM(gt(),ge(),(t&16)===16)}function QM(t,e,n){if(hc(t)&&!n){let r=Kn(t.index,e);return new Mr(r,r)}else if(t.type&175){let r=e[Lt];return new Mr(r,e)}return null}var sf=class{constructor(){}supports(e){return d_(e)}create(e){return new af(e)}},YM=(t,e)=>e,af=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||YM}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<aI(r,i,o)?n:r,a=aI(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=c-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,C=y+m;h<=C&&C<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!d_(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Lx(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new uf(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new oc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new oc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},uf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},cf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},oc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new cf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function aI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function uI(){return new Zf([new sf])}var Zf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||uI()),deps:[[e,new df,new ze]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new G(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:uI});let t=e;return t})();function M_(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=GM(r),o=[S_({}),{provide:Pi,useExisting:BM},...n||[]],s=new tc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return zM({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var N_=new V("");function P_(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function J4(t,e){Zn("NgSignals");let n=Qv(t);return e?.equal&&(n[ln].equal=e.equal),n}function ZM(t){let e=ce(null);try{return t()}finally{ce(e)}}function k_(t){let e=qn(t);if(!e)return null;let n=new Fi(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var U_=null;function Bi(){return U_}function B_(t){U_??=t}var xc=class{};var qe=new V(""),ip=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>N(tN),providedIn:"platform"});let t=e;return t})(),$_=new V(""),tN=(()=>{let e=class e extends ip{constructor(){super(),this._doc=N(qe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bi().getBaseHref(this._doc)}onPopState(r){let i=Bi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Bi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function op(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function O_(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function In(t){return t&&t[0]!=="?"?"?"+t:t}var Lr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>N(sp),providedIn:"root"});let t=e;return t})(),z_=new V(""),sp=(()=>{let e=class e extends Lr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return op(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+In(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+In(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+In(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(j(ip),j(z_,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),q_=(()=>{let e=class e extends Lr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=op(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+In(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+In(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(j(ip),j(z_,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),zi=(()=>{let e=class e{constructor(r){this._subject=new ot,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=iN(O_(F_(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+In(i))}normalize(r){return e.stripTrailingSlash(rN(this._basePath,F_(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+In(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+In(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=In,e.joinWithSlash=op,e.stripTrailingSlash=O_,e.\u0275fac=function(i){return new(i||e)(j(Lr))},e.\u0275prov=z({token:e,factory:()=>nN(),providedIn:"root"});let t=e;return t})();function nN(){return new zi(j(Lr))}function rN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function F_(t){return t.replace(/\/index.html$/,"")}function iN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Mc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Xf=/\s+/,L_=[],Tz=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=L_,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Xf):L_}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Xf):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Xf).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(Mt(ps),Mt(Cc))},e.\u0275dir=Vi({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var ep=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Cz=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new ep(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),V_(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);V_(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Mt(Ui),Mt(Tc),Mt(Zf))},e.\u0275dir=Vi({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function V_(t,e){t.context.$implicit=e.item}var bz=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new tp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){j_("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){j_("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Mt(Ui),Mt(Tc))},e.\u0275dir=Vi({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),tp=class{constructor(){this.$implicit=null,this.ngIf=null}};function j_(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${st(e)}'.`)}var oN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=kr({type:e}),e.\u0275inj=Pr({});let t=e;return t})(),ap="browser",sN="server";function aN(t){return t===ap}function qi(t){return t===sN}var H_=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>aN(N(ht))?new np(N(qe),window):new rp});let t=e;return t})(),np=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=uN(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function uN(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var rp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},$i=class{};var ws=class{},Is=class{},En=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var cp=class{encodeKey(e){return G_(e)}encodeValue(e){return G_(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function lN(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var dN=/%(\d[a-f0-9])/gi,hN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function G_(t){return encodeURIComponent(t).replace(dN,(e,n)=>hN[n]??e)}function Nc(t){return`${t}`}var er=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new cp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=lN(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Nc):[Nc(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Nc(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Nc(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var lp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function fN(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function W_(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function K_(t){return typeof Blob<"u"&&t instanceof Blob}function Q_(t){return typeof FormData<"u"&&t instanceof FormData}function pN(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var vs=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(fN(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new En,this.context??=new lp,!this.params)this.params=new er,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||W_(this.body)||K_(this.body)||Q_(this.body)||pN(this.body)?this.body:this.body instanceof er?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Q_(this.body)?null:K_(this.body)?this.body.type||null:W_(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof er?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},tr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(tr||{}),Es=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new En,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Pc=class t extends Es{constructor(e={}){super(e),this.type=tr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},_s=class t extends Es{constructor(e={}){super(e),this.type=tr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Xn=class extends Es{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},X_=200,gN=204;function up(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var mN=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof vs)s=r;else{let l;o.headers instanceof En?l=o.headers:l=new En(o.headers);let h;o.params&&(o.params instanceof er?h=o.params:h=new er({fromObject:o.params})),s=new vs(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=H(s).pipe(fn(l=>this.handler.handle(l)));if(r instanceof vs||o.observe==="events")return a;let c=a.pipe($e(l=>l instanceof _s));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Q(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Q(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Q(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(Q(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new er().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,up(o,i))}post(r,i,o={}){return this.request("POST",r,up(o,i))}put(r,i,o={}){return this.request("PUT",r,up(o,i))}};e.\u0275fac=function(i){return new(i||e)(j(ws))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),yN=/^\)\]\}',?\n/,vN="X-Request-URL";function Y_(t){if(t.url)return t.url;let e=vN.toLocaleLowerCase();return t.headers.get(e)}var dp=(()=>{let e=class e{constructor(){this.fetchImpl=N(hp,{optional:!0})?.fetch??((...r)=>globalThis.fetch(...r)),this.ngZone=N(le)}handle(r){return new ee(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(fp,s=>i.error(new Xn({error:s}))),()=>o.abort()})}doRequest(r,i,o){return k(this,null,function*(){let s=this.createRequestInit(r),a;try{let C=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,B({signal:i},s)));wN(C),o.next({type:tr.Sent}),a=yield C}catch(C){o.error(new Xn({error:C,status:C.status??0,statusText:C.statusText,url:r.urlWithParams,headers:C.headers}));return}let c=new En(a.headers),l=a.statusText,h=Y_(a)??r.urlWithParams,p=a.status,m=null;if(r.reportProgress&&o.next(new Pc({headers:c,status:p,statusText:l,url:h})),a.body){let C=a.headers.get("content-length"),R=[],A=a.body.getReader(),M=0,F,L,$=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>k(this,null,function*(){for(;;){let{done:K,value:E}=yield A.read();if(K)break;if(R.push(E),M+=E.length,r.reportProgress){L=r.responseType==="text"?(L??"")+(F??=new TextDecoder).decode(E,{stream:!0}):void 0;let v=()=>o.next({type:tr.DownloadProgress,total:C?+C:void 0,loaded:M,partialText:L});$?$.run(v):v()}}}));let he=this.concatChunks(R,M);try{let K=a.headers.get("Content-Type")??"";m=this.parseBody(r,he,K)}catch(K){o.error(new Xn({error:K,headers:new En(a.headers),status:a.status,statusText:a.statusText,url:Y_(a)??r.urlWithParams}));return}}p===0&&(p=m?X_:0),p>=200&&p<300?(o.next(new _s({body:m,headers:c,status:p,statusText:l,url:h})),o.complete()):o.error(new Xn({error:m,headers:c,status:p,statusText:l,url:h}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(yN,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),hp=class{};function fp(){}function wN(t){t.then(fp,fp)}function IN(t,e){return e(t)}function EN(t,e,n){return(r,i)=>Rt(n,()=>e(r,o=>t(o,i)))}var eD=new V(""),_N=new V(""),DN=new V("",{providedIn:"root",factory:()=>!0});var Z_=(()=>{let e=class e extends ws{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=N(Qn),this.contributeToStability=N(DN)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(eD),...this.injector.get(_N,[])]));this.chain=i.reduceRight((o,s)=>EN(o,s,this.injector),IN)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(_r(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(j(Is),j(ct))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();var TN=/^\)\]\}',?\n/;function CN(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var J_=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new G(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ye(i.\u0275loadImpl()):H(null)).pipe(Te(()=>new ee(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((A,M)=>a.setRequestHeader(A,M.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let A=r.detectContentTypeHeader();A!==null&&a.setRequestHeader("Content-Type",A)}if(r.responseType){let A=r.responseType.toLowerCase();a.responseType=A!=="json"?A:"text"}let c=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let A=a.statusText||"OK",M=new En(a.getAllResponseHeaders()),F=CN(a)||r.url;return l=new Pc({headers:M,status:a.status,statusText:A,url:F}),l},p=()=>{let{headers:A,status:M,statusText:F,url:L}=h(),$=null;M!==gN&&($=typeof a.response>"u"?a.responseText:a.response),M===0&&(M=$?X_:0);let he=M>=200&&M<300;if(r.responseType==="json"&&typeof $=="string"){let K=$;$=$.replace(TN,"");try{$=$!==""?JSON.parse($):null}catch(E){$=K,he&&(he=!1,$={error:E,text:$})}}he?(s.next(new _s({body:$,headers:A,status:M,statusText:F,url:L||void 0})),s.complete()):s.error(new Xn({error:$,headers:A,status:M,statusText:F,url:L||void 0}))},m=A=>{let{url:M}=h(),F=new Xn({error:A,status:a.status||0,statusText:a.statusText||"Unknown Error",url:M||void 0});s.error(F)},y=!1,C=A=>{y||(s.next(h()),y=!0);let M={type:tr.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(M.total=A.total),r.responseType==="text"&&a.responseText&&(M.partialText=a.responseText),s.next(M)},R=A=>{let M={type:tr.UploadProgress,loaded:A.loaded};A.lengthComputable&&(M.total=A.total),s.next(M)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",C),c!==null&&a.upload&&a.upload.addEventListener("progress",R)),a.send(c),s.next({type:tr.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",C),c!==null&&a.upload&&a.upload.removeEventListener("progress",R)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(j($i))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),tD=new V(""),bN="XSRF-TOKEN",AN=new V("",{providedIn:"root",factory:()=>bN}),SN="X-XSRF-TOKEN",RN=new V("",{providedIn:"root",factory:()=>SN}),kc=class{},xN=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Mc(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(j(qe),j(ht),j(AN))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function MN(t,e){let n=t.url.toLowerCase();if(!N(tD)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=N(kc).getToken(),i=N(RN);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var nD=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(nD||{});function NN(t,e){return{\u0275kind:t,\u0275providers:e}}function Uz(...t){let e=[mN,J_,Z_,{provide:ws,useExisting:Z_},{provide:Is,useFactory:()=>N(dp,{optional:!0})??N(J_)},{provide:eD,useValue:MN,multi:!0},{provide:tD,useValue:!0},{provide:kc,useClass:xN}];for(let n of t)e.push(...n.\u0275providers);return St(e)}function Bz(){return NN(nD.Fetch,[dp,{provide:Is,useExisting:dp}])}var mp=class extends xc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},yp=class t extends mp{static makeCurrent(){B_(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=PN();return n==null?null:kN(n)}resetBaseElement(){Ds=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Mc(document.cookie,e)}},Ds=null;function PN(){return Ds=Ds||document.querySelector("base"),Ds?Ds.getAttribute("href"):null}function kN(t){return new URL(t,document.baseURI).pathname}var ON=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Oc=new V(""),sD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new G(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(j(Oc),j(le))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Ts=class{constructor(e){this._doc=e}},pp="ng-app-id",aD=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=qi(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${pp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(pp),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(pp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(j(qe),j(Rf),j(Mf,8),j(ht))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),gp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},wp=/%COMP%/g,uD="%COMP%",FN=`_nghost-${uD}`,LN=`_ngcontent-${uD}`,VN=!0,jN=new V("",{providedIn:"root",factory:()=>VN});function UN(t){return LN.replace(wp,t)}function BN(t){return FN.replace(wp,t)}function cD(t,e){return e.map(n=>n.replace(wp,t))}var rD=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=qi(c),this.defaultRenderer=new Cs(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Wt.ShadowDom&&(i=De(B({},i),{encapsulation:Wt.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Fc?o.applyToHost(r):o instanceof bs&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Wt.Emulated:s=new Fc(l,h,i,this.appId,p,a,c,m);break;case Wt.ShadowDom:return new vp(l,h,r,i,a,c,this.nonce,m);default:s=new bs(l,h,i,p,a,c,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(j(sD),j(aD),j(Rf),j(jN),j(qe),j(ht),j(le),j(Mf))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Cs=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(gp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(iD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(iD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=gp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=gp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(mn.DashCase|mn.Important)?e.style.setProperty(n,r,i&mn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&mn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Bi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function iD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var vp=class extends Cs{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=cD(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},bs=class extends Cs{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?cD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Fc=class extends bs{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=UN(l),this.hostAttr=BN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},$N=(()=>{let e=class e extends Ts{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(j(qe))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),zN=(()=>{let e=class e extends Ts{constructor(r){super(r),this.delegate=N(N_,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(j(qe))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),oD=["alt","control","meta","shift"],qN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},GN=(()=>{let e=class e extends Ts{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bi().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),oD.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=qN[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),oD.forEach(a=>{if(a!==o){let c=HN[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(j(qe))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function pq(t,e){return M_(B({rootComponent:t},WN(e)))}function WN(t){return{appProviders:[...JN,...t?.providers??[]],platformProviders:ZN}}function KN(){yp.makeCurrent()}function QN(){return new gn}function YN(){return bE(document),document}var ZN=[{provide:ht,useValue:ap},{provide:xf,useValue:KN,multi:!0},{provide:qe,useFactory:YN,deps:[]}];var JN=[{provide:lc,useValue:"root"},{provide:gn,useFactory:QN,deps:[]},{provide:Oc,useClass:$N,multi:!0,deps:[qe,le,ht]},{provide:Oc,useClass:GN,multi:!0,deps:[qe]},{provide:Oc,useClass:zN,multi:!0},rD,aD,sD,{provide:Oi,useExisting:rD},{provide:$i,useClass:ON,deps:[]},[]];var lD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(j(qe))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ne="primary",$s=Symbol("RouteTitle"),Tp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Yi(t){return new Tp(t)}function eP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function tP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Zt(t[n],e[n]))return!1;return!0}function Zt(t,e){let n=t?Cp(t):void 0,r=e?Cp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ED(t[i],e[i]))return!1;return!0}function Cp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ED(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function _D(t){return t.length>0?t[t.length-1]:null}function ir(t){return Qd(t)?t:gs(t)?ye(Promise.resolve(t)):H(t)}var nP={exact:TD,subset:CD},DD={exact:rP,subset:iP,ignored:()=>!0};function dD(t,e,n){return nP[n.paths](t.root,e.root,n.matrixParams)&&DD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function rP(t,e){return Zt(t,e)}function TD(t,e,n){if(!jr(t.segments,e.segments)||!jc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!TD(t.children[r],e.children[r],n))return!1;return!0}function iP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ED(t[n],e[n]))}function CD(t,e,n){return bD(t,e,e.segments,n)}function bD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!jr(i,n)||e.hasChildren()||!jc(i,n,r))}else if(t.segments.length===n.length){if(!jr(t.segments,n)||!jc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!CD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!jr(t.segments,i)||!jc(t.segments,i,r)||!t.children[ne]?!1:bD(t.children[ne],e,o,r)}}function jc(t,e,n){return e.every((r,i)=>DD[n](t[i].parameters,r.parameters))}var Dn=class{constructor(e=new me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Yi(this.queryParams),this._queryParamMap}toString(){return aP.serialize(this)}},me=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uc(this)}},Vr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Yi(this.parameters),this._parameterMap}toString(){return SD(this)}};function oP(t,e){return jr(t,e)&&t.every((n,r)=>Zt(n.parameters,e[r].parameters))}function jr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function sP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var zs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new Zi,providedIn:"root"});let t=e;return t})(),Zi=class{parse(e){let n=new Ap(e);return new Dn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${As(e.root,!0)}`,r=lP(e.queryParams),i=typeof e.fragment=="string"?`#${uP(e.fragment)}`:"";return`${n}${r}${i}`}},aP=new Zi;function Uc(t){return t.segments.map(e=>SD(e)).join("/")}function As(t,e){if(!t.hasChildren())return Uc(t);if(e){let n=t.children[ne]?As(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${As(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=sP(t,(r,i)=>i===ne?[As(t.children[ne],!1)]:[`${i}:${As(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${Uc(t)}/${n[0]}`:`${Uc(t)}/(${n.join("//")})`}}function AD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lc(t){return AD(t).replace(/%3B/gi,";")}function uP(t){return encodeURI(t)}function bp(t){return AD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bc(t){return decodeURIComponent(t)}function hD(t){return Bc(t.replace(/\+/g,"%20"))}function SD(t){return`${bp(t.path)}${cP(t.parameters)}`}function cP(t){return Object.entries(t).map(([e,n])=>`;${bp(e)}=${bp(n)}`).join("")}function lP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Lc(n)}=${Lc(i)}`).join("&"):`${Lc(n)}=${Lc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var dP=/^[^\/()?;#]+/;function Ip(t){let e=t.match(dP);return e?e[0]:""}var hP=/^[^\/()?;=#]+/;function fP(t){let e=t.match(hP);return e?e[0]:""}var pP=/^[^=?&#]+/;function gP(t){let e=t.match(pP);return e?e[0]:""}var mP=/^[^&#]+/;function yP(t){let e=t.match(mP);return e?e[0]:""}var Ap=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new me(e,n)),r}parseSegment(){let e=Ip(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new Vr(Bc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=fP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ip(this.remaining);i&&(r=i,this.capture(r))}e[Bc(n)]=Bc(r)}parseQueryParam(e){let n=gP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=yP(this.remaining);s&&(r=s,this.capture(r))}let i=hD(n),o=hD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ip(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ne]:new me([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function RD(t){return t.segments.length>0?new me([],{[ne]:t}):t}function xD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=xD(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new me(t.segments,e);return vP(n)}function vP(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new me(t.segments.concat(e.segments),e.children)}return t}function Ps(t){return t instanceof Dn}function wP(t,e,n=null,r=null){let i=MD(t);return ND(i,e,n,r)}function MD(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new me(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=RD(r);return e??i}function ND(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ep(i,i,i,n,r);let o=IP(e);if(o.toRoot())return Ep(i,i,new me([],{}),n,r);let s=EP(o,i,t),a=s.processChildren?xs(s.segmentGroup,s.index,o.commands):kD(s.segmentGroup,s.index,o.commands);return Ep(i,s.segmentGroup,a,n,r)}function $c(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ks(t){return typeof t=="object"&&t!=null&&t.outlets}function Ep(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=PD(t,e,n);let a=RD(xD(s));return new Dn(a,o,i)}function PD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=PD(o,e,n)}),new me(t.segments,r)}var zc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&$c(r[0]))throw new G(4003,!1);let i=r.find(ks);if(i&&i!==_D(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function IP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new zc(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new zc(n,e,r)}var Wi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function EP(t,e,n){if(t.isAbsolute)return new Wi(e,!0,0);if(!n)return new Wi(e,!1,NaN);if(n.parent===null)return new Wi(n,!0,0);let r=$c(t.commands[0])?0:1,i=n.segments.length-1+r;return _P(n,i,t.numberOfDoubleDots)}function _P(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new Wi(r,!1,i-o)}function DP(t){return ks(t[0])?t[0].outlets:{[ne]:t}}function kD(t,e,n){if(t??=new me([],{}),t.segments.length===0&&t.hasChildren())return xs(t,e,n);let r=TP(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new me(t.segments.slice(0,r.pathIndex),{});return o.children[ne]=new me(t.segments.slice(r.pathIndex),t.children),xs(o,0,i)}else return r.match&&i.length===0?new me(t.segments,{}):r.match&&!t.hasChildren()?Sp(t,e,n):r.match?xs(t,0,i):Sp(t,e,n)}function xs(t,e,n){if(n.length===0)return new me(t.segments,{});{let r=DP(n),i={};if(Object.keys(r).some(o=>o!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let o=xs(t.children[ne],e,n);return new me(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=kD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new me(t.segments,i)}}function TP(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ks(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!pD(c,l,s))return o;r+=2}else{if(!pD(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Sp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ks(o)){let c=CP(o.outlets);return new me(r,c)}if(i===0&&$c(n[0])){let c=t.segments[e];r.push(new Vr(c.path,fD(n[0]))),i++;continue}let s=ks(o)?o.outlets[ne]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&$c(a)?(r.push(new Vr(s,fD(a))),i+=2):(r.push(new Vr(s,{})),i++)}return new me(r,{})}function CP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Sp(new me([],{}),0,r))}),e}function fD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function pD(t,e,n){return t==n.path&&Zt(e,n.parameters)}var Ms="imperative",Ve=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ve||{}),Nt=class{constructor(e,n){this.id=e,this.url=n}},Ji=class extends Nt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ve.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Tn=class extends Nt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ve.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},It=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(It||{}),qc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(qc||{}),_n=class extends Nt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ve.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},nr=class extends Nt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ve.NavigationSkipped}},Os=class extends Nt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ve.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Hc=class extends Nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rp=class extends Nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xp=class extends Nt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ve.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Mp=class extends Nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Np=class extends Nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pp=class{constructor(e){this.route=e,this.type=Ve.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},kp=class{constructor(e){this.route=e,this.type=Ve.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Op=class{constructor(e){this.snapshot=e,this.type=Ve.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fp=class{constructor(e){this.snapshot=e,this.type=Ve.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lp=class{constructor(e){this.snapshot=e,this.type=Ve.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vp=class{constructor(e){this.snapshot=e,this.type=Ve.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gc=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ve.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Fs=class{},Xi=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function bP(t,e){return t.providers&&!t._injector&&(t._injector=bc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function jt(t){return t.outlet||ne}function AP(t,e){let n=t.filter(r=>jt(r)===e);return n.push(...t.filter(r=>jt(r)!==e)),n}function qs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var jp=class{get injector(){return qs(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Hs(this.rootInjector),this.attachRef=null}},Hs=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new jp(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(j(ct))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Up(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Up(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Bp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Bp(e,this._root).map(n=>n.value)}};function Up(t,e){if(t===e.value)return e;for(let n of e.children){let r=Up(t,n);if(r)return r}return null}function Bp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Bp(t,n);if(r.length)return r.unshift(e),r}return[]}var wt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Gi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Kc=class extends Wc{constructor(e,n){super(e),this.snapshot=n,Yp(this,e)}toString(){return this.snapshot.toString()}};function OD(t){let e=SP(t),n=new Be([new Vr("",{})]),r=new Be({}),i=new Be({}),o=new Be({}),s=new Be(""),a=new Ur(n,r,o,s,i,ne,t,e.root);return a.snapshot=e.root,new Kc(new wt(a,[]),e)}function SP(t){let e={},n={},r={},i="",o=new Ki([],e,r,i,n,ne,t,null,{});return new Yc("",new wt(o,[]))}var Ur=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Q(l=>l[$s]))??H(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Q(e=>Yi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Q(e=>Yi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Qc(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),t.params),data:B(B({},e.data),t.data),resolve:B(B(B(B({},t.data),e.data),i?.data),t._resolvedData)}:r={params:B({},t.params),data:B({},t.data),resolve:B(B({},t.data),t._resolvedData??{})},i&&LD(i)&&(r.resolve[$s]=i.title),r}var Ki=class{get title(){return this.data?.[$s]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Yc=class extends Wc{constructor(e,n){super(n),this.url=e,Yp(this,n)}toString(){return FD(this._root)}};function Yp(t,e){e.value._routerState=t,e.children.forEach(n=>Yp(t,n))}function FD(t){let e=t.children.length>0?` { ${t.children.map(FD).join(", ")} } `:"";return`${t.value}${e}`}function _p(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Zt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Zt(e.params,n.params)||t.paramsSubject.next(n.params),tP(e.url,n.url)||t.urlSubject.next(n.url),Zt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function $p(t,e){let n=Zt(t.params,e.params)&&oP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||$p(t.parent,e.parent))}function LD(t){return typeof t.title=="string"||t.title===null}var RP=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new ot,this.deactivateEvents=new ot,this.attachEvents=new ot,this.detachEvents=new ot,this.parentContexts=N(Hs),this.location=N(Ui),this.changeDetector=N(ys),this.inputBinder=N(el,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new zp(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Vi({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fc]});let t=e;return t})(),zp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ur?this.route:e===Hs?this.childContexts:this.parent.get(e,n)}},el=new V(""),gD=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Xo([i.queryParams,i.params,i.data]).pipe(Te(([s,a,c],l)=>(c=B(B(B({},s),a),c),l===0?H(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=k_(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function xP(t,e,n){let r=Ls(t,e._root,n?n._root:void 0);return new Kc(r,e)}function Ls(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=MP(t,e,n);return new wt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ls(t,a)),s}}let r=NP(e.value),i=e.children.map(o=>Ls(t,o));return new wt(r,i)}}function MP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ls(t,r,i);return Ls(t,r)})}function NP(t){return new Ur(new Be(t.url),new Be(t.params),new Be(t.queryParams),new Be(t.fragment),new Be(t.data),t.outlet,t.component,t)}var Vs=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},VD="ngNavigationCancelingError";function Zc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ps(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=jD(!1,It.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function jD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[VD]=!0,n.cancellationCode=e,n}function PP(t){return UD(t)&&Ps(t.url)}function UD(t){return!!t&&t[VD]}var kP=(t,e,n,r)=>Q(i=>(new qp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),qp=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),_p(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Gi(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Gi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Gi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Gi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Vp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Fp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(_p(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),_p(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Jc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Qi=class{constructor(e,n){this.component=e,this.route=n}};function OP(t,e,n){let r=t._root,i=e?e._root:null;return Ss(r,i,n,[r.value])}function FP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function to(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!fI(t)?t:e.get(t):r}function Ss(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Gi(e);return t.children.forEach(s=>{LP(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ns(a,n.getContext(s),i)),i}function LP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=VP(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Jc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ss(t,e,a?a.children:null,r,i):Ss(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qi(a.outlet.component,s))}else s&&Ns(e,a,i),i.canActivateChecks.push(new Jc(r)),o.component?Ss(t,null,a?a.children:null,r,i):Ss(t,null,n,r,i);return i}function VP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!jr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!jr(t.url,e.url)||!Zt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$p(t,e)||!Zt(t.queryParams,e.queryParams);case"paramsChange":default:return!$p(t,e)}}function Ns(t,e,n){let r=Gi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ns(s,e.children.getContext(o),n):Ns(s,null,n):Ns(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Qi(e.outlet.component,i)):n.canDeactivateChecks.push(new Qi(null,i)):n.canDeactivateChecks.push(new Qi(null,i))}function Gs(t){return typeof t=="function"}function jP(t){return typeof t=="boolean"}function UP(t){return t&&Gs(t.canLoad)}function BP(t){return t&&Gs(t.canActivate)}function $P(t){return t&&Gs(t.canActivateChild)}function zP(t){return t&&Gs(t.canDeactivate)}function qP(t){return t&&Gs(t.canMatch)}function BD(t){return t instanceof hn||t?.name==="EmptyError"}var Vc=Symbol("INITIAL_VALUE");function eo(){return Te(t=>Xo(t.map(e=>e.pipe(pn(1),Tu(Vc)))).pipe(Q(e=>{for(let n of e)if(n!==!0){if(n===Vc)return Vc;if(n===!1||HP(n))return n}return!0}),$e(e=>e!==Vc),pn(1)))}function HP(t){return Ps(t)||t instanceof Vs}function GP(t,e){return Me(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?H(De(B({},n),{guardsResult:!0})):WP(s,r,i,t).pipe(Me(a=>a&&jP(a)?KP(r,o,t,e):H(a)),Q(a=>De(B({},n),{guardsResult:a})))})}function WP(t,e,n,r){return ye(t).pipe(Me(i=>XP(i.component,i.route,n,e,r)),Tt(i=>i!==!0,!0))}function KP(t,e,n,r){return ye(e).pipe(fn(i=>mi(YP(i.route.parent,r),QP(i.route,r),JP(t,i.path,n),ZP(t,i.route,n))),Tt(i=>i!==!0,!0))}function QP(t,e){return t!==null&&e&&e(new Lp(t)),H(!0)}function YP(t,e){return t!==null&&e&&e(new Op(t)),H(!0)}function ZP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(o=>Iu(()=>{let s=qs(e)??n,a=to(o,s),c=BP(a)?a.canActivate(e,t):Rt(s,()=>a(e,t));return ir(c).pipe(Tt())}));return H(i).pipe(eo())}function JP(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>FP(s)).filter(s=>s!==null).map(s=>Iu(()=>{let a=s.guards.map(c=>{let l=qs(s.node)??n,h=to(c,l),p=$P(h)?h.canActivateChild(r,t):Rt(l,()=>h(r,t));return ir(p).pipe(Tt())});return H(a).pipe(eo())}));return H(o).pipe(eo())}function XP(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(a=>{let c=qs(e)??i,l=to(a,c),h=zP(l)?l.canDeactivate(t,e,n,r):Rt(c,()=>l(t,e,n,r));return ir(h).pipe(Tt())});return H(s).pipe(eo())}function ek(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return H(!0);let o=i.map(s=>{let a=to(s,t),c=UP(a)?a.canLoad(e,n):Rt(t,()=>a(e,n));return ir(c)});return H(o).pipe(eo(),$D(r))}function $D(t){return eu(Ne(e=>{if(typeof e!="boolean")throw Zc(t,e)}),Q(e=>e===!0))}function tk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let a=to(s,t),c=qP(a)?a.canMatch(e,n):Rt(t,()=>a(e,n));return ir(c)});return H(o).pipe(eo(),$D(r))}var js=class{constructor(e){this.segmentGroup=e||null}},Us=class extends Error{constructor(e){super(),this.urlTree=e}};function Hi(t){return gi(new js(t))}function nk(t){return gi(new G(4e3,!1))}function rk(t){return gi(jD(!1,It.GuardRejected))}var Hp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[ne])return nk(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:R}=i,A=Rt(o,()=>a({params:y,data:C,queryParams:c,fragment:l,routeConfig:h,url:p,outlet:m,title:R}));if(A instanceof Dn)throw new Us(A);n=A}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Us(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Dn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new me(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Gp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ik(t,e,n,r,i){let o=zD(t,e,n);return o.matched?(r=bP(e,r),tk(r,e,n,i).pipe(Q(s=>s===!0?o:B({},Gp)))):H(o)}function zD(t,e,n){if(e.path==="**")return ok(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?B({},Gp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||eP)(n,t,e);if(!i)return B({},Gp);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?B(B({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function ok(t){return{matched:!0,parameters:t.length>0?_D(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function mD(t,e,n,r){return n.length>0&&uk(t,n,r)?{segmentGroup:new me(e,ak(r,new me(n,t.children))),slicedSegments:[]}:n.length===0&&ck(t,n,r)?{segmentGroup:new me(t.segments,sk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new me(t.segments,t.children),slicedSegments:n}}function sk(t,e,n,r){let i={};for(let o of n)if(tl(t,e,o)&&!r[jt(o)]){let s=new me([],{});i[jt(o)]=s}return B(B({},r),i)}function ak(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&jt(r)!==ne){let i=new me([],{});n[jt(r)]=i}return n}function uk(t,e,n){return n.some(r=>tl(t,e,r)&&jt(r)!==ne)}function ck(t,e,n){return n.some(r=>tl(t,e,r))}function tl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function lk(t,e,n){return e.length===0&&!t.children[n]}var Wp=class{};function dk(t,e,n,r,i,o,s="emptyOnly"){return new Kp(t,e,n,r,i,s,o).recognize()}var hk=31,Kp=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Hp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=mD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Q(({children:n,rootSnapshot:r})=>{let i=new wt(r,n),o=new Yc("",i),s=wP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ki([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,n).pipe(Q(r=>({children:r,rootSnapshot:n})),Vn(r=>{if(r instanceof Us)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof js?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Q(s=>s instanceof wt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ye(o).pipe(fn(s=>{let a=r.children[s],c=AP(n,s);return this.processSegmentGroup(e,c,a,s,i)}),_u((s,a)=>(s.push(...a),s)),jn(null),Jd(),Me(s=>{if(s===null)return Hi(r);let a=qD(s);return fk(a),H(a)}))}processSegment(e,n,r,i,o,s,a){return ye(n).pipe(fn(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(Vn(l=>{if(l instanceof js)return H(null);throw l}))),Tt(c=>!!c),Vn(c=>{if(BD(c))return lk(r,i,o)?H(new Wp):Hi(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return jt(r)!==s&&(s===ne||!tl(i,o,r))?Hi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Hi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=zD(n,i,o);if(!c)return Hi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hk&&(this.allowRedirects=!1));let y=new Ki(o,l,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,yD(i),jt(i),i.component??i._loadedComponent??null,i,vD(i)),C=Qc(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let R=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(Me(A=>this.processSegment(e,r,n,A.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=ik(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Te(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Te(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=c,C=new Ki(m,p,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,yD(r),jt(r),r.component??r._loadedComponent??null,r,vD(r)),R=Qc(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(R.params),C.data=Object.freeze(R.data);let{segmentGroup:A,slicedSegments:M}=mD(n,m,y,l);if(M.length===0&&A.hasChildren())return this.processChildren(h,l,A,C).pipe(Q(L=>new wt(C,L)));if(l.length===0&&M.length===0)return H(new wt(C,[]));let F=jt(r)===o;return this.processSegment(h,l,A,M,F?ne:o,!0,C).pipe(Q(L=>new wt(C,L instanceof wt?[L]:[])))}))):Hi(n)))}getChildConfig(e,n,r){return n.children?H({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?H({routes:n._loadedRoutes,injector:n._loadedInjector}):ek(e,n,r,this.urlSerializer).pipe(Me(i=>i?this.configLoader.loadChildren(e,n).pipe(Ne(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):rk(n))):H({routes:[],injector:e})}};function fk(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function pk(t){let e=t.value.routeConfig;return e&&e.path===""}function qD(t){let e=[],n=new Set;for(let r of t){if(!pk(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=qD(r.children);e.push(new wt(r.value,i))}return e.filter(r=>!n.has(r))}function yD(t){return t.data||{}}function vD(t){return t.resolve||{}}function gk(t,e,n,r,i,o){return Me(s=>dk(t,e,n,r,s.extractedUrl,i,o).pipe(Q(({state:a,tree:c})=>De(B({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function mk(t,e){return Me(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return H(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of HD(c))s.add(l);let a=0;return ye(s).pipe(fn(c=>o.has(c)?yk(c,r,t,e):(c.data=Qc(c,c.parent,t).resolve,H(void 0))),Ne(()=>a++),yi(1),Me(c=>a===s.size?H(n):rt))})}function HD(t){let e=t.children.map(n=>HD(n)).flat();return[t,...e]}function yk(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!LD(i)&&(o[$s]=i.title),vk(o,t,e,r).pipe(Q(s=>(t._resolvedData=s,t.data=Qc(t,t.parent,n).resolve,null)))}function vk(t,e,n,r){let i=Cp(t);if(i.length===0)return H({});let o={};return ye(i).pipe(Me(s=>wk(t[s],e,n,r).pipe(Tt(),Ne(a=>{if(a instanceof Vs)throw Zc(new Zi,a);o[s]=a}))),yi(1),Zd(o),Vn(s=>BD(s)?rt:gi(s)))}function wk(t,e,n,r){let i=qs(e)??r,o=to(t,i),s=o.resolve?o.resolve(e,n):Rt(i,()=>o(e,n));return ir(s)}function Dp(t){return Te(e=>{let n=t(e);return n?ye(n).pipe(Q(()=>e)):H(e)})}var GD=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ne);return i}getResolvedTitleForRoute(r){return r.data[$s]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>N(Ik),providedIn:"root"});let t=e;return t})(),Ik=(()=>{let e=class e extends GD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(j(lD))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ws=new V("",{providedIn:"root",factory:()=>({})}),Ek=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=CI({type:e,selectors:[["ng-component"]],standalone:!0,features:[D_],decls:1,vars:0,template:function(i,o){i&1&&Wf(0,"router-outlet")},dependencies:[RP],encapsulation:2});let t=e;return t})();function Zp(t){let e=t.children&&t.children.map(Zp),n=e?De(B({},t),{children:e}):B({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=Ek),n}var Bs=new V(""),Jp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(Rc)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return H(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ir(r.loadComponent()).pipe(Q(WD),Ne(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),_r(()=>{this.componentLoaders.delete(r)})),o=new di(i,()=>new xe).pipe(li());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return H({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=_k(i,this.compiler,r,this.onLoadEndListener).pipe(_r(()=>{this.childrenLoaders.delete(i)})),a=new di(s,()=>new xe).pipe(li());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _k(t,e,n,r){return ir(t.loadChildren()).pipe(Q(WD),Me(i=>i instanceof us||Array.isArray(i)?H(i):ye(e.compileModuleAsync(i))),Q(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Bs,[],{optional:!0,self:!0}).flat()),{routes:s.map(Zp),injector:o}}))}function Dk(t){return t&&typeof t=="object"&&"default"in t}function WD(t){return Dk(t)?t.default:t}var Xp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>N(Tk),providedIn:"root"});let t=e;return t})(),Tk=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),KD=new V(""),QD=new V("");function Ck(t,e,n){let r=t.get(QD),i=t.get(qe);return t.get(le).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),bk(t))),{onViewTransitionCreated:c}=r;return c&&Rt(t,()=>c({transition:a,from:e,to:n})),s})}function bk(t){return new Promise(e=>{Gf({read:()=>setTimeout(e)},{injector:t})})}var Ak=new V(""),eg=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xe,this.transitionAbortSubject=new xe,this.configLoader=N(Jp),this.environmentInjector=N(ct),this.urlSerializer=N(zs),this.rootContexts=N(Hs),this.location=N(zi),this.inputBindingEnabled=N(el,{optional:!0})!==null,this.titleStrategy=N(GD),this.options=N(Ws,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(Xp),this.createViewTransition=N(KD,{optional:!0}),this.navigationErrorHandler=N(Ak,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Pp(o)),i=o=>this.events.next(new kp(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(De(B(B({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Be({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ms,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($e(s=>s.id!==0),Q(s=>De(B({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Te(s=>{let a=!1,c=!1;return H(s).pipe(Te(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",It.SupersededByNewNavigation),rt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?De(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new nr(l.id,this.urlSerializer.serialize(l.rawUrl),m,qc.IgnoredSameUrlNavigation)),l.resolve(!1),rt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return H(l).pipe(Te(m=>{let y=this.transitions?.getValue();return this.events.next(new Ji(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?rt:Promise.resolve(m)}),gk(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ne(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=De(B({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new Hc(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:C,restoredState:R,extras:A}=l,M=new Ji(m,this.urlSerializer.serialize(y),C,R);this.events.next(M);let F=OD(this.rootComponentType).snapshot;return this.currentTransition=s=De(B({},l),{targetSnapshot:F,urlAfterRedirects:y,extras:De(B({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,H(s)}else{let m="";return this.events.next(new nr(l.id,this.urlSerializer.serialize(l.extractedUrl),m,qc.IgnoredByUrlHandlingStrategy)),l.resolve(!1),rt}}),Ne(l=>{let h=new Rp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Q(l=>(this.currentTransition=s=De(B({},l),{guards:OP(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),GP(this.environmentInjector,l=>this.events.next(l)),Ne(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Zc(this.urlSerializer,l.guardsResult);let h=new xp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),$e(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",It.GuardRejected),!1)),Dp(l=>{if(l.guards.canActivateChecks.length)return H(l).pipe(Ne(h=>{let p=new Mp(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Te(h=>{let p=!1;return H(h).pipe(mk(this.paramsInheritanceStrategy,this.environmentInjector),Ne({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",It.NoDataFromResolver)}}))}),Ne(h=>{let p=new Np(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Dp(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ne(y=>{p.component=y}),Q(()=>{})));for(let y of p.children)m.push(...h(y));return m};return Xo(h(l.targetSnapshot.root)).pipe(jn(null),pn(1))}),Dp(()=>this.afterPreactivation()),Te(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?ye(p).pipe(Q(()=>s)):H(s)}),Q(l=>{let h=xP(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=De(B({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),Ne(()=>{this.events.next(new Fs)}),kP(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),pn(1),Ne({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Tn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),eh(this.transitionAbortSubject.pipe(Ne(l=>{throw l}))),_r(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",It.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Vn(l=>{if(c=!0,UD(l))this.events.next(new _n(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),PP(l)?this.events.next(new Xi(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Os(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=Rt(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Vs){let{message:m,cancellationCode:y}=Zc(this.urlSerializer,p);this.events.next(new _n(s.id,this.urlSerializer.serialize(s.extractedUrl),m,y)),this.events.next(new Xi(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return rt}))}))}cancelNavigationTransition(r,i,o){let s=new _n(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Sk(t){return t!==Ms}var Rk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>N(xk),providedIn:"root"});let t=e;return t})(),Qp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},xk=(()=>{let e=class e extends Qp{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Cf(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),YD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>N(Mk),providedIn:"root"});let t=e;return t})(),Mk=(()=>{let e=class e extends YD{constructor(){super(...arguments),this.location=N(zi),this.urlSerializer=N(zs),this.options=N(Ws,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(Xp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Dn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=OD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ji)this.stateMemento=this.createStateMemento();else if(r instanceof nr)this.rawUrlTree=i.initialUrl;else if(r instanceof Hc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof Fs?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof _n&&(r.code===It.GuardRejected||r.code===It.NoDataFromResolver)?this.restoreHistory(i):r instanceof Os?this.restoreHistory(i,!0):r instanceof Tn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof Dn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=B(B({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=B(B({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Cf(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Rs||{});function ZD(t,e){t.events.pipe($e(n=>n instanceof Tn||n instanceof _n||n instanceof Os||n instanceof nr),Q(n=>n instanceof Tn||n instanceof nr?Rs.COMPLETE:(n instanceof _n?n.code===It.Redirect||n.code===It.SupersededByNewNavigation:!1)?Rs.REDIRECTING:Rs.FAILED),$e(n=>n!==Rs.REDIRECTING),pn(1)).subscribe(()=>{e()})}function Nk(t){throw t}var Pk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},rr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=N(Ac),this.stateManager=N(YD),this.options=N(Ws,{optional:!0})||{},this.pendingTasks=N(Qn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(eg),this.urlSerializer=N(zs),this.location=N(zi),this.urlHandlingStrategy=N(Xp),this._events=new xe,this.errorHandler=this.options.errorHandler||Nk,this.navigated=!1,this.routeReuseStrategy=N(Rk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(Bs,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(el,{optional:!0}),this.eventsSubscription=new Se,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof _n&&i.code!==It.Redirect&&i.code!==It.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Tn)this.navigated=!0;else if(i instanceof Xi){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=B({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Sk(o.source)},a);this.scheduleNavigation(c,Ms,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Fk(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ms,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=B({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Zp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":p=B(B({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=o?o.snapshot:this.routerState.snapshot.root;m=MD(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return ND(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ps(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ms,null,i)}navigate(r,i={skipLocationChange:!1}){return Ok(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=B({},Pk):i===!1?o=B({},kk):o=i,Ps(r))return dD(this.currentUrlTree,r,o);let s=this.parseUrl(r);return dD(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,h;a?(c=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{c=m,l=y});let p=this.pendingTasks.add();return ZD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ok(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new G(4008,!1)}function Fk(t){return!(t instanceof Fs)&&!(t instanceof Xi)}var Xc=class{};var Lk=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe($e(r=>r instanceof Tn),fn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=bc(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return ye(o).pipe(Ln())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=H(null);let s=o.pipe(Me(a=>a===null?H(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ye([s,a]).pipe(Ln())}else return s})}};e.\u0275fac=function(i){return new(i||e)(j(rr),j(Rc),j(ct),j(Xc),j(Jp))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JD=new V(""),Vk=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ji?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Tn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof nr&&r.code===qc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Gc&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gc(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){UE()},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function Fq(t,...e){return St([{provide:Bs,multi:!0,useValue:t},[],{provide:Ur,useFactory:XD,deps:[rr]},{provide:ms,multi:!0,useFactory:eT},e.map(n=>n.\u0275providers)])}function XD(t){return t.routerState.root}function Ks(t,e){return{\u0275kind:t,\u0275providers:e}}function eT(){let t=N(Ze);return e=>{let n=t.get(Jn);if(e!==n.components[0])return;let r=t.get(rr),i=t.get(tT);t.get(tg)===1&&r.initialNavigation(),t.get(nT,null,re.Optional)?.setUpPreloading(),t.get(JD,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var tT=new V("",{factory:()=>new xe}),tg=new V("",{providedIn:"root",factory:()=>1});function jk(){return Ks(2,[{provide:tg,useValue:0},{provide:Sc,multi:!0,deps:[Ze],useFactory:e=>{let n=e.get($_,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(rr),o=e.get(tT);ZD(i,()=>{r(!0)}),e.get(eg).afterPreactivation=()=>(r(!0),o.closed?H(void 0):o),i.initialNavigation()}))}}])}function Uk(){return Ks(3,[{provide:Sc,multi:!0,useFactory:()=>{let e=N(rr);return()=>{e.setUpLocationChangeListener()}}},{provide:tg,useValue:2}])}var nT=new V("");function Bk(t){return Ks(0,[{provide:nT,useExisting:Lk},{provide:Xc,useExisting:t}])}function $k(){return Ks(8,[gD,{provide:el,useExisting:gD}])}function zk(t){let e=[{provide:KD,useValue:Ck},{provide:QD,useValue:B({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ks(9,e)}var wD=new V("ROUTER_FORROOT_GUARD"),qk=[zi,{provide:zs,useClass:Zi},rr,Hs,{provide:Ur,useFactory:XD,deps:[rr]},Jp,[]],Lq=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[qk,[],{provide:Bs,multi:!0,useValue:r},{provide:wD,useFactory:Kk,deps:[[rr,new ze,new df]]},{provide:Ws,useValue:i||{}},i?.useHash?Gk():Wk(),Hk(),i?.preloadingStrategy?Bk(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Qk(i):[],i?.bindToComponentInputs?$k().\u0275providers:[],i?.enableViewTransitions?zk().\u0275providers:[],Yk()]}}static forChild(r){return{ngModule:e,providers:[{provide:Bs,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(j(wD,8))},e.\u0275mod=kr({type:e}),e.\u0275inj=Pr({});let t=e;return t})();function Hk(){return{provide:JD,useFactory:()=>{let t=N(H_),e=N(le),n=N(Ws),r=N(eg),i=N(zs);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Vk(i,r,t,e,n)}}}function Gk(){return{provide:Lr,useClass:q_}}function Wk(){return{provide:Lr,useClass:sp}}function Kk(t){return"guarded"}function Qk(t){return[t.initialNavigation==="disabled"?Uk().\u0275providers:[],t.initialNavigation==="enabledBlocking"?jk().\u0275providers:[]]}var ID=new V("");function Yk(){return[{provide:ID,useFactory:eT},{provide:ms,multi:!0,useExisting:ID}]}var Zk="firebase",Jk="10.13.1";Ye(Zk,Jk,"app");var or=new Wn("ANGULARFIRE2_VERSION");function rl(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Qs=(t,e)=>{let n=e?[e]:za(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Cn=class{constructor(){return Qs(Xk)}},Xk="app-check";function no(){}var nl=class{zone;delegate;constructor(e,n=Wd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},ng=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",no,{},no,no)),n.pipe(Ne({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},sr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new nl(Zone.current)),this.insideAngular=n.run(()=>new nl(Zone.current,Gd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(j(le))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function il(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function e1(t){return il().ngZone.runOutsideAngular(()=>t())}function Br(t){return il().ngZone.run(()=>t())}function rg(t){return t1(il())(t)}function t1(t){return function(n){return n=n.lift(new ng(t.ngZone)),n.pipe(Dt(t.outsideAngular),vt(t.insideAngular))}}var n1=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Br(()=>t.apply(void 0,r))},ft=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Br(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",no,{},no,no))),r[o]=n1(r[o],n));let i=e1(()=>t.apply(this,r));if(!e)if(i instanceof ee){let o=il();return i.pipe(Dt(o.outsideAngular),vt(o.insideAngular))}else return Br(()=>i);return i instanceof ee?i.pipe(rg):i instanceof Promise?Br(()=>new Promise((o,s)=>i.then(a=>Br(()=>o(a)),a=>Br(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Br(()=>i)};var bn=class{constructor(e){return e}},$r=class{constructor(){return za()}};function i1(t){return t&&t.length===1?t[0]:new bn(Wo())}var ig=new V("angularfire2._apps"),o1={provide:bn,useFactory:i1,deps:[[new ze,ig]]},s1={provide:$r,deps:[[new ze,ig]]};function a1(t){return(e,n)=>{let r=n.get(ht);Ye("angularfire",or.full,"core"),Ye("angularfire",or.full,"app"),Ye("angular",Kf.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new bn(i)}}function rH(t,...e){return St([o1,s1,{provide:ig,useFactory:a1(t),multi:!0,deps:[le,Ze,sr,...e]}])}var rT=ft(Uv,!0);var iT="auth",Ys=class{constructor(e){return e}},Zs=class{constructor(){return Qs(iT)}};var og=new V("angularfire2.auth-instances");function rO(t,e){let n=rl(iT,t,e);return n&&new Ys(n)}function iO(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ys(r)}}var oO={provide:Zs,deps:[[new ze,og]]},sO={provide:Ys,useFactory:rO,deps:[[new ze,og],bn]};function YH(t,...e){return Ye("angularfire",or.full,"auth"),St([sO,oO,{provide:og,useFactory:iO(t),multi:!0,deps:[le,Ze,sr,$r,[new ze,Cn],...e]}])}var oT=ft(bd,!0);var sT=ft(xd,!0);var aT=ft(Sd,!0);var uT=ft(Ad,!0);var cT=ft(Rd,!0);var lT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dT={};var ar,sg;(function(){var t;function e(E,v){function I(){}I.prototype=v.prototype,E.D=v.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(_,D,b){for(var w=Array(arguments.length-2),on=2;on<arguments.length;on++)w[on-2]=arguments[on];return v.prototype[D].apply(_,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,I){I||(I=0);var _=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)_[D]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(D=0;16>D;++D)_[D]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=E.g[0],I=E.g[1],D=E.g[2];var b=E.g[3],w=v+(b^I&(D^b))+_[0]+3614090360&4294967295;v=I+(w<<7&4294967295|w>>>25),w=b+(D^v&(I^D))+_[1]+3905402710&4294967295,b=v+(w<<12&4294967295|w>>>20),w=D+(I^b&(v^I))+_[2]+606105819&4294967295,D=b+(w<<17&4294967295|w>>>15),w=I+(v^D&(b^v))+_[3]+3250441966&4294967295,I=D+(w<<22&4294967295|w>>>10),w=v+(b^I&(D^b))+_[4]+4118548399&4294967295,v=I+(w<<7&4294967295|w>>>25),w=b+(D^v&(I^D))+_[5]+1200080426&4294967295,b=v+(w<<12&4294967295|w>>>20),w=D+(I^b&(v^I))+_[6]+2821735955&4294967295,D=b+(w<<17&4294967295|w>>>15),w=I+(v^D&(b^v))+_[7]+4249261313&4294967295,I=D+(w<<22&4294967295|w>>>10),w=v+(b^I&(D^b))+_[8]+1770035416&4294967295,v=I+(w<<7&4294967295|w>>>25),w=b+(D^v&(I^D))+_[9]+2336552879&4294967295,b=v+(w<<12&4294967295|w>>>20),w=D+(I^b&(v^I))+_[10]+4294925233&4294967295,D=b+(w<<17&4294967295|w>>>15),w=I+(v^D&(b^v))+_[11]+2304563134&4294967295,I=D+(w<<22&4294967295|w>>>10),w=v+(b^I&(D^b))+_[12]+1804603682&4294967295,v=I+(w<<7&4294967295|w>>>25),w=b+(D^v&(I^D))+_[13]+4254626195&4294967295,b=v+(w<<12&4294967295|w>>>20),w=D+(I^b&(v^I))+_[14]+2792965006&4294967295,D=b+(w<<17&4294967295|w>>>15),w=I+(v^D&(b^v))+_[15]+1236535329&4294967295,I=D+(w<<22&4294967295|w>>>10),w=v+(D^b&(I^D))+_[1]+4129170786&4294967295,v=I+(w<<5&4294967295|w>>>27),w=b+(I^D&(v^I))+_[6]+3225465664&4294967295,b=v+(w<<9&4294967295|w>>>23),w=D+(v^I&(b^v))+_[11]+643717713&4294967295,D=b+(w<<14&4294967295|w>>>18),w=I+(b^v&(D^b))+_[0]+3921069994&4294967295,I=D+(w<<20&4294967295|w>>>12),w=v+(D^b&(I^D))+_[5]+3593408605&4294967295,v=I+(w<<5&4294967295|w>>>27),w=b+(I^D&(v^I))+_[10]+38016083&4294967295,b=v+(w<<9&4294967295|w>>>23),w=D+(v^I&(b^v))+_[15]+3634488961&4294967295,D=b+(w<<14&4294967295|w>>>18),w=I+(b^v&(D^b))+_[4]+3889429448&4294967295,I=D+(w<<20&4294967295|w>>>12),w=v+(D^b&(I^D))+_[9]+568446438&4294967295,v=I+(w<<5&4294967295|w>>>27),w=b+(I^D&(v^I))+_[14]+3275163606&4294967295,b=v+(w<<9&4294967295|w>>>23),w=D+(v^I&(b^v))+_[3]+4107603335&4294967295,D=b+(w<<14&4294967295|w>>>18),w=I+(b^v&(D^b))+_[8]+1163531501&4294967295,I=D+(w<<20&4294967295|w>>>12),w=v+(D^b&(I^D))+_[13]+2850285829&4294967295,v=I+(w<<5&4294967295|w>>>27),w=b+(I^D&(v^I))+_[2]+4243563512&4294967295,b=v+(w<<9&4294967295|w>>>23),w=D+(v^I&(b^v))+_[7]+1735328473&4294967295,D=b+(w<<14&4294967295|w>>>18),w=I+(b^v&(D^b))+_[12]+2368359562&4294967295,I=D+(w<<20&4294967295|w>>>12),w=v+(I^D^b)+_[5]+4294588738&4294967295,v=I+(w<<4&4294967295|w>>>28),w=b+(v^I^D)+_[8]+2272392833&4294967295,b=v+(w<<11&4294967295|w>>>21),w=D+(b^v^I)+_[11]+1839030562&4294967295,D=b+(w<<16&4294967295|w>>>16),w=I+(D^b^v)+_[14]+4259657740&4294967295,I=D+(w<<23&4294967295|w>>>9),w=v+(I^D^b)+_[1]+2763975236&4294967295,v=I+(w<<4&4294967295|w>>>28),w=b+(v^I^D)+_[4]+1272893353&4294967295,b=v+(w<<11&4294967295|w>>>21),w=D+(b^v^I)+_[7]+4139469664&4294967295,D=b+(w<<16&4294967295|w>>>16),w=I+(D^b^v)+_[10]+3200236656&4294967295,I=D+(w<<23&4294967295|w>>>9),w=v+(I^D^b)+_[13]+681279174&4294967295,v=I+(w<<4&4294967295|w>>>28),w=b+(v^I^D)+_[0]+3936430074&4294967295,b=v+(w<<11&4294967295|w>>>21),w=D+(b^v^I)+_[3]+3572445317&4294967295,D=b+(w<<16&4294967295|w>>>16),w=I+(D^b^v)+_[6]+76029189&4294967295,I=D+(w<<23&4294967295|w>>>9),w=v+(I^D^b)+_[9]+3654602809&4294967295,v=I+(w<<4&4294967295|w>>>28),w=b+(v^I^D)+_[12]+3873151461&4294967295,b=v+(w<<11&4294967295|w>>>21),w=D+(b^v^I)+_[15]+530742520&4294967295,D=b+(w<<16&4294967295|w>>>16),w=I+(D^b^v)+_[2]+3299628645&4294967295,I=D+(w<<23&4294967295|w>>>9),w=v+(D^(I|~b))+_[0]+4096336452&4294967295,v=I+(w<<6&4294967295|w>>>26),w=b+(I^(v|~D))+_[7]+1126891415&4294967295,b=v+(w<<10&4294967295|w>>>22),w=D+(v^(b|~I))+_[14]+2878612391&4294967295,D=b+(w<<15&4294967295|w>>>17),w=I+(b^(D|~v))+_[5]+4237533241&4294967295,I=D+(w<<21&4294967295|w>>>11),w=v+(D^(I|~b))+_[12]+1700485571&4294967295,v=I+(w<<6&4294967295|w>>>26),w=b+(I^(v|~D))+_[3]+2399980690&4294967295,b=v+(w<<10&4294967295|w>>>22),w=D+(v^(b|~I))+_[10]+4293915773&4294967295,D=b+(w<<15&4294967295|w>>>17),w=I+(b^(D|~v))+_[1]+2240044497&4294967295,I=D+(w<<21&4294967295|w>>>11),w=v+(D^(I|~b))+_[8]+1873313359&4294967295,v=I+(w<<6&4294967295|w>>>26),w=b+(I^(v|~D))+_[15]+4264355552&4294967295,b=v+(w<<10&4294967295|w>>>22),w=D+(v^(b|~I))+_[6]+2734768916&4294967295,D=b+(w<<15&4294967295|w>>>17),w=I+(b^(D|~v))+_[13]+1309151649&4294967295,I=D+(w<<21&4294967295|w>>>11),w=v+(D^(I|~b))+_[4]+4149444226&4294967295,v=I+(w<<6&4294967295|w>>>26),w=b+(I^(v|~D))+_[11]+3174756917&4294967295,b=v+(w<<10&4294967295|w>>>22),w=D+(v^(b|~I))+_[2]+718787259&4294967295,D=b+(w<<15&4294967295|w>>>17),w=I+(b^(D|~v))+_[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var I=v-this.blockSize,_=this.B,D=this.h,b=0;b<v;){if(D==0)for(;b<=I;)i(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<v;)if(_[D++]=E.charCodeAt(b++),D==this.blockSize){i(this,_),D=0;break}}else for(;b<v;)if(_[D++]=E[b++],D==this.blockSize){i(this,_),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var I=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=I&255,I/=256;for(this.u(E),E=Array(16),v=I=0;4>v;++v)for(var _=0;32>_;_+=8)E[I++]=this.g[v]>>>_&255;return E};function o(E,v){var I=a;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=v(E)}function s(E,v){this.h=v;for(var I=[],_=!0,D=E.length-1;0<=D;D--){var b=E[D]|0;_&&b==v||(I[D]=b,_=!1)}this.g=I}var a={};function c(E){return-128<=E&&128>E?o(E,function(v){return new s([v|0],0>v?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return A(l(-E));for(var v=[],I=1,_=0;E>=I;_++)v[_]=E/I|0,I*=4294967296;return new s(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return A(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),_=p,D=0;D<E.length;D+=8){var b=Math.min(8,E.length-D),w=parseInt(E.substring(D,D+b),v);8>b?(b=l(Math.pow(v,b)),_=_.j(b).add(l(w))):(_=_.j(I),_=_.add(l(w)))}return _}var p=c(0),m=c(1),y=c(16777216);t=s.prototype,t.m=function(){if(R(this))return-A(this).m();for(var E=0,v=1,I=0;I<this.g.length;I++){var _=this.i(I);E+=(0<=_?_:4294967296+_)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(R(this))return"-"+A(this).toString(E);for(var v=l(Math.pow(E,6)),I=this,_="";;){var D=$(I,v).g;I=M(I,D.j(v));var b=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=D,C(I))return b+_;for(;6>b.length;)b="0"+b;_=b+_}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=M(this,E),R(E)?-1:C(E)?0:1};function A(E){for(var v=E.g.length,I=[],_=0;_<v;_++)I[_]=~E.g[_];return new s(I,~E.h).add(m)}t.abs=function(){return R(this)?A(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],_=0,D=0;D<=v;D++){var b=_+(this.i(D)&65535)+(E.i(D)&65535),w=(b>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);_=w>>>16,b&=65535,w&=65535,I[D]=w<<16|b}return new s(I,I[I.length-1]&-2147483648?-1:0)};function M(E,v){return E.add(A(v))}t.j=function(E){if(C(this)||C(E))return p;if(R(this))return R(E)?A(this).j(A(E)):A(A(this).j(E));if(R(E))return A(this.j(A(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,I=[],_=0;_<2*v;_++)I[_]=0;for(_=0;_<this.g.length;_++)for(var D=0;D<E.g.length;D++){var b=this.i(_)>>>16,w=this.i(_)&65535,on=E.i(D)>>>16,bo=E.i(D)&65535;I[2*_+2*D]+=w*bo,F(I,2*_+2*D),I[2*_+2*D+1]+=b*bo,F(I,2*_+2*D+1),I[2*_+2*D+1]+=w*on,F(I,2*_+2*D+1),I[2*_+2*D+2]+=b*on,F(I,2*_+2*D+2)}for(_=0;_<v;_++)I[_]=I[2*_+1]<<16|I[2*_];for(_=v;_<2*v;_++)I[_]=0;return new s(I,0)};function F(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function L(E,v){this.g=E,this.h=v}function $(E,v){if(C(v))throw Error("division by zero");if(C(E))return new L(p,p);if(R(E))return v=$(A(E),v),new L(A(v.g),A(v.h));if(R(v))return v=$(E,A(v)),new L(A(v.g),v.h);if(30<E.g.length){if(R(E)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,_=v;0>=_.l(E);)I=he(I),_=he(_);var D=K(I,1),b=K(_,1);for(_=K(_,2),I=K(I,2);!C(_);){var w=b.add(_);0>=w.l(E)&&(D=D.add(I),b=w),_=K(_,1),I=K(I,1)}return v=M(E,D.j(v)),new L(D,v)}for(D=p;0<=E.l(v);){for(I=Math.max(1,Math.floor(E.m()/v.m())),_=Math.ceil(Math.log(I)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),b=l(I),w=b.j(v);R(w)||0<w.l(E);)I-=_,b=l(I),w=b.j(v);C(b)&&(b=m),D=D.add(b),E=M(E,w)}return new L(D,E)}t.A=function(E){return $(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],_=0;_<v;_++)I[_]=this.i(_)&E.i(_);return new s(I,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],_=0;_<v;_++)I[_]=this.i(_)|E.i(_);return new s(I,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],_=0;_<v;_++)I[_]=this.i(_)^E.i(_);return new s(I,this.h^E.h)};function he(E){for(var v=E.g.length+1,I=[],_=0;_<v;_++)I[_]=E.i(_)<<1|E.i(_-1)>>>31;return new s(I,E.h)}function K(E,v){var I=v>>5;v%=32;for(var _=E.g.length-I,D=[],b=0;b<_;b++)D[b]=0<v?E.i(b+I)>>>v|E.i(b+I+1)<<32-v:E.i(b+I);return new s(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sg=dT.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ar=dT.Integer=s}).apply(typeof lT<"u"?lT:typeof self<"u"?self:typeof window<"u"?window:{});var ol=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},An={};var ag,ug,ro,cg,Js,sl,lg,dg,hg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,f){return u==Array.prototype||u==Object.prototype||(u[d]=f.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ol=="object"&&ol];for(var d=0;d<u.length;++d){var f=u[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(u,d){if(d)e:{var f=r;u=u.split(".");for(var g=0;g<u.length-1;g++){var T=u[g];if(!(T in f))break e;f=f[T]}u=u[u.length-1],g=f[u],d=d(g),d!=g&&d!=null&&e(f,u,{configurable:!0,writable:!0,value:d})}}function o(u,d){u instanceof String&&(u+="");var f=0,g=!1,T={next:function(){if(!g&&f<u.length){var S=f++;return{value:d(S,u[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(u){return u||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function l(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function h(u,d,f){return u.call.apply(u.bind,arguments)}function p(u,d,f){if(!u)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),u.apply(d,T)}}return function(){return u.apply(d,arguments)}}function m(u,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(u,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),u.apply(this,g)}}function C(u,d){function f(){}f.prototype=d.prototype,u.aa=d.prototype,u.prototype=new f,u.prototype.constructor=u,u.Qb=function(g,T,S){for(var O=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)O[ve-2]=arguments[ve];return d.prototype[T].apply(g,O)}}function R(u){let d=u.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=u[g];return f}return[]}function A(u,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(c(g)){let T=u.length||0,S=g.length||0;u.length=T+S;for(let O=0;O<S;O++)u[T+O]=g[O]}else u.push(g)}}class M{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function F(u){return/^[\s\xa0]*$/.test(u)}function L(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function $(u){return $[" "](u),u}$[" "]=function(){};var he=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function K(u,d,f){for(let g in u)d.call(f,u[g],g,u)}function E(u,d){for(let f in u)d.call(void 0,u[f],f,u)}function v(u){let d={};for(let f in u)d[f]=u[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(u,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)u[f]=g[f];for(let S=0;S<I.length;S++)f=I[S],Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])}}function D(u){var d=1;u=u.split(":");let f=[];for(;0<d&&u.length;)f.push(u.shift()),d--;return u.length&&f.push(u.join(":")),f}function b(u){a.setTimeout(()=>{throw u},0)}function w(){var u=Jl;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class on{constructor(){this.h=this.g=null}add(d,f){let g=bo.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var bo=new M(()=>new Mb,u=>u.reset());class Mb{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ao,So=!1,Jl=new on,Sy=()=>{let u=a.Promise.resolve(void 0);Ao=()=>{u.then(Nb)}};var Nb=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(f){b(f)}var d=bo;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}So=!1};function Pn(){this.s=this.s,this.C=this.C}Pn.prototype.s=!1,Pn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Pn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ge(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};var Pb=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return u}();function Ro(u,d){if(Ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var f=this.type=u.type,g=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(he){e:{try{$(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=u.fromElement:f=="mouseout"&&(d=u.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:kb[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ro.aa.h.call(this)}}C(Ro,Ge);var kb={2:"touch",3:"pen",4:"mouse"};Ro.prototype.h=function(){Ro.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xo="closure_listenable_"+(1e6*Math.random()|0),Ob=0;function Fb(u,d,f,g,T){this.listener=u,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++Ob,this.da=this.fa=!1}function Ta(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ca(u){this.src=u,this.g={},this.h=0}Ca.prototype.add=function(u,d,f,g,T){var S=u.toString();u=this.g[S],u||(u=this.g[S]=[],this.h++);var O=ed(u,d,g,T);return-1<O?(d=u[O],f||(d.fa=!1)):(d=new Fb(d,this.src,S,!!g,T),d.fa=f,u.push(d)),d};function Xl(u,d){var f=d.type;if(f in u.g){var g=u.g[f],T=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=T)&&Array.prototype.splice.call(g,T,1),S&&(Ta(d),u.g[f].length==0&&(delete u.g[f],u.h--))}}function ed(u,d,f,g){for(var T=0;T<u.length;++T){var S=u[T];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return T}return-1}var td="closure_lm_"+(1e6*Math.random()|0),nd={};function Ry(u,d,f,g,T){if(g&&g.once)return My(u,d,f,g,T);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Ry(u,d[S],f,g,T);return null}return f=sd(f),u&&u[xo]?u.K(d,f,l(g)?!!g.capture:!!g,T):xy(u,d,f,!1,g,T)}function xy(u,d,f,g,T,S){if(!d)throw Error("Invalid event type");var O=l(T)?!!T.capture:!!T,ve=id(u);if(ve||(u[td]=ve=new Ca(u)),f=ve.add(d,f,g,O,S),f.proxy)return f;if(g=Lb(),f.proxy=g,g.src=u,g.listener=f,u.addEventListener)Pb||(T=O),T===void 0&&(T=!1),u.addEventListener(d.toString(),g,T);else if(u.attachEvent)u.attachEvent(Py(d.toString()),g);else if(u.addListener&&u.removeListener)u.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Lb(){function u(f){return d.call(u.src,u.listener,f)}let d=Vb;return u}function My(u,d,f,g,T){if(Array.isArray(d)){for(var S=0;S<d.length;S++)My(u,d[S],f,g,T);return null}return f=sd(f),u&&u[xo]?u.L(d,f,l(g)?!!g.capture:!!g,T):xy(u,d,f,!0,g,T)}function Ny(u,d,f,g,T){if(Array.isArray(d))for(var S=0;S<d.length;S++)Ny(u,d[S],f,g,T);else g=l(g)?!!g.capture:!!g,f=sd(f),u&&u[xo]?(u=u.i,d=String(d).toString(),d in u.g&&(S=u.g[d],f=ed(S,f,g,T),-1<f&&(Ta(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete u.g[d],u.h--)))):u&&(u=id(u))&&(d=u.g[d.toString()],u=-1,d&&(u=ed(d,f,g,T)),(f=-1<u?d[u]:null)&&rd(f))}function rd(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[xo])Xl(d.i,u);else{var f=u.type,g=u.proxy;d.removeEventListener?d.removeEventListener(f,g,u.capture):d.detachEvent?d.detachEvent(Py(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=id(d))?(Xl(f,u),f.h==0&&(f.src=null,d[td]=null)):Ta(u)}}}function Py(u){return u in nd?nd[u]:nd[u]="on"+u}function Vb(u,d){if(u.da)u=!0;else{d=new Ro(d,this);var f=u.listener,g=u.ha||u.src;u.fa&&rd(u),u=f.call(g,d)}return u}function id(u){return u=u[td],u instanceof Ca?u:null}var od="__closure_events_fn_"+(1e9*Math.random()>>>0);function sd(u){return typeof u=="function"?u:(u[od]||(u[od]=function(d){return u.handleEvent(d)}),u[od])}function We(){Pn.call(this),this.i=new Ca(this),this.M=this,this.F=null}C(We,Pn),We.prototype[xo]=!0,We.prototype.removeEventListener=function(u,d,f,g){Ny(this,u,d,f,g)};function tt(u,d){var f,g=u.F;if(g)for(f=[];g;g=g.F)f.push(g);if(u=u.M,g=d.type||d,typeof d=="string")d=new Ge(d,u);else if(d instanceof Ge)d.target=d.target||u;else{var T=d;d=new Ge(g,u),_(d,T)}if(T=!0,f)for(var S=f.length-1;0<=S;S--){var O=d.g=f[S];T=ba(O,g,!0,d)&&T}if(O=d.g=u,T=ba(O,g,!0,d)&&T,T=ba(O,g,!1,d)&&T,f)for(S=0;S<f.length;S++)O=d.g=f[S],T=ba(O,g,!1,d)&&T}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var f=u.g[d],g=0;g<f.length;g++)Ta(f[g]);delete u.g[d],u.h--}}this.F=null},We.prototype.K=function(u,d,f,g){return this.i.add(String(u),d,!1,f,g)},We.prototype.L=function(u,d,f,g){return this.i.add(String(u),d,!0,f,g)};function ba(u,d,f,g){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,S=0;S<d.length;++S){var O=d[S];if(O&&!O.da&&O.capture==f){var ve=O.listener,Ue=O.ha||O.src;O.fa&&Xl(u.i,O),T=ve.call(Ue,g)!==!1&&T}}return T&&!g.defaultPrevented}function ky(u,d,f){if(typeof u=="function")f&&(u=m(u,f));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(u,d||0)}function Oy(u){u.g=ky(()=>{u.g=null,u.i&&(u.i=!1,Oy(u))},u.l);let d=u.h;u.h=null,u.m.apply(null,d)}class jb extends Pn{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Oy(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mo(u){Pn.call(this),this.h=u,this.g={}}C(Mo,Pn);var Fy=[];function Ly(u){K(u.g,function(d,f){this.g.hasOwnProperty(f)&&rd(d)},u),u.g={}}Mo.prototype.N=function(){Mo.aa.N.call(this),Ly(this)},Mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ad=a.JSON.stringify,Ub=a.JSON.parse,Bb=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ud(){}ud.prototype.h=null;function Vy(u){return u.h||(u.h=u.i())}function jy(){}var No={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cd(){Ge.call(this,"d")}C(cd,Ge);function ld(){Ge.call(this,"c")}C(ld,Ge);var pr={},Uy=null;function Aa(){return Uy=Uy||new We}pr.La="serverreachability";function By(u){Ge.call(this,pr.La,u)}C(By,Ge);function Po(u){let d=Aa();tt(d,new By(d))}pr.STAT_EVENT="statevent";function $y(u,d){Ge.call(this,pr.STAT_EVENT,u),this.stat=d}C($y,Ge);function nt(u){let d=Aa();tt(d,new $y(d,u))}pr.Ma="timingevent";function zy(u,d){Ge.call(this,pr.Ma,u),this.size=d}C(zy,Ge);function ko(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},d)}function Oo(){this.g=!0}Oo.prototype.xa=function(){this.g=!1};function $b(u,d,f,g,T,S){u.info(function(){if(u.g)if(S)for(var O="",ve=S.split("&"),Ue=0;Ue<ve.length;Ue++){var fe=ve[Ue].split("=");if(1<fe.length){var Ke=fe[0];fe=fe[1];var Qe=Ke.split("_");O=2<=Qe.length&&Qe[1]=="type"?O+(Ke+"="+fe+"&"):O+(Ke+"=redacted&")}}else O=null;else O=S;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+O})}function zb(u,d,f,g,T,S,O){u.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+S+" "+O})}function ni(u,d,f,g){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+Hb(u,f)+(g?" "+g:"")})}function qb(u,d){u.info(function(){return"TIMEOUT: "+d})}Oo.prototype.info=function(){};function Hb(u,d){if(!u.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(u=0;u<f.length;u++)if(Array.isArray(f[u])){var g=f[u];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var O=1;O<T.length;O++)T[O]=""}}}}return ad(f)}catch{return d}}var Sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dd;function Ra(){}C(Ra,ud),Ra.prototype.g=function(){return new XMLHttpRequest},Ra.prototype.i=function(){return{}},dd=new Ra;function kn(u,d,f,g){this.j=u,this.i=d,this.l=f,this.R=g||1,this.U=new Mo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hy}function Hy(){this.i=null,this.g="",this.h=!1}var Gy={},hd={};function fd(u,d,f){u.L=1,u.v=Pa(sn(d)),u.m=f,u.P=!0,Wy(u,null)}function Wy(u,d){u.F=Date.now(),xa(u),u.A=sn(u.v);var f=u.A,g=u.R;Array.isArray(g)||(g=[String(g)]),av(f.i,"t",g),u.C=0,f=u.j.J,u.h=new Hy,u.g=Cv(u.j,f?d:null,!u.m),0<u.O&&(u.M=new jb(m(u.Y,u,u.g),u.O)),d=u.U,f=u.g,g=u.ca;var T="readystatechange";Array.isArray(T)||(T&&(Fy[0]=T.toString()),T=Fy);for(var S=0;S<T.length;S++){var O=Ry(f,T[S],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Po(),$b(u.i,u.u,u.A,u.l,u.R,u.m)}kn.prototype.ca=function(u){u=u.target;let d=this.M;d&&an(u)==3?d.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)e:{let Qe=an(this.g);var d=this.g.Ba();let oi=this.g.Z();if(!(3>Qe)&&(Qe!=3||this.g&&(this.h.h||this.g.oa()||pv(this.g)))){this.J||Qe!=4||d==7||(d==8||0>=oi?Po(3):Po(2)),pd(this);var f=this.g.Z();this.X=f;t:if(Ky(this)){var g=pv(this.g);u="";var T=g.length,S=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gr(this),Fo(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,u+=this.h.i.decode(g[d],{stream:!(S&&d==T-1)});g.length=0,this.h.g+=u,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,zb(this.i,this.u,this.A,this.l,this.R,Qe,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,Ue=this.g;if((ve=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(ve)){var fe=ve;break t}}fe=null}if(f=fe)ni(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gd(this,f);else{this.o=!1,this.s=3,nt(12),gr(this),Fo(this);break e}}if(this.P){f=!0;let Pt;for(;!this.J&&this.C<O.length;)if(Pt=Gb(this,O),Pt==hd){Qe==4&&(this.s=4,nt(14),f=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==Gy){this.s=4,nt(15),ni(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else ni(this.i,this.l,Pt,null),gd(this,Pt);if(Ky(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||O.length!=0||this.h.h||(this.s=1,nt(16),f=!1),this.o=this.o&&f,!f)ni(this.i,this.l,O,"[Invalid Chunked Response]"),gr(this),Fo(this);else if(0<O.length&&!this.W){this.W=!0;var Ke=this.j;Ke.g==this&&Ke.ba&&!Ke.M&&(Ke.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Ed(Ke),Ke.M=!0,nt(11))}}else ni(this.i,this.l,O,null),gd(this,O);Qe==4&&gr(this),this.o&&!this.J&&(Qe==4?Ev(this.j,this):(this.o=!1,xa(this)))}else c0(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),gr(this),Fo(this)}}}catch{}finally{}};function Ky(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Gb(u,d){var f=u.C,g=d.indexOf(`
`,f);return g==-1?hd:(f=Number(d.substring(f,g)),isNaN(f)?Gy:(g+=1,g+f>d.length?hd:(d=d.slice(g,g+f),u.C=g+f,d)))}kn.prototype.cancel=function(){this.J=!0,gr(this)};function xa(u){u.S=Date.now()+u.I,Qy(u,u.I)}function Qy(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ko(m(u.ba,u),d)}function pd(u){u.B&&(a.clearTimeout(u.B),u.B=null)}kn.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(qb(this.i,this.A),this.L!=2&&(Po(),nt(17)),gr(this),this.s=2,Fo(this)):Qy(this,this.S-u)};function Fo(u){u.j.G==0||u.J||Ev(u.j,u)}function gr(u){pd(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,Ly(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function gd(u,d){try{var f=u.j;if(f.G!=0&&(f.g==u||md(f.h,u))){if(!u.K&&md(f.h,u)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<u.F)Va(f),Fa(f);else break e;Id(f),nt(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=ko(m(f.Za,f),6e3));if(1>=Jy(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else yr(f,11)}else if((u.K||f.g==u)&&Va(f),!F(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let fe=T[d];if(f.T=fe[0],fe=fe[1],f.G==2)if(fe[0]=="c"){f.K=fe[1],f.ia=fe[2];let Ke=fe[3];Ke!=null&&(f.la=Ke,f.j.info("VER="+f.la));let Qe=fe[4];Qe!=null&&(f.Aa=Qe,f.j.info("SVER="+f.Aa));let oi=fe[5];oi!=null&&typeof oi=="number"&&0<oi&&(g=1.5*oi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Pt=u.g;if(Pt){let Ua=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ua){var S=g.h;S.g||Ua.indexOf("spdy")==-1&&Ua.indexOf("quic")==-1&&Ua.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(yd(S,S.h),S.h=null))}if(g.D){let _d=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;_d&&(g.ya=_d,Ee(g.I,g.D,_d))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-u.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=u;if(g.qa=Tv(g,g.J?g.ia:null,g.W),O.K){Xy(g.h,O);var ve=O,Ue=g.L;Ue&&(ve.I=Ue),ve.B&&(pd(ve),xa(ve)),g.g=O}else wv(g);0<f.i.length&&La(f)}else fe[0]!="stop"&&fe[0]!="close"||yr(f,7);else f.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?yr(f,7):wd(f):fe[0]!="noop"&&f.l&&f.l.ta(fe),f.v=0)}}Po(4)}catch{}}var Wb=class{constructor(u,d){this.g=u,this.map=d}};function Yy(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zy(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Jy(u){return u.h?1:u.g?u.g.size:0}function md(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function yd(u,d){u.g?u.g.add(d):u.h=d}function Xy(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}Yy.prototype.cancel=function(){if(this.i=ev(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function ev(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(let f of u.g.values())d=d.concat(f.D);return d}return R(u.i)}function Kb(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var d=[],f=u.length,g=0;g<f;g++)d.push(u[g]);return d}d=[],f=0;for(g in u)d[f++]=u[g];return d}function Qb(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var d=[];u=u.length;for(var f=0;f<u;f++)d.push(f);return d}d=[],f=0;for(let g in u)d[f++]=g;return d}}}function tv(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var f=Qb(u),g=Kb(u),T=g.length,S=0;S<T;S++)d.call(void 0,g[S],f&&f[S],u)}var nv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yb(u,d){if(u){u=u.split("&");for(var f=0;f<u.length;f++){var g=u[f].indexOf("="),T=null;if(0<=g){var S=u[f].substring(0,g);T=u[f].substring(g+1)}else S=u[f];d(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function mr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof mr){this.h=u.h,Ma(this,u.j),this.o=u.o,this.g=u.g,Na(this,u.s),this.l=u.l;var d=u.i,f=new jo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),rv(this,f),this.m=u.m}else u&&(d=String(u).match(nv))?(this.h=!1,Ma(this,d[1]||"",!0),this.o=Lo(d[2]||""),this.g=Lo(d[3]||"",!0),Na(this,d[4]),this.l=Lo(d[5]||"",!0),rv(this,d[6]||"",!0),this.m=Lo(d[7]||"")):(this.h=!1,this.i=new jo(null,this.h))}mr.prototype.toString=function(){var u=[],d=this.j;d&&u.push(Vo(d,iv,!0),":");var f=this.g;return(f||d=="file")&&(u.push("//"),(d=this.o)&&u.push(Vo(d,iv,!0),"@"),u.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&u.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&u.push("/"),u.push(Vo(f,f.charAt(0)=="/"?Xb:Jb,!0))),(f=this.i.toString())&&u.push("?",f),(f=this.m)&&u.push("#",Vo(f,t0)),u.join("")};function sn(u){return new mr(u)}function Ma(u,d,f){u.j=f?Lo(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function Na(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function rv(u,d,f){d instanceof jo?(u.i=d,n0(u.i,u.h)):(f||(d=Vo(d,e0)),u.i=new jo(d,u.h))}function Ee(u,d,f){u.i.set(d,f)}function Pa(u){return Ee(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Lo(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vo(u,d,f){return typeof u=="string"?(u=encodeURI(u).replace(d,Zb),f&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Zb(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var iv=/[#\/\?@]/g,Jb=/[#\?:]/g,Xb=/[#\?]/g,e0=/[#\?@]/g,t0=/#/g;function jo(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function On(u){u.g||(u.g=new Map,u.h=0,u.i&&Yb(u.i,function(d,f){u.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=jo.prototype,t.add=function(u,d){On(this),this.i=null,u=ri(this,u);var f=this.g.get(u);return f||this.g.set(u,f=[]),f.push(d),this.h+=1,this};function ov(u,d){On(u),d=ri(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function sv(u,d){return On(u),d=ri(u,d),u.g.has(d)}t.forEach=function(u,d){On(this),this.g.forEach(function(f,g){f.forEach(function(T){u.call(d,T,g,this)},this)},this)},t.na=function(){On(this);let u=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=u[g];for(let S=0;S<T.length;S++)f.push(d[g])}return f},t.V=function(u){On(this);let d=[];if(typeof u=="string")sv(this,u)&&(d=d.concat(this.g.get(ri(this,u))));else{u=Array.from(this.g.values());for(let f=0;f<u.length;f++)d=d.concat(u[f])}return d},t.set=function(u,d){return On(this),this.i=null,u=ri(this,u),sv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},t.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function av(u,d,f){ov(u,d),0<f.length&&(u.i=null,u.g.set(ri(u,d),R(f)),u.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var T=S;O[g]!==""&&(T+="="+encodeURIComponent(String(O[g]))),u.push(T)}}return this.i=u.join("&")};function ri(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function n0(u,d){d&&!u.j&&(On(u),u.i=null,u.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(ov(this,g),av(this,T,f))},u)),u.j=d}function r0(u,d){let f=new Oo;if(a.Image){let g=new Image;g.onload=y(Fn,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Fn,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Fn,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Fn,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=u}else d(!1)}function i0(u,d){let f=new Oo,g=new AbortController,T=setTimeout(()=>{g.abort(),Fn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:g.signal}).then(S=>{clearTimeout(T),S.ok?Fn(f,"TestPingServer: ok",!0,d):Fn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Fn(f,"TestPingServer: error",!1,d)})}function Fn(u,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function o0(){this.g=new Bb}function s0(u,d,f){let g=f||"";try{tv(u,function(T,S){let O=T;l(T)&&(O=ad(T)),d.push(g+S+"="+encodeURIComponent(O))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function Uo(u){this.l=u.Ub||null,this.j=u.eb||!1}C(Uo,ud),Uo.prototype.g=function(){return new ka(this.l,this.j)},Uo.prototype.i=function(u){return function(){return u}}({});function ka(u,d){We.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ka,We),t=ka.prototype,t.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,$o(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$o(this)),this.g&&(this.readyState=3,$o(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function uv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?Bo(this):$o(this),this.readyState==3&&uv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Bo(this))},t.Qa=function(u){this.g&&(this.response=u,Bo(this))},t.ga=function(){this.g&&Bo(this)};function Bo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$o(u)}t.setRequestHeader=function(u,d){this.u.append(u,d)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,u.push(f[0]+": "+f[1]),f=d.next();return u.join(`\r
`)};function $o(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function cv(u){let d="";return K(u,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function vd(u,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=cv(f),typeof u=="string"?f!=null&&encodeURIComponent(String(f)):Ee(u,d,f))}function Ae(u){We.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ae,We);var a0=/^https?$/i,u0=["POST","PUT"];t=Ae.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dd.g(),this.v=this.o?Vy(this.o):Vy(dd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(S){lv(this,S);return}if(u=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),T=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(u0,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,O]of f)this.g.setRequestHeader(S,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fv(this),this.u=!0,this.g.send(u),this.u=!1}catch(S){lv(this,S)}};function lv(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,dv(u),Oa(u)}function dv(u){u.A||(u.A=!0,tt(u,"complete"),tt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,tt(this,"complete"),tt(this,"abort"),Oa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oa(this,!0)),Ae.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hv(this):this.bb())},t.bb=function(){hv(this)};function hv(u){if(u.h&&typeof s<"u"&&(!u.v[1]||an(u)!=4||u.Z()!=2)){if(u.u&&an(u)==4)ky(u.Ea,0,u);else if(tt(u,"readystatechange"),an(u)==4){u.h=!1;try{let O=u.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var T=String(u.D).match(nv)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!a0.test(T?T.toLowerCase():"")}f=g}if(f)tt(u,"complete"),tt(u,"success");else{u.m=6;try{var S=2<an(u)?u.g.statusText:""}catch{S=""}u.l=S+" ["+u.Z()+"]",dv(u)}}finally{Oa(u)}}}}function Oa(u,d){if(u.g){fv(u);let f=u.g,g=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||tt(u,"ready");try{f.onreadystatechange=g}catch{}}}function fv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function an(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),Ub(d)}};function pv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function c0(u){let d={};u=(u.g&&2<=an(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<u.length;g++){if(F(u[g]))continue;var f=D(u[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[T]||[];d[T]=S,S.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zo(u,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[u]||d}function gv(u){this.Aa=0,this.i=[],this.j=new Oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zo("baseRetryDelayMs",5e3,u),this.cb=zo("retryDelaySeedMs",1e4,u),this.Wa=zo("forwardChannelMaxRetries",2,u),this.wa=zo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Yy(u&&u.concurrentRequestLimit),this.Da=new o0,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gv.prototype,t.la=8,t.G=1,t.connect=function(u,d,f,g){nt(0),this.W=u,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Tv(this,null,this.W),La(this)};function wd(u){if(mv(u),u.G==3){var d=u.U++,f=sn(u.I);if(Ee(f,"SID",u.K),Ee(f,"RID",d),Ee(f,"TYPE","terminate"),qo(u,f),d=new kn(u,u.j,d),d.L=2,d.v=Pa(sn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Cv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),xa(d)}Dv(u)}function Fa(u){u.g&&(Ed(u),u.g.cancel(),u.g=null)}function mv(u){Fa(u),u.u&&(a.clearTimeout(u.u),u.u=null),Va(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function La(u){if(!Zy(u.h)&&!u.s){u.s=!0;var d=u.Ga;Ao||Sy(),So||(Ao(),So=!0),Jl.add(d,u),u.B=0}}function l0(u,d){return Jy(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ko(m(u.Ga,u,d),_v(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let T=new kn(this,this.j,u),S=this.o;if(this.S&&(S?(S=v(S),_(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=vv(this,T,d),f=sn(this.I),Ee(f,"RID",u),Ee(f,"CVER",22),this.D&&Ee(f,"X-HTTP-Session-Id",this.D),qo(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(cv(S)))+"&"+d:this.m&&vd(f,this.m,S)),yd(this.h,T),this.Ua&&Ee(f,"TYPE","init"),this.P?(Ee(f,"$req",d),Ee(f,"SID","null"),T.T=!0,fd(T,f,null)):fd(T,f,d),this.G=2}}else this.G==3&&(u?yv(this,u):this.i.length==0||Zy(this.h)||yv(this))};function yv(u,d){var f;d?f=d.l:f=u.U++;let g=sn(u.I);Ee(g,"SID",u.K),Ee(g,"RID",f),Ee(g,"AID",u.T),qo(u,g),u.m&&u.o&&vd(g,u.m,u.o),f=new kn(u,u.j,f,u.B+1),u.m===null&&(f.H=u.o),d&&(u.i=d.D.concat(u.i)),d=vv(u,f,1e3),f.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),yd(u.h,f),fd(f,g,d)}function qo(u,d){u.H&&K(u.H,function(f,g){Ee(d,g,f)}),u.l&&tv({},function(f,g){Ee(d,g,f)})}function vv(u,d,f){f=Math.min(u.i.length,f);var g=u.l?m(u.l.Na,u.l,u):null;e:{var T=u.i;let S=-1;for(;;){let O=["count="+f];S==-1?0<f?(S=T[0].g,O.push("ofs="+S)):S=0:O.push("ofs="+S);let ve=!0;for(let Ue=0;Ue<f;Ue++){let fe=T[Ue].g,Ke=T[Ue].map;if(fe-=S,0>fe)S=Math.max(0,T[Ue].g-100),ve=!1;else try{s0(Ke,O,"req"+fe+"_")}catch{g&&g(Ke)}}if(ve){g=O.join("&");break e}}}return u=u.i.splice(0,f),d.D=u,g}function wv(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;Ao||Sy(),So||(Ao(),So=!0),Jl.add(d,u),u.v=0}}function Id(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ko(m(u.Fa,u),_v(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Iv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ko(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Fa(this),Iv(this))};function Ed(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Iv(u){u.g=new kn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=sn(u.qa);Ee(d,"RID","rpc"),Ee(d,"SID",u.K),Ee(d,"AID",u.T),Ee(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ee(d,"TO",u.ja),Ee(d,"TYPE","xmlhttp"),qo(u,d),u.m&&u.o&&vd(d,u.m,u.o),u.L&&(u.g.I=u.L);var f=u.g;u=u.ia,f.L=1,f.v=Pa(sn(d)),f.m=null,f.P=!0,Wy(f,u)}t.Za=function(){this.C!=null&&(this.C=null,Fa(this),Id(this),nt(19))};function Va(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Ev(u,d){var f=null;if(u.g==d){Va(u),Ed(u),u.g=null;var g=2}else if(md(u.h,d))f=d.D,Xy(u.h,d),g=1;else return;if(u.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=u.B;g=Aa(),tt(g,new zy(g,f)),La(u)}else wv(u);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&l0(u,d)||g==2&&Id(u)))switch(f&&0<f.length&&(d=u.h,d.i=d.i.concat(f)),T){case 1:yr(u,5);break;case 4:yr(u,10);break;case 3:yr(u,6);break;default:yr(u,2)}}}function _v(u,d){let f=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(f*=2),f*d}function yr(u,d){if(u.j.info("Error code "+d),d==2){var f=m(u.fb,u),g=u.Xa;let T=!g;g=new mr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ma(g,"https"),Pa(g),T?r0(g.toString(),f):i0(g.toString(),f)}else nt(2);u.G=0,u.l&&u.l.sa(d),Dv(u),mv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Dv(u){if(u.G=0,u.ka=[],u.l){let d=ev(u.h);(d.length!=0||u.i.length!=0)&&(A(u.ka,d),A(u.ka,u.i),u.h.i.length=0,R(u.i),u.i.length=0),u.l.ra()}}function Tv(u,d,f){var g=f instanceof mr?sn(f):new mr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Na(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var S=new mr(null);g&&Ma(S,g),d&&(S.g=d),T&&Na(S,T),f&&(S.l=f),g=S}return f=u.D,d=u.ya,f&&d&&Ee(g,f,d),Ee(g,"VER",u.la),qo(u,g),g}function Cv(u,d,f){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Ae(new Uo({eb:f})):new Ae(u.pa),d.Ha(u.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bv(){}t=bv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ja(){}ja.prototype.g=function(u,d){return new mt(u,d)};function mt(u,d){We.call(this),this.g=new gv(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!F(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!F(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new ii(this)}C(mt,We),mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mt.prototype.close=function(){wd(this.g)},mt.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var f={};f.__data__=u,u=f}else this.u&&(f={},f.__data__=ad(u),u=f);d.i.push(new Wb(d.Ya++,u)),d.G==3&&La(d)},mt.prototype.N=function(){this.g.l=null,delete this.j,wd(this.g),delete this.g,mt.aa.N.call(this)};function Av(u){cd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(let f in d){u=f;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}C(Av,cd);function Sv(){ld.call(this),this.status=1}C(Sv,ld);function ii(u){this.g=u}C(ii,bv),ii.prototype.ua=function(){tt(this.g,"a")},ii.prototype.ta=function(u){tt(this.g,new Av(u))},ii.prototype.sa=function(u){tt(this.g,new Sv)},ii.prototype.ra=function(){tt(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,mt.prototype.send=mt.prototype.o,mt.prototype.open=mt.prototype.m,mt.prototype.close=mt.prototype.close,hg=An.createWebChannelTransport=function(){return new ja},dg=An.getStatEventTarget=function(){return Aa()},lg=An.Event=pr,sl=An.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,Js=An.ErrorCode=Sa,qy.COMPLETE="complete",cg=An.EventType=qy,jy.EventType=No,No.OPEN="a",No.CLOSE="b",No.ERROR="c",No.MESSAGE="d",We.prototype.listen=We.prototype.K,ro=An.WebChannel=jy,ug=An.FetchXmlHttpFactory=Uo,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,ag=An.XhrIo=Ae}).apply(typeof ol<"u"?ol:typeof self<"u"?self:typeof window<"u"?window:{});var hT="@firebase/firestore";var je=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");var Do="10.13.1";var Wr=new $a("@firebase/firestore");function Xs(){return Wr.logLevel}function q(t,...e){if(Wr.logLevel<=cn.DEBUG){let n=e.map(Xm);Wr.debug(`Firestore (${Do}): ${t}`,...n)}}function Rn(t,...e){if(Wr.logLevel<=cn.ERROR){let n=e.map(Xm);Wr.error(`Firestore (${Do}): ${t}`,...n)}}function lo(t,...e){if(Wr.logLevel<=cn.WARN){let n=e.map(Xm);Wr.warn(`Firestore (${Do}): ${t}`,...n)}}function Xm(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Y(t="Unexpected state"){let e=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: `+t;throw Rn(e),new Error(e)}function Ie(t,e){t||Y()}function X(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends Lv{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Sn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var dl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},yg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(je.UNAUTHENTICATED))}shutdown(){}},vg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},wg=class{constructor(e){this.t=e,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>k(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new dl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new je(e)}},Ig=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Eg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ig(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_g=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Dg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.R=n.token,new _g(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function aO(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var hl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=aO(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function pe(t,e){return t<e?-1:t>e?1:0}function ho(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var He=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new He(0,0))}static max(){return new t(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var fl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},be=class t extends fl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},uO=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Et=class t extends fl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return uO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new U(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new U(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new U(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var W=class t{constructor(e){this.path=e}static fromPath(e){return new t(be.fromString(e))}static fromName(e){return new t(be.fromString(e).popFirst(5))}static empty(){return new t(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new be(e.slice()))}};var Tg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Tg.UNKNOWN_ID=-1;function cO(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new Kr(i,W.empty(),e)}function lO(t){return new Kr(t.readTime,t.key,-1)}var Kr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),W.empty(),-1)}static max(){return new t(te.max(),W.empty(),-1)}};function dO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}var hO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function va(t){return k(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==hO)throw t;q("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function fO(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wa(t){return t.name==="IndexedDbTransactionError"}var WT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function $l(t){return t==null}function sa(t){return t===0&&1/t==-1/0}function pO(t){return typeof t=="number"&&Number.isInteger(t)&&!sa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var gO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],h9=[...gO,"documentOverlays"],mO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yO=mO,vO=[...yO,"indexConfiguration","indexState","indexEntries"];var f9=[...vO,"globals"];function fT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Re=class t{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ao(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ao(this.root,e,this.comparator,!1)}getReverseIterator(){return new ao(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ao(this.root,e,this.comparator,!0)}},ao=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},en=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,i,o){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xe=class t{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pl(this.data.getIterator())}getIteratorFrom(e){return new pl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},pl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Xt=class t{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new t([])}unionWith(e){let n=new Xe(Et.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var gl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gl("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};et.EMPTY_BYTE_STRING=new et("");var wO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xn(t){if(Ie(!!t),typeof t=="string"){let e=0,n=wO.exec(t);if(Ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cr(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}function ey(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ty(t){let e=t.mapValue.fields.__previous_value__;return ey(e)?ty(e):e}function aa(t){let e=xn(t.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}var bg=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},ml=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var al={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ey(t)?4:YT(t)?9007199254740991:QT(t)?10:11:Y()}function rn(t,e){if(t===e)return!0;let n=Qr(t);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return aa(t).isEqual(aa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=xn(i.timestampValue),a=xn(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return cr(i.bytesValue).isEqual(cr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ce(i.geoPointValue.latitude)===Ce(o.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ce(i.integerValue)===Ce(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ce(i.doubleValue),a=Ce(o.doubleValue);return s===a?sa(s)===sa(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ho(t.arrayValue.values||[],e.arrayValue.values||[],rn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(fT(s)!==fT(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!rn(s[c],a[c])))return!1;return!0}(t,e);default:return Y()}}function ua(t,e){return(t.values||[]).find(n=>rn(n,e))!==void 0}function fo(t,e){if(t===e)return 0;let n=Qr(t),r=Qr(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ce(o.integerValue||o.doubleValue),c=Ce(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return pT(t.timestampValue,e.timestampValue);case 4:return pT(aa(t),aa(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(o,s){let a=cr(o),c=cr(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=pe(a[l],c[l]);if(h!==0)return h}return pe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=pe(Ce(o.latitude),Ce(s.latitude));return a!==0?a:pe(Ce(o.longitude),Ce(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gT(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(c=m.value)===null||c===void 0?void 0:c.arrayValue,R=pe(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:gT(y,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===al.mapValue&&s===al.mapValue)return 0;if(o===al.mapValue)return 1;if(s===al.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let m=pe(c[p],h[p]);if(m!==0)return m;let y=fo(a[c[p]],l[h[p]]);if(y!==0)return y}return pe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Y()}}function pT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);let n=xn(t),r=xn(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function gT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=fo(n[i],r[i]);if(o)return o}return pe(n.length,r.length)}function po(t){return Ag(t)}function Ag(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=xn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Ag(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Ag(n.fields[s])}`;return i+"}"}(t.mapValue):Y()}function mT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sg(t){return!!t&&"integerValue"in t}function ny(t){return!!t&&"arrayValue"in t}function yT(t){return!!t&&"nullValue"in t}function vT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cl(t){return!!t&&"mapValue"in t}function QT(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ta(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return To(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ta(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ta(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ut=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ta(n)}setAll(e){let n=Et.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ta(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());cl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){To(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ta(this.value))}};function ZT(t){let e=[];return To(t.fields,(n,r)=>{let i=new Et([n]);if(cl(r)){let o=ZT(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Xt(e)}var Bt=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var go=class{constructor(e,n){this.position=e,this.inclusive=n}};function wT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),n.key):r=fo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function IT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rn(t.position[n],e.position[n]))return!1;return!0}var Yr=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function IO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var yl=class{},Fe=class t extends yl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xg(e,n,r):n==="array-contains"?new Pg(e,r):n==="in"?new kg(e,r):n==="not-in"?new Og(e,r):n==="array-contains-any"?new Fg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mg(e,r):new Ng(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fo(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},$t=class t extends yl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return JT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function JT(t){return t.op==="and"}function XT(t){return EO(t)&&JT(t)}function EO(t){for(let e of t.filters)if(e instanceof $t)return!1;return!0}function Rg(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+po(t.value);if(XT(t))return t.filters.map(e=>Rg(e)).join(",");{let e=t.filters.map(n=>Rg(n)).join(",");return`${t.op}(${e})`}}function eC(t,e){return t instanceof Fe?function(r,i){return i instanceof Fe&&r.op===i.op&&r.field.isEqual(i.field)&&rn(r.value,i.value)}(t,e):t instanceof $t?function(r,i){return i instanceof $t&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&eC(s,i.filters[a]),!0):!1}(t,e):void Y()}function tC(t){return t instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`}(t):t instanceof $t?function(n){return n.op.toString()+" {"+n.getFilters().map(tC).join(" ,")+"}"}(t):"Filter"}var xg=class extends Fe{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){let n=W.comparator(e.key,this.key);return this.matchesComparison(n)}},Mg=class extends Fe{constructor(e,n){super(e,"in",n),this.keys=nC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ng=class extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=nC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function nC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}var Pg=class extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ny(n)&&ua(n.arrayValue,this.value)}},kg=class extends Fe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ua(this.value.arrayValue,n)}},Og=class extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ua(this.value.arrayValue,n)}},Fg=class extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ua(this.value.arrayValue,r))}};var Lg=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function ET(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Lg(t,e,n,r,i,o,s)}function ry(t){let e=X(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),$l(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>po(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>po(r)).join(",")),e.ue=n}return e.ue}function iy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!IT(t.startAt,e.startAt)&&IT(t.endAt,e.endAt)}function Vg(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var lr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function _O(t,e,n,r,i,o,s,a){return new lr(t,e,n,r,i,o,s,a)}function oy(t){return new lr(t)}function _T(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rC(t){return t.collectionGroup!==null}function na(t){let e=X(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Xe(Et.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Yr(o,r))}),n.has(Et.keyField().canonicalString())||e.ce.push(new Yr(Et.keyField(),r))}return e.ce}function tn(t){let e=X(t);return e.le||(e.le=DO(e,na(t))),e.le}function DO(t,e){if(t.limitType==="F")return ET(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Yr(i.field,o)});let n=t.endAt?new go(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new go(t.startAt.position,t.startAt.inclusive):null;return ET(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jg(t,e){let n=t.filters.concat([e]);return new lr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ug(t,e,n){return new lr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zl(t,e){return iy(tn(t),tn(e))&&t.limitType===e.limitType}function iC(t){return`${ry(tn(t))}|lt:${t.limitType}`}function io(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>tC(i)).join(", ")}]`),$l(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>po(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>po(i)).join(",")),`Target(${r})`}(tn(t))}; limitType=${t.limitType})`}function ql(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of na(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=wT(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,na(r),i)||r.endAt&&!function(s,a,c){let l=wT(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,na(r),i))}(t,e)}function TO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oC(t){return(e,n)=>{let r=!1;for(let i of na(t)){let o=CO(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function CO(t,e,n){let r=t.field.isKeyField()?W.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?fo(c,l):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}var dr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return KT(this.inner)}size(){return this.innerSize}};var bO=new Re(W.comparator);function Mn(){return bO}var sC=new Re(W.comparator);function ea(...t){let e=sC;for(let n of t)e=e.insert(n.key,n);return e}function aC(t){let e=sC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zr(){return ra()}function uC(){return ra()}function ra(){return new dr(t=>t.toString(),(t,e)=>t.isEqual(e))}var AO=new Re(W.comparator),SO=new Xe(W.comparator);function ue(...t){let e=SO;for(let n of t)e=e.add(n);return e}var RO=new Xe(pe);function xO(){return RO}function sy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sa(e)?"-0":e}}function cC(t){return{integerValue:""+t}}function MO(t,e){return pO(e)?cC(e):sy(t,e)}var mo=class{constructor(){this._=void 0}};function NO(t,e,n){return t instanceof yo?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ey(o)&&(o=ty(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Zr?dC(t,e):t instanceof Jr?hC(t,e):function(i,o){let s=lC(i,o),a=DT(s)+DT(i.Pe);return Sg(s)&&Sg(i.Pe)?cC(a):sy(i.serializer,a)}(t,e)}function PO(t,e,n){return t instanceof Zr?dC(t,e):t instanceof Jr?hC(t,e):n}function lC(t,e){return t instanceof vo?function(r){return Sg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var yo=class extends mo{},Zr=class extends mo{constructor(e){super(),this.elements=e}};function dC(t,e){let n=fC(e);for(let r of t.elements)n.some(i=>rn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Jr=class extends mo{constructor(e){super(),this.elements=e}};function hC(t,e){let n=fC(e);for(let r of t.elements)n=n.filter(i=>!rn(i,r));return{arrayValue:{values:n}}}var vo=class extends mo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function DT(t){return Ce(t.integerValue||t.doubleValue)}function fC(t){return ny(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zr&&i instanceof Zr||r instanceof Jr&&i instanceof Jr?ho(r.elements,i.elements,rn):r instanceof vo&&i instanceof vo?rn(r.Pe,i.Pe):r instanceof yo&&i instanceof yo}(t.transform,e.transform)}var Bg=class{constructor(e,n){this.version=e,this.transformResults=n}},Gr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ll(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var wo=class{};function pC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vl(t.key,Gr.none()):new Xr(t.key,t.data,Gr.none());{let n=t.data,r=Ut.empty(),i=new Xe(Et.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Nn(t.key,r,new Xt(i.toArray()),Gr.none())}}function OO(t,e,n){t instanceof Xr?function(i,o,s){let a=i.value.clone(),c=CT(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Nn?function(i,o,s){if(!ll(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=CT(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(gC(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ia(t,e,n,r){return t instanceof Xr?function(o,s,a,c){if(!ll(o.precondition,s))return a;let l=o.value.clone(),h=bT(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Nn?function(o,s,a,c){if(!ll(o.precondition,s))return a;let l=bT(o.fieldTransforms,c,s),h=s.data;return h.setAll(gC(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return ll(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function FO(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=lC(r.transform,i||null);o!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,o))}return n||null}function TT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ho(r,i,(o,s)=>kO(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Xr=class extends wo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Nn=class extends wo{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function gC(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function CT(t,e,n){let r=new Map;Ie(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,PO(s,a,n[i]))}return r}function bT(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,NO(o,s,e))}return r}var vl=class extends wo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},$g=class extends wo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var zg=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&OO(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ia(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ia(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=uC();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=pC(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(n,r)=>TT(n,r))&&ho(this.baseMutations,e.baseMutations,(n,r)=>TT(n,r))}},qg=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length);let i=function(){return AO}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Hg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Gg=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ke,de;function LO(t){switch(t){default:return Y();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function mC(t){if(t===void 0)return Rn("GRPC error has no .code"),x.UNKNOWN;switch(t){case ke.OK:return x.OK;case ke.CANCELLED:return x.CANCELLED;case ke.UNKNOWN:return x.UNKNOWN;case ke.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case ke.INTERNAL:return x.INTERNAL;case ke.UNAVAILABLE:return x.UNAVAILABLE;case ke.UNAUTHENTICATED:return x.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case ke.NOT_FOUND:return x.NOT_FOUND;case ke.ALREADY_EXISTS:return x.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return x.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case ke.ABORTED:return x.ABORTED;case ke.OUT_OF_RANGE:return x.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return x.UNIMPLEMENTED;case ke.DATA_LOSS:return x.DATA_LOSS;default:return Y()}}(de=ke||(ke={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var AT=null;function VO(){return new TextEncoder}var jO=new ar([4294967295,4294967295],0);function ST(t){let e=VO().encode(t),n=new sg;return n.update(e),new Uint8Array(n.digest())}function RT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ar([n,r],0),new ar([i,o],0)]}var Wg=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qr(`Invalid padding: ${n}`);if(r<0)throw new qr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qr(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ar.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ar.fromNumber(r)));return i.compare(jO)===1&&(i=new ar([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=ST(e),[r,i]=RT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=ST(e),[r,i]=RT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},qr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var wl=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ca.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new Re(pe),Mn(),ue())}},ca=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var uo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Il=class{constructor(e,n){this.targetId=e,this.me=n}},El=class{constructor(e,n,r=et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},_l=class{constructor(){this.fe=0,this.ge=MT(),this.pe=et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new ca(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=MT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ie(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Kg=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mn(),this.qe=xT(),this.Qe=new Re(pe)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(Vg(o))if(r===0){let s=new W(o.path);this.Ue(n,s,Bt.newNoDocument(s,te.min()))}else Ie(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}AT?.et(function(h,p,m,y,C){var R,A,M,F,L,$;let he={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},K=p.unchangedNames;return K&&(he.bloomFilter={applied:C===0,hashCount:(R=K?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(F=(M=(A=K?.bits)===null||A===void 0?void 0:A.bitmap)===null||M===void 0?void 0:M.length)!==null&&F!==void 0?F:0,padding:($=(L=K?.bits)===null||L===void 0?void 0:L.padding)!==null&&$!==void 0?$:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),he}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=cr(r).toUint8Array()}catch(c){if(c instanceof gl)return lo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Wg(s,i,o)}catch(c){return lo(c instanceof qr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Vg(a.target)){let c=new W(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Bt.newNoDocument(c,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ue();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new wl(e,n,this.Qe,this.ke,r);return this.ke=Mn(),this.qe=xT(),this.Qe=new Re(pe),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new _l,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xe(pe),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _l),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function xT(){return new Re(W.comparator)}function MT(){return new Re(W.comparator)}var UO={asc:"ASCENDING",desc:"DESCENDING"},BO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$O={and:"AND",or:"OR"},Qg=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Yg(t,e){return t.useProto3Json||$l(e)?e:{value:e}}function Dl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zO(t,e){return Dl(t,e.toTimestamp())}function nn(t){return Ie(!!t),te.fromTimestamp(function(n){let r=xn(n);return new He(r.seconds,r.nanos)}(t))}function ay(t,e){return Zg(t,e).canonicalString()}function Zg(t,e){let n=function(i){return new be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vC(t){let e=be.fromString(t);return Ie(DC(e)),e}function Jg(t,e){return ay(t.databaseId,e.path)}function fg(t,e){let n=vC(e);if(n.get(1)!==t.databaseId.projectId)throw new U(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(IC(n))}function wC(t,e){return ay(t.databaseId,e)}function qO(t){let e=vC(t);return e.length===4?be.emptyPath():IC(e)}function Xg(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IC(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function NT(t,e,n){return{name:Jg(t,e),fields:n.value.mapValue.fields}}function HO(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ie(h===void 0||typeof h=="string"),et.fromBase64String(h||"")):(Ie(h===void 0||h instanceof Buffer||h instanceof Uint8Array),et.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?x.UNKNOWN:mC(l.code);return new U(h,l.message||"")}(s);n=new El(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=fg(t,r.document.name),o=nn(r.document.updateTime),s=r.document.createTime?nn(r.document.createTime):te.min(),a=new Ut({mapValue:{fields:r.document.fields}}),c=Bt.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new uo(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=fg(t,r.document),o=r.readTime?nn(r.readTime):te.min(),s=Bt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new uo([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=fg(t,r.document),o=r.removedTargetIds||[];n=new uo([],o,i,null)}else{if(!("filter"in e))return Y();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Gg(i,o),a=r.targetId;n=new Il(a,s)}}return n}function GO(t,e){let n;if(e instanceof Xr)n={update:NT(t,e.key,e.value)};else if(e instanceof vl)n={delete:Jg(t,e.key)};else if(e instanceof Nn)n={update:NT(t,e.key,e.data),updateMask:tF(e.fieldMask)};else{if(!(e instanceof $g))return Y();n={verify:Jg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof yo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vo)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:zO(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y()}(t,e.precondition)),n}function WO(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?nn(i.updateTime):nn(o);return s.isEqual(te.min())&&(s=nn(o)),new Bg(s,i.transformResults||[])}(n,e))):[]}function KO(t,e){return{documents:[wC(t,e.path)]}}function QO(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wC(t,i);let o=function(l){if(l.length!==0)return _C($t.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:oo(m.field),direction:JO(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Yg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function YO(t){let e=qO(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ie(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=EC(p);return m instanceof $t&&XT(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(C){return new Yr(so(C.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,$l(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){let m=!!p.before,y=p.values||[];return new go(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new go(y,m)}(n.endAt)),_O(e,i,s,o,a,"F",c,l)}function ZO(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=so(n.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=so(n.unaryFilter.field);return Fe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=so(n.unaryFilter.field);return Fe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=so(n.unaryFilter.field);return Fe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return Fe.create(so(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $t.create(n.compositeFilter.filters.map(r=>EC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function JO(t){return UO[t]}function XO(t){return BO[t]}function eF(t){return $O[t]}function oo(t){return{fieldPath:t.canonicalString()}}function so(t){return Et.fromServerFormat(t.fieldPath)}function _C(t){return t instanceof Fe?function(n){if(n.op==="=="){if(vT(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(yT(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vT(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(yT(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:XO(n.op),value:n.value}}}(t):t instanceof $t?function(n){let r=n.getFilters().map(i=>_C(i));return r.length===1?r[0]:{compositeFilter:{op:eF(n.op),filters:r}}}(t):Y()}function tF(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var la=class t{constructor(e,n,r,i,o=te.min(),s=te.min(),a=et.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var em=class{constructor(e){this.ct=e}};function nF(t){let e=YO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ug(e,e.limit,"L"):e}var Tl=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),sa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=xn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(cr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?YT(e)?this.dt(n,Number.MAX_SAFE_INTEGER):QT(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Y()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ce(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),W.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Tl.vt=new Tl;var tm=class{constructor(){this.un=new nm}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Kr.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},nm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(be.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(be.comparator)).toArray()}};var g9=new Uint8Array(0);var Jt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(41943040,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);var da=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var rm=class{constructor(){this.changes=new dr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var im=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var om=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ia(r.mutation,i,Xt.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ea();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Mn(),s=ra(),a=function(){return ra()}();return n.forEach((c,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Nn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ia(h.mutation,l,h.mutation.getFieldMask(),He.now())):s.set(l.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new im(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ra(),i=new Re((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let h=r.get(c)||Xt.empty();h=a.applyToLocalView(l,h),r.set(c,h);let p=(i.get(a.batchId)||ue()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,p=uC();h.forEach(m=>{if(!o.has(m)){let y=pC(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(zr()),a=-1,c=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,ue())).next(h=>({batchId:a,changes:aC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=ea();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ea();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,c=>{let l=function(p,m){return new lr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Bt.newInvalidDocument(h)))});let a=ea();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&ia(h.mutation,l,Xt.empty(),He.now()),ql(n,l)&&(a=a.insert(c,l))}),a})}};var sm=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:nn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:nF(i.bundledQuery),readTime:nn(i.readTime)}}(n)),P.resolve()}};var am=class{constructor(){this.overlays=new Re(W.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=zr();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=zr(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Re((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=zr(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=zr(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Hg(n,r));let o=this.Ir.get(n);o===void 0&&(o=ue(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var um=class{constructor(){this.sessionToken=et.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var ha=class{constructor(){this.Tr=new Xe(Oe.Er),this.dr=new Xe(Oe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Oe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Oe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new W(new be([])),r=new Oe(n,e),i=new Oe(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new W(new be([])),r=new Oe(n,e),i=new Oe(n,e+1),o=ue();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Oe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Oe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return W.comparator(e.key,n.key)||pe(e.wr,n.wr)}static Ar(e,n){return pe(e.wr,n.wr)||W.comparator(e.key,n.key)}};var cm=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xe(Oe.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new zg(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Oe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(pe);return n.forEach(i=>{let o=new Oe(i,0),s=new Oe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new Oe(new W(o),0),a=new Xe(pe);return this.br.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.wr)),!0)},s),P.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,i=>{let o=new Oe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Oe(n,0),i=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var lm=class{constructor(e){this.Mr=e,this.docs=function(){return new Re(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=Mn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Mn(),s=n.path,a=new W(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||dO(lO(h),r)<=0||(i.has(h.key)||ql(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Y()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dm(this)}getSize(e){return P.resolve(this.size)}},dm=class extends rm{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var hm=class{constructor(e){this.persistence=e,this.Nr=new dr(n=>ry(n),iy),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ha,this.targetCount=0,this.kr=da.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new da(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var fm=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new WT(0),this.Kr=!1,this.Kr=!0,this.$r=new um,this.referenceDelegate=e(this),this.Ur=new hm(this),this.indexManager=new tm,this.remoteDocumentCache=function(i){return new lm(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new em(n),this.Gr=new sm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new am,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new cm(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);let i=new pm(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},pm=class extends Cg{constructor(e){super(),this.currentSequenceNumber=e}},gm=class t{constructor(e){this.persistence=e,this.Jr=new ha,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Y()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=W.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var mm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ue(),i=ue();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var ym=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var vm=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Fv()?8:fO(Ov())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new ym;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Xs()<=cn.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(Xs()<=cn.DEBUG&&q("QueryEngine","Query:",io(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Xs()<=cn.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tn(n))):P.resolve())}Yi(e,n){if(_T(n))return P.resolve(null);let r=tn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ug(n,null,"F"),r=tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.ts(n,a);return this.ns(n,l,s,c.readTime)?this.Yi(e,Ug(n,null,"F")):this.rs(e,l,n,c)}))})))}Zi(e,n,r,i){return _T(n)||i.isEqual(te.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?P.resolve(null):(Xs()<=cn.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),io(n)),this.rs(e,s,n,cO(i,-1)).next(a=>a))})}ts(e,n){let r=new Xe(oC(e));return n.forEach((i,o)=>{ql(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Xs()<=cn.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",io(n)),this.Ji.getDocumentsMatchingQuery(e,n,Kr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var wm=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Re(pe),this._s=new dr(o=>ry(o),iy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new om(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function rF(t,e,n,r){return new wm(t,e,n,r)}function TC(t,e){return k(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=ue();for(let l of i){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function iF(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(c,C)).next(R=>{let A=l.docVersions.get(C);Ie(A!==null),R.version.compareTo(A)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CC(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function oF(t,e){let n=X(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(et.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(R,A,M){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let c=Mn(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(sF(o,s,e.documentUpdates).next(h=>{c=h.Ps,l=h.Is})),!r.isEqual(te.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.os=i,o))}function sF(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Mn();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(te.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function aF(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uF(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new la(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Im(t,e,n){return k(this,null,function*(){let r=X(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!wa(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function PT(t,e,n){let r=X(t),i=te.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){let p=X(c),m=p._s.get(h);return m!==void 0?P.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,tn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:ue())).next(a=>(cF(r,TO(e),a),{documents:a,Ts:o})))}function cF(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Cl=class{constructor(){this.activeTargetIds=xO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Em=class{constructor(){this.so=new Cl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Cl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var _m=class{_o(e){}shutdown(){}};var bl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ul=null;function pg(){return ul===null?ul=function(){return 268435456+Math.round(2147483648*Math.random())}():ul++,"0x"+ul.toString(16)}var lF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Dm=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Je="WebChannelConnection",Tm=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=pg(),c=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,c,l,i).then(h=>(q("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw lo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=lF[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=pg();return new Promise((s,a)=>{let c=new ag;c.setWithCredentials(!0),c.listenOnce(cg.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Js.NO_ERROR:let h=c.getResponseJson();q(Je,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Js.TIMEOUT:q(Je,`RPC '${e}' ${o} timed out`),a(new U(x.DEADLINE_EXCEEDED,"Request time out"));break;case Js.HTTP_ERROR:let p=c.getStatus();if(q(Je,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let C=function(A){let M=A.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(M)>=0?M:x.UNKNOWN}(y.status);a(new U(C,y.message))}else a(new U(x.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new U(x.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{q(Je,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);q(Je,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=pg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=hg(),a=dg(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new ug({})),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let h=o.join("");q(Je,`Creating RPC '${e}' stream ${i}: ${h}`,c);let p=s.createWebChannel(h,c),m=!1,y=!1,C=new Dm({Io:A=>{y?q(Je,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(q(Je,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),q(Je,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},To:()=>p.close()}),R=(A,M,F)=>{A.listen(M,L=>{try{F(L)}catch($){setTimeout(()=>{throw $},0)}})};return R(p,ro.EventType.OPEN,()=>{y||(q(Je,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),R(p,ro.EventType.CLOSE,()=>{y||(y=!0,q(Je,`RPC '${e}' stream ${i} transport closed`),C.So())}),R(p,ro.EventType.ERROR,A=>{y||(y=!0,lo(Je,`RPC '${e}' stream ${i} transport errored:`,A),C.So(new U(x.UNAVAILABLE,"The operation could not be completed")))}),R(p,ro.EventType.MESSAGE,A=>{var M;if(!y){let F=A.data[0];Ie(!!F);let L=F,$=L.error||((M=L[0])===null||M===void 0?void 0:M.error);if($){q(Je,`RPC '${e}' stream ${i} received error:`,$);let he=$.status,K=function(I){let _=ke[I];if(_!==void 0)return mC(_)}(he),E=$.message;K===void 0&&(K=x.INTERNAL,E="Unknown error status: "+he+" with message "+$.message),y=!0,C.So(new U(K,E)),p.close()}else q(Je,`RPC '${e}' stream ${i} received:`,F),C.bo(F)}}),R(a,lg.STAT_EVENT,A=>{A.stat===sl.PROXY?q(Je,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===sl.NOPROXY&&q(Je,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function gg(){return typeof document<"u"?document:null}function Hl(t){return new Qg(t,!0)}var Al=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Sl=class{constructor(e,n,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Al(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return k(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return k(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return k(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Rn(n.toString()),Rn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new U(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>k(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Cm=class extends Sl{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=HO(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?nn(s.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Xg(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=Vg(c)?{documents:KO(o,c)}:{query:QO(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=yC(o,s.resumeToken);let l=Yg(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=Dl(o,s.snapshotVersion.toTimestamp());let l=Yg(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=ZO(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Xg(this.serializer),n.removeTarget=e,this.a_(n)}},bm=class extends Sl{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=WO(e.writeResults,e.commitTime),r=nn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Xg(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>GO(this.serializer,r))};this.a_(n)}};var Am=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Zg(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(x.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Zg(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(x.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Sm=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Rn(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Rm=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>k(this,null,function*(){ti(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(c){return k(this,null,function*(){let l=X(c);l.L_.add(4),yield Ia(l),l.q_.set("Unknown"),l.L_.delete(4),yield Gl(l)})}(this))}))}),this.q_=new Sm(r,i)}};function Gl(t){return k(this,null,function*(){if(ti(t))for(let e of t.B_)yield e(!0)})}function Ia(t){return k(this,null,function*(){for(let e of t.B_)yield e(!1)})}function bC(t,e){let n=X(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),dy(n)?ly(n):Co(n).r_()&&cy(n,e))}function uy(t,e){let n=X(t),r=Co(n);n.N_.delete(e),r.r_()&&AC(n,e),n.N_.size===0&&(r.r_()?r.o_():ti(n)&&n.q_.set("Unknown"))}function cy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(t).A_(e)}function AC(t,e){t.Q_.xe(e),Co(t).R_(e)}function ly(t){t.Q_=new Kg({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Co(t).start(),t.q_.v_()}function dy(t){return ti(t)&&!Co(t).n_()&&t.N_.size>0}function ti(t){return X(t).L_.size===0}function SC(t){t.Q_=void 0}function dF(t){return k(this,null,function*(){t.q_.set("Online")})}function hF(t){return k(this,null,function*(){t.N_.forEach((e,n)=>{cy(t,e)})})}function fF(t,e){return k(this,null,function*(){SC(t),dy(t)?(t.q_.M_(e),ly(t)):t.q_.set("Unknown")})}function pF(t,e,n){return k(this,null,function*(){if(t.q_.set("Online"),e instanceof El&&e.state===2&&e.cause)try{yield function(i,o){return k(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Rl(t,r)}else if(e instanceof uo?t.Q_.Ke(e):e instanceof Il?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{let r=yield CC(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.N_.get(c);if(!h)return;o.N_.set(c,h.withResumeToken(et.EMPTY_BYTE_STRING,h.snapshotVersion)),AC(o,c);let p=new la(h.target,c,l,h.sequenceNumber);cy(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){q("RemoteStore","Failed to raise snapshot:",r),yield Rl(t,r)}})}function Rl(t,e,n){return k(this,null,function*(){if(!wa(e))throw e;t.L_.add(1),yield Ia(t),t.q_.set("Offline"),n||(n=()=>CC(t.localStore)),t.asyncQueue.enqueueRetryable(()=>k(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Gl(t)}))})}function RC(t,e){return e().catch(n=>Rl(t,n,e))}function Wl(t){return k(this,null,function*(){let e=X(t),n=hr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;gF(e);)try{let i=yield aF(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,mF(e,i)}catch(i){yield Rl(e,i)}xC(e)&&MC(e)})}function gF(t){return ti(t)&&t.O_.length<10}function mF(t,e){t.O_.push(e);let n=hr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function xC(t){return ti(t)&&!hr(t).n_()&&t.O_.length>0}function MC(t){hr(t).start()}function yF(t){return k(this,null,function*(){hr(t).p_()})}function vF(t){return k(this,null,function*(){let e=hr(t);for(let n of t.O_)e.m_(n.mutations)})}function wF(t,e,n){return k(this,null,function*(){let r=t.O_.shift(),i=qg.from(r,e,n);yield RC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Wl(t)})}function IF(t,e){return k(this,null,function*(){e&&hr(t).V_&&(yield function(r,i){return k(this,null,function*(){if(function(s){return LO(s)&&s!==x.ABORTED}(i.code)){let o=r.O_.shift();hr(r).s_(),yield RC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Wl(r)}})}(t,e)),xC(t)&&MC(t)})}function kT(t,e){return k(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=ti(n);n.L_.add(3),yield Ia(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Gl(n)})}function EF(t,e){return k(this,null,function*(){let n=X(t);e?(n.L_.delete(2),yield Gl(n)):e||(n.L_.add(2),yield Ia(n),n.q_.set("Unknown"))})}function Co(t){return t.K_||(t.K_=function(n,r,i){let o=X(n);return o.w_(),new Cm(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:dF.bind(null,t),Ro:hF.bind(null,t),mo:fF.bind(null,t),d_:pF.bind(null,t)}),t.B_.push(e=>k(this,null,function*(){e?(t.K_.s_(),dy(t)?ly(t):t.q_.set("Unknown")):(yield t.K_.stop(),SC(t))}))),t.K_}function hr(t){return t.U_||(t.U_=function(n,r,i){let o=X(n);return o.w_(),new bm(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:yF.bind(null,t),mo:IF.bind(null,t),f_:vF.bind(null,t),g_:wF.bind(null,t)}),t.B_.push(e=>k(this,null,function*(){e?(t.U_.s_(),yield Wl(t)):(yield t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var xm=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function hy(t,e){if(Rn("AsyncQueue",`${e}: ${t}`),wa(t))return new U(x.UNAVAILABLE,`${e}: ${t}`);throw t}var xl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=ea(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Ml=class{constructor(){this.W_=new Re(W.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Y():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Io=class t{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,xl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Mm=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Nm=class{constructor(){this.queries=OT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=X(n),o=i.queries;i.queries=OT(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(r)})})(this,new U(x.ABORTED,"Firestore shutting down"))}};function OT(){return new dr(t=>iC(t),zl)}function _F(t,e){return k(this,null,function*(){let n=X(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Mm,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=hy(s,`Initialization of query '${io(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&fy(n)})}function DF(t,e){return k(this,null,function*(){let n=X(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function TF(t,e){let n=X(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&fy(n)}function CF(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function fy(t){t.Y_.forEach(e=>{e.next()})}var Pm,FT;(FT=Pm||(Pm={})).ea="default",FT.Cache="cache";var km=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Pm.Cache}};var Nl=class{constructor(e){this.key=e}},Pl=class{constructor(e){this.key=e}},Om=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=oC(e),this.Ra=new xl(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Ml,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=ql(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;m&&y?m.data.isEqual(y.data)?C!==R&&(r.track({type:3,doc:y}),A=!0):this.ga(m,y)||(r.track({type:2,doc:y}),A=!0,(c&&this.Aa(y,c)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),A=!0):m&&!y&&(r.track({type:1,doc:m}),A=!0,(c||l)&&(a=!0)),A&&(y?(s=s.add(y),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,C){let R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return R(y)-R(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,l=c!==this.Ea;return this.Ea=c,s.length!==0||l?{snapshot:new Io(this.query,e.Ra,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ml,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Pl(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Nl(r))}),n}ba(e){this.Ta=e.Ts,this.da=ue();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Io.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Fm=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Lm=class{constructor(e){this.key=e,this.va=!1}},Vm=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new dr(a=>iC(a),zl),this.Ma=new Map,this.xa=new Set,this.Oa=new Re(W.comparator),this.Na=new Map,this.La=new ha,this.Ba={},this.ka=new Map,this.qa=da.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function bF(t,e,n=!0){return k(this,null,function*(){let r=LC(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield NC(r,e,n,!0),i})}function AF(t,e){return k(this,null,function*(){let n=LC(t);yield NC(n,e,!0,!1)})}function NC(t,e,n,r){return k(this,null,function*(){let i=yield uF(t.localStore,tn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield SF(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&bC(t.remoteStore,i),a})}function SF(t,e,n,r,i){return k(this,null,function*(){t.Ka=(p,m,y)=>function(R,A,M,F){return k(this,null,function*(){let L=A.view.ma(M);L.ns&&(L=yield PT(R.localStore,A.query,!1).then(({documents:E})=>A.view.ma(E,L)));let $=F&&F.targetChanges.get(A.targetId),he=F&&F.targetMismatches.get(A.targetId)!=null,K=A.view.applyChanges(L,R.isPrimaryClient,$,he);return VT(R,A.targetId,K.wa),K.snapshot})}(t,p,m,y);let o=yield PT(t.localStore,e,!0),s=new Om(e,o.Ts),a=s.ma(o.documents),c=ca.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,c);VT(t,n,l.wa);let h=new Fm(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function RF(t,e,n){return k(this,null,function*(){let r=X(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!zl(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Im(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uy(r.remoteStore,i.targetId),jm(r,i.targetId)}).catch(va))):(jm(r,i.targetId),yield Im(r.localStore,i.targetId,!0))})}function xF(t,e){return k(this,null,function*(){let n=X(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uy(n.remoteStore,r.targetId))})}function MF(t,e,n){return k(this,null,function*(){let r=VF(t);try{let i=yield function(s,a){let c=X(s),l=He.now(),h=a.reduce((y,C)=>y.add(C.key),ue()),p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Mn(),R=ue();return c.cs.getEntries(y,h).next(A=>{C=A,C.forEach((M,F)=>{F.isValidDocument()||(R=R.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,C)).next(A=>{p=A;let M=[];for(let F of a){let L=FO(F,p.get(F.key).overlayedDocument);L!=null&&M.push(new Nn(F.key,L,ZT(L.value.mapValue),Gr.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,M,a)}).next(A=>{m=A;let M=A.applyToLocalDocumentSet(p,R);return c.documentOverlayCache.saveOverlays(y,A.batchId,M)})}).then(()=>({batchId:m.batchId,changes:aC(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Ba[s.currentUser.toKey()];l||(l=new Re(pe)),l=l.insert(a,c),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Ea(r,i.changes),yield Wl(r.remoteStore)}catch(i){let o=hy(i,"Failed to persist write");n.reject(o)}})}function PC(t,e){return k(this,null,function*(){let n=X(t);try{let r=yield oF(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ie(s.va):i.removedDocuments.size>0&&(Ie(s.va),s.va=!1))}),yield Ea(n,r,e)}catch(r){yield va(r)}})}function LT(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=X(s);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&fy(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function NF(t,e,n){return k(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Re(W.comparator);s=s.insert(o,Bt.newNoDocument(o,te.min()));let a=ue().add(o),c=new wl(te.min(),new Map,new Re(pe),s,a);yield PC(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),py(r)}else yield Im(r.localStore,e,!1).then(()=>jm(r,e,n)).catch(va)})}function PF(t,e){return k(this,null,function*(){let n=X(t),r=e.batch.batchId;try{let i=yield iF(n.localStore,e);OC(n,r,null),kC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ea(n,i)}catch(i){yield va(i)}})}function kF(t,e,n){return k(this,null,function*(){let r=X(t);try{let i=yield function(s,a){let c=X(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ie(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);OC(r,e,n),kC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ea(r,i)}catch(i){yield va(i)}})}function kC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function OC(t,e,n){let r=X(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function jm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||FC(t,r)})}function FC(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(uy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),py(t))}function VT(t,e,n){for(let r of n)r instanceof Nl?(t.La.addReference(r.key,e),OF(t,r)):r instanceof Pl?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||FC(t,r.key)):Y()}function OF(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),py(t))}function py(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new W(be.fromString(e)),r=t.qa.next();t.Na.set(r,new Lm(n)),t.Oa=t.Oa.insert(n,r),bC(t.remoteStore,new la(tn(oy(n.path)),r,"TargetPurposeLimboResolution",WT.oe))}}function Ea(t,e,n){return k(this,null,function*(){let r=X(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(l){i.push(l);let p=mm.Wi(c.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(c,l){return k(this,null,function*(){let h=X(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!wa(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),C=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(m,R)}}})}(r.localStore,o))})}function FF(t,e){return k(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield TC(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new U(x.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ea(n,r.hs)}})}function LF(t,e){let n=X(t),r=n.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function LC(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NF.bind(null,e),e.Ca.d_=TF.bind(null,e.eventManager),e.Ca.$a=CF.bind(null,e.eventManager),e}function VF(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kF.bind(null,e),e}var kl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return k(this,null,function*(){this.serializer=Hl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return rF(this.persistence,new vm,e.initialUser,this.serializer)}createPersistence(e){return new fm(gm.Zr,this.serializer)}createSharedClientState(e){return new Em}terminate(){return k(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Um=class{initialize(e,n){return k(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FF.bind(null,this.syncEngine),yield EF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Nm}()}createDatastore(e){let n=Hl(e.databaseInfo.databaseId),r=function(o){return new Tm(o)}(e.databaseInfo);return function(o,s,a,c){return new Am(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Rm(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>LT(this.syncEngine,n,0),function(){return bl.D()?new bl:new _m}())}createSyncEngine(e,n){return function(i,o,s,a,c,l,h){let p=new Vm(i,o,s,a,c,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return k(this,null,function*(){var e,n;yield function(i){return k(this,null,function*(){let o=X(i);q("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Ia(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Bm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Rn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var $m=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=je.UNAUTHENTICATED,this.clientId=hl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>k(this,null,function*(){q("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>k(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=hy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function mg(t,e){return k(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>k(this,null,function*(){r.isEqual(i)||(yield TC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function jT(t,e){return k(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield UF(t);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kT(e.remoteStore,i)),t._onlineComponents=e})}function jF(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function UF(t){return k(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!jF(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),yield mg(t,new kl)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield mg(t,new kl);return t._offlineComponents})}function VC(t){return k(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield jT(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield jT(t,new Um))),t._onlineComponents})}function BF(t){return VC(t).then(e=>e.syncEngine)}function UT(t){return k(this,null,function*(){let e=yield VC(t),n=e.eventManager;return n.onListen=bF.bind(null,e.syncEngine),n.onUnlisten=RF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xF.bind(null,e.syncEngine),n})}function jC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var BT=new Map;function UC(t,e,n){if(!n)throw new U(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $F(t,e,n,r){if(e===!0&&r===!0)throw new U(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $T(t){if(!W.isDocumentKey(t))throw new U(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zT(t){if(W.isDocumentKey(t))throw new U(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function oa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Kl(t);throw new U(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Ol=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$F("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new U(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Eo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ol({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ol(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yg;switch(r.type){case"firstParty":return new Eg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=BT.get(n);r&&(q("ComponentProvider","Removing Datastore"),BT.delete(n),r.terminate())}(this),Promise.resolve()}};function BC(t,e,n,r={}){var i;let o=(t=oa(t,Eo))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=je.MOCK_USER;else{a=kv(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new je(l)}t._authCredentials=new vg(new dl(a,c))}}var ei=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},_t=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ur=class t extends ei{constructor(e,n,r){super(e,n,oy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new W(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function $C(t,e,...n){if(t=un(t),UC("collection","path",e),t instanceof Eo){let r=be.fromString(e,...n);return zT(r),new ur(t,null,r)}{if(!(t instanceof _t||t instanceof ur))throw new U(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(be.fromString(e,...n));return zT(r),new ur(t.firestore,null,r)}}function zC(t,e,...n){if(t=un(t),arguments.length===1&&(e=hl.newId()),UC("doc","path",e),t instanceof Eo){let r=be.fromString(e,...n);return $T(r),new _t(t,null,new W(r))}{if(!(t instanceof _t||t instanceof ur))throw new U(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(be.fromString(e,...n));return $T(r),new _t(t.firestore,t instanceof ur?t.converter:null,new W(r))}}var zm=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Al(this,"async_queue_retry"),this.Eu=()=>{let n=gg();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=gg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=gg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Sn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return k(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!wa(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Rn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=xm.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Y()}verifyOperationInProgress(){}mu(){return k(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function qT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var _o=class extends Eo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new zm}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||HC(this),this._firestoreClient.terminate()}};function Ql(t,e){let n=typeof t=="object"?t:Wo(),r=typeof t=="string"?t:e||"(default)",i=Cd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Pv("firestore");o&&BC(i,...o)}return i}function qC(t){return t._firestoreClient||HC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function HC(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,h){return new bg(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,jC(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new $m(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var fa=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(et.fromBase64String(e))}catch(n){throw new U(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var pa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Fl=class{constructor(e){this._methodName=e}};var ga=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}};var ma=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var zF=/^__.*__$/,qm=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Nn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xr(e,this.data,n,this.fieldTransforms)}};function GC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var Hm=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Ll(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(GC(this.wu)&&zF.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Gm=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hl(e)}Nu(e,n,r,i=!1){return new Hm({wu:e,methodName:n,Ou:r,path:Et.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function WC(t){let e=t._freezeSettings(),n=Hl(t._databaseId);return new Gm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qF(t,e,n,r,i,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);YC("Data must be an object, but it was:",s,r);let a=KC(r,s),c,l;if(o.merge)c=new Xt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=GF(e,p,n);if(!s.contains(m))throw new U(x.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);KF(h,m)||h.push(m)}c=new Xt(h),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new qm(new Ut(a),c,l)}function HF(t,e,n,r=!1){return gy(n,t.Nu(r?4:3,e))}function gy(t,e){if(QC(t=un(t)))return YC("Unsupported field value:",e,t),KC(t,e);if(t instanceof Fl)return function(r,i){if(!GC(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=gy(a,i.Fu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=He.fromDate(r);return{timestampValue:Dl(i.serializer,o)}}if(r instanceof He){let o=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dl(i.serializer,o)}}if(r instanceof ga)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fa)return{bytesValue:yC(i.serializer,r._byteString)};if(r instanceof _t){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ay(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ma)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Mu("VectorValues must only contain numeric values.");return sy(a.serializer,c)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Kl(r)}`)}(t,e)}function KC(t,e){let n={};return KT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,(r,i)=>{let o=gy(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function QC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof ga||t instanceof fa||t instanceof _t||t instanceof Fl||t instanceof ma)}function YC(t,e,n){if(!QC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Kl(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function GF(t,e,n){if((e=un(e))instanceof pa)return e._internalPath;if(typeof e=="string")return ZC(t,e);throw Ll("Field path arguments must be of type string or ",t,!1,void 0,n)}var WF=new RegExp("[~\\*/\\[\\]]");function ZC(t,e,n){if(e.search(WF)>=0)throw Ll(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pa(...e.split("."))._internalPath}catch{throw Ll(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ll(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new U(x.INVALID_ARGUMENT,a+t+c)}function KF(t,e){return t.some(n=>n.isEqual(e))}var Vl=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Wm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(my("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Wm=class extends Vl{data(){return super.data()}};function my(t,e){return typeof e=="string"?ZC(t,e):e instanceof pa?e._internalPath:e._delegate._internalPath}function QF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ya=class{},jl=class extends ya{};function JC(t,e,...n){let r=[];e instanceof ya&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof Qm).length,a=o.filter(c=>c instanceof Km).length;if(s>1||s>0&&a>0)throw new U(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Km=class t extends jl{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return eb(e._query,n),new ei(e.firestore,e.converter,jg(e._query,n))}_parse(e){let n=WC(e.firestore);return function(o,s,a,c,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new U(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){GT(p,h);let y=[];for(let C of p)y.push(HT(c,o,C));m={arrayValue:{values:y}}}else m=HT(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||GT(p,h),m=HF(a,s,p,h==="in"||h==="not-in");return Fe.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var Qm=class t extends ya{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$t.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)eb(s,c),s=jg(s,c)}(e._query,n),new ei(e.firestore,e.converter,jg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Ym=class t extends jl{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new U(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yr(o,s)}(e._query,this._field,this._direction);return new ei(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new lr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function XC(t,e="asc"){let n=e,r=my("orderBy",t);return Ym._create(r,n)}function HT(t,e,n){if(typeof(n=un(n))=="string"){if(n==="")throw new U(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rC(e)&&n.indexOf("/")!==-1)throw new U(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(be.fromString(n));if(!W.isDocumentKey(r))throw new U(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mT(t,new W(r))}if(n instanceof _t)return mT(t,n._key);throw new U(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kl(n)}.`)}function GT(t,e){if(!Array.isArray(t)||t.length===0)throw new U(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eb(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Zm=class{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return To(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ce(s.doubleValue));return new ma(o)}convertGeoPoint(e){return new ga(Ce(e.latitude),Ce(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ty(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(aa(e));default:return null}}convertTimestamp(e){let n=xn(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=be.fromString(e);Ie(DC(r));let i=new ml(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||Rn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function YF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Hr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ul=class extends Vl{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new co(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(my("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},co=class extends Ul{data(e={}){return super.data(e)}},Jm=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new co(this._firestore,this._userDataWriter,r.key,r,new Hr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new co(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new co(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:ZF(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function ZF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}var Bl=class extends Zm{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}};function tb(t,e){let n=oa(t.firestore,_o),r=zC(t),i=YF(t.converter,e);return JF(n,[qF(WC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gr.exists(!1))]).then(()=>r)}function yy(t,...e){var n,r,i;t=un(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||qT(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(qT(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,l,h;if(t instanceof _t)l=oa(t.firestore,_o),h=oy(t._key.path),c={next:p=>{e[s]&&e[s](XF(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=oa(t,ei);l=oa(p.firestore,_o),h=p._query;let m=new Bl(l);c={next:y=>{e[s]&&e[s](new Jm(l,m,p,y))},error:e[s+1],complete:e[s+2]},QF(t._query)}return function(m,y,C,R){let A=new Bm(R),M=new km(y,A,C);return m.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return _F(yield UT(m),M)})),()=>{A.za(),m.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return DF(yield UT(m),M)}))}}(qC(l),h,a,c)}function JF(t,e){return function(r,i){let o=new Sn;return r.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return MF(yield BF(r),i,o)})),o.promise}(qC(t),e)}function XF(t,e,n){let r=n.docs.get(e._key),i=new Bl(t);return new Ul(t,i,e._key,r,new Hr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Do=i})(jv),Go(new Ho("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new _o(new wg(r.getProvider("auth-internal")),new Dg(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ye(hT,"4.7.1",e),Ye(hT,"4.7.1","esm2017")})();var Yl=function(){return Yl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Yl.apply(this,arguments)};var nL={includeMetadataChanges:!1};function nb(t,e){return e===void 0&&(e=nL),new ee(function(n){var r=yy(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function rb(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Yl(Yl({},r),(n={},n[e.idField]=t.id,n))}function ib(t){return nb(t,{includeMetadataChanges:!0}).pipe(Q(function(e){return e.docs}))}function ob(t,e){return e===void 0&&(e={}),ib(t).pipe(Q(function(n){return n.map(function(r){return rb(r,e)})}))}var _a=class{constructor(e){return e}},sb="firestore",vy=class{constructor(){return Qs(sb)}};var wy=new V("angularfire2.firestore-instances");function rL(t,e){let n=rl(sb,t,e);return n&&new _a(n)}function iL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new _a(r)}}var oL={provide:vy,deps:[[new ze,wy]]},sL={provide:_a,useFactory:rL,deps:[[new ze,wy],bn]};function WG(t,...e){return Ye("angularfire",or.full,"fst"),St([sL,oL,{provide:wy,useFactory:iL(t),multi:!0,deps:[le,Ze,sr,$r,[new ze,Zs],[new ze,Cn],...e]}])}var ab=ft(ob,!0);var ub=ft(tb,!0);var Iy=ft($C,!0);var KG=ft(Ql,!0);var cb=ft(XC,!0);var lb=ft(JC,!0);var db={projectId:"sala-de-juegos-59d90",appId:"1:1000227605196:web:ed6371a18bbdaa3eb19069",storageBucket:"sala-de-juegos-59d90.appspot.com",apiKey:"AIzaSyAHNTs5amejnX-GYcdKbkUPQYVHEKb1h2g",authDomain:"sala-de-juegos-59d90.firebaseapp.com",messagingSenderId:"1000227605196"};var aL=new Map,uL={activated:!1,tokenObservers:[]},cL={initialized:!1,enabled:!1};function zt(t){return aL.get(t)||Object.assign({},uL)}function mb(){return cL}var lL="https://content-firebaseappcheck.googleapis.com/v1";var dL="exchangeDebugToken",hb={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},s3=24*60*60*1e3;var _y=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return k(this,null,function*(){this.stop();try{this.pending=new Dd,this.pending.promise.catch(n=>{}),yield hL(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Dd,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function hL(t){return new Promise(e=>{setTimeout(e,t)})}var fL={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},fr=new Vv("appCheck","AppCheck",fL);function yb(t){if(!zt(t).activated)throw fr.create("use-before-activation",{appName:t.name})}function vb(r,i){return k(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(y){throw fr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(c.status!==200)throw fr.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(y){throw fr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function wb(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${lL}/projects/${n}/apps/${r}:${dL}?key=${i}`,body:{debug_token:e}}}var pL="firebase-app-check-database",gL=1,Dy="firebase-app-check-store";var Zl=null;function mL(){return Zl||(Zl=new Promise((t,e)=>{try{let n=indexedDB.open(pL,gL);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(fr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Dy,{keyPath:"compositeKey"})}}}catch(n){e(fr.create("storage-open",{originalErrorMessage:n?.message}))}}),Zl)}function yL(t,e){return vL(wL(t),e)}function vL(t,e){return k(this,null,function*(){let r=(yield mL()).transaction(Dy,"readwrite"),o=r.objectStore(Dy).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(fr.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function wL(t){return`${t.options.appId}-${t.name}`}var Ty=new $a("@firebase/app-check");function Ey(t,e){return Td()?yL(t,e).catch(n=>{Ty.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Ib(){return mb().enabled}function Eb(){return k(this,null,function*(){let t=mb();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var IL={error:"UNKNOWN_ERROR"};function EL(t){return Nv.encodeString(JSON.stringify(t),!1)}function Cy(t,e=!1){return k(this,null,function*(){let n=t.app;yb(n);let r=zt(n),i=r.token,o;if(i&&!Da(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(Da(c)?i=c:yield Ey(n,void 0))}if(!e&&i&&Da(i))return{token:i.token};let s=!1;if(Ib()){r.exchangeTokenPromise||(r.exchangeTokenPromise=vb(wb(n,yield Eb()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield Ey(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield zt(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Ty.warn(c.message):Ty.error(c),o=c}let a;return i?o?Da(i)?a={token:i.token,internalError:o}:a=pb(o):(a={token:i.token},r.token=i,yield Ey(n,i)):a=pb(o),s&&CL(n,a),a})}function _L(t){return k(this,null,function*(){let e=t.app;yb(e);let{provider:n}=zt(e);if(Ib()){let r=yield Eb(),{token:i}=yield vb(wb(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function DL(t,e,n,r){let{app:i}=t,o=zt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Da(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),fb(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>fb(t))}function _b(t,e){let n=zt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function fb(t){let{app:e}=t,n=zt(e),r=n.tokenRefresher;r||(r=TL(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function TL(t){let{app:e}=t;return new _y(()=>k(this,null,function*(){let n=zt(e),r;if(n.token?r=yield Cy(t,!0):r=yield Cy(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=zt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},hb.RETRIAL_MIN_WAIT,hb.RETRIAL_MAX_WAIT)}function CL(t,e){let n=zt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Da(t){return t.expireTimeMillis-Date.now()>0}function pb(t){return{token:EL(IL),error:t}}var by=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=zt(this.app);for(let n of e)_b(this.app,n.next);return Promise.resolve()}};function bL(t,e){return new by(t,e)}function AL(t){return{getToken:e=>Cy(t,e),getLimitedUseToken:()=>_L(t),addTokenListener:e=>DL(t,"INTERNAL",e),removeTokenListener:e=>_b(t.app,e)}}var SL="@firebase/app-check",RL="0.8.7";var xL="app-check",gb="app-check-internal";function ML(){Go(new Ho(xL,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return bL(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(gb).initialize()})),Go(new Ho(gb,t=>{let e=t.getProvider("app-check").getImmediate();return AL(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ye(SL,RL)}ML();var NL=["localhost","0.0.0.0","127.0.0.1"],v3=typeof window<"u"&&NL.includes(window.location.hostname);var kL="firebase",OL="10.13.1";vr.registerVersion(kL,OL,"app-compat");var FL=["ngOnDestroy"],Tb=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(FL.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(h=>{let p=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,p),p})})})});var Ay=class{constructor(e){return e}},Cb=new V("angularfire2.app.options"),bb=new V("angularfire2.app.name");function Ab(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=vr.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>vr.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;LL("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ay(s)}var LL=(t,...e)=>{Yf()&&typeof console<"u"&&console[t](...e)};function Sb(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return VL(i,s)||(Db("error",`${e} was already initialized on the ${n} Firebase App with different settings.${jL?" You may need to reload as Firebase is not HMR aware.":""}`),Db("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function VL(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var jL=typeof module<"u"&&!!module.hot,Db=(t,...e)=>{Yf()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var UL=new V("angularfire2.auth.use-emulator"),BL=new V("angularfire2.auth.settings"),$L=new V("angularfire2.auth.tenant-id"),zL=new V("angularfire2.auth.langugage-code"),qL=new V("angularfire2.auth.use-device-language"),HL=new V("angularfire.auth.persistence"),GL=(t,e,n,r,i,o,s,a)=>Sb(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[l,h]of Object.entries(s))c.settings[l]=h;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]),Rb=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,c,l,h,p,m,y){let C=new xe,R=H(void 0).pipe(vt(s.outsideAngular),Te(()=>o.runOutsideAngular(()=>import("./chunk-5AHH4NI7.js"))),Q(()=>Ab(n,o,r)),Q(A=>GL(A,o,a,l,h,p,c,m)),Du({bufferSize:1,refCount:!1}));if(qi(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=H(null);else{R.pipe(Tt()).subscribe();let A=R.pipe(Te(L=>L.getRedirectResult().then($=>$,()=>null)),rg,Du({bufferSize:1,refCount:!1})),M=R.pipe(Te(L=>new ee($=>({unsubscribe:o.runOutsideAngular(()=>L.onAuthStateChanged(he=>$.next(he),he=>$.error(he),()=>$.complete()))})))),F=R.pipe(Te(L=>new ee($=>({unsubscribe:o.runOutsideAngular(()=>L.onIdTokenChanged(he=>$.next(he),he=>$.error(he),()=>$.complete()))}))));this.authState=A.pipe(Cu(M),Dt(s.outsideAngular),vt(s.insideAngular)),this.user=A.pipe(Cu(F),Dt(s.outsideAngular),vt(s.insideAngular)),this.idToken=this.user.pipe(Te(L=>L?ye(L.getIdToken()):H(null))),this.idTokenResult=this.user.pipe(Te(L=>L?ye(L.getIdTokenResult()):H(null))),this.credential=Yd(A,C,this.authState.pipe($e(L=>!L))).pipe(Q(L=>L?.user?L:null),Dt(s.outsideAngular),vt(s.insideAngular))}return Tb(this,R,o,{spy:{apply:(A,M,F)=>{(A.startsWith("signIn")||A.startsWith("createUser"))&&F.then(L=>C.next(L))}}})}static \u0275fac=function(r){return new(r||t)(j(Cb),j(bb,8),j(ht),j(le),j(sr),j(UL,8),j(BL,8),j($L,8),j(zL,8),j(qL,8),j(HL,8),j(Cn,8))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var xb=class t{app;firestore;auth;currentUser=null;constructor(){this.app=rT(db),this.firestore=Ql(this.app),this.auth=sT(this.app),this.initializeAuthListener()}initializeAuthListener(){aT(this.auth,e=>{this.currentUser=e})}getCurrentUser(){return this.currentUser}logIn(e,n){return k(this,null,function*(){try{yield uT(this.auth,e,n)}catch(r){throw r}})}registro(e,n){return k(this,null,function*(){try{yield oT(this.auth,e,n)}catch(r){throw r}})}getUserLogged(){return N(Rb).authState}logOut(){return k(this,null,function*(){try{yield cT(this.auth),console.log("Usuario deslogueado correctamente")}catch(e){console.error("Error al desloguearse",e)}})}subirPuntosJuego(e,n){return k(this,null,function*(){try{if(n>0&&this.currentUser){let r=Iy(this.firestore,e),i={fecha:new Date,usuario:this.currentUser.email,puntos:n};yield ub(r,i),console.log("Puntos subidos correctamente")}}catch(r){throw console.error("Error al subir los puntos",r),r}})}traerPuntosJuego(e){try{let n=Iy(this.firestore,e),r=lb(n,cb("puntos","desc"));return ab(r,{idField:"id"})}catch(n){throw console.error("Error al traer los puntos del juego",n),n}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};export{xe as a,ye as b,Q as c,L0 as d,G as e,dI as f,z as g,Pr as h,V as i,j,CI as k,kr as l,Vi as m,fc as n,M4 as o,N4 as p,Cf as q,ot as r,ps as s,P4 as t,k4 as u,Mt as v,Cc as w,V4 as x,Mx as y,$x as z,p_ as A,eM as B,tM as C,j4 as D,U4 as E,B4 as F,m_ as G,y_ as H,Wf as I,$4 as J,v_ as K,z4 as L,EM as M,q4 as N,H4 as O,DM as P,E_ as Q,TM as R,G4 as S,CM as T,W4 as U,D_ as V,K4 as W,Q4 as X,Y4 as Y,gs as Z,Z4 as _,ys as $,P_ as aa,J4 as ba,ZM as ca,Bi as da,Tz as ea,Cz as fa,bz as ga,oN as ha,mN as ia,Uz as ja,Bz as ka,pq as la,RP as ma,rr as na,Fq as oa,Lq as pa,rH as qa,rT as ra,YH as sa,sT as ta,He as ua,_a as va,WG as wa,ab as xa,ub as ya,Iy as za,KG as Aa,cb as Ba,lb as Ca,db as Da,xb as Ea};
