import{A as ut,B as Wh,C as Kh,D as Qh,E as Yh,F as Zh,G as Wr,a as O,b as he,c as N,d as Q_,e as Lu,f as Y_,g as Z_,h as J_,i as X_,j as qh,k as ew,l as tw,m as nw,n as zh,o as rw,p as iw,q as Rn,r as Us,s as Nn,t as ju,u as Bs,v as Gh,w as ow,x as sw,y as $s,z as Uu}from"./chunk-THBPOAG3.js";function aw(t,e){return Object.is(t,e)}var Ke=null,Bu=!1,$u=1,Pn=Symbol("SIGNAL");function pe(t){let e=Ke;return Ke=t,e}function uw(){return Ke}var qs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ef(t){if(Bu)throw new Error("");if(Ke===null)return;Ke.consumerOnSignalRead(t);let e=Ke.nextProducerIndex++;if(Gu(Ke),e<Ke.producerNode.length&&Ke.producerNode[e]!==t&&Hs(Ke)){let n=Ke.producerNode[e];zu(n,Ke.producerIndexOfThis[e])}Ke.producerNode[e]!==t&&(Ke.producerNode[e]=t,Ke.producerIndexOfThis[e]=Hs(Ke)?hw(t,Ke,e):0),Ke.producerLastReadVersion[e]=t.version}function $A(){$u++}function cw(t){if(!(Hs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===$u)){if(!t.producerMustRecompute(t)&&!nf(t)){t.dirty=!1,t.lastCleanEpoch=$u;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=$u}}function lw(t){if(t.liveConsumerNode===void 0)return;let e=Bu;Bu=!0;try{for(let n of t.liveConsumerNode)n.dirty||HA(n)}finally{Bu=e}}function dw(){return Ke?.consumerAllowSignalWrites!==!1}function HA(t){t.dirty=!0,lw(t),t.consumerMarkedDirty?.(t)}function qu(t){return t&&(t.nextProducerIndex=0),pe(t)}function tf(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Hs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)zu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function nf(t){Gu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(cw(n),r!==n.version))return!0}return!1}function rf(t){if(Gu(t),Hs(t))for(let e=0;e<t.producerNode.length;e++)zu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function hw(t,e,n){if(fw(t),t.liveConsumerNode.length===0&&pw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=hw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function zu(t,e){if(fw(t),t.liveConsumerNode.length===1&&pw(t))for(let r=0;r<t.producerNode.length;r++)zu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Gu(i),i.producerIndexOfThis[r]=e}}function Hs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Gu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function fw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function pw(t){return t.producerNode!==void 0}function gw(t){let e=Object.create(qA);e.computation=t;let n=()=>{if(cw(e),ef(e),e.value===Hu)throw e.error;return e.value};return n[Pn]=e,n}var Jh=Symbol("UNSET"),Xh=Symbol("COMPUTING"),Hu=Symbol("ERRORED"),qA=he(O({},qs),{value:Jh,dirty:!0,error:null,equal:aw,producerMustRecompute(t){return t.value===Jh||t.value===Xh},producerRecomputeValue(t){if(t.value===Xh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Xh;let n=qu(t),r;try{r=t.computation()}catch(i){r=Hu,t.error=i}finally{tf(t,n)}if(e!==Jh&&e!==Hu&&r!==Hu&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function zA(){throw new Error}var mw=zA;function yw(){mw()}function vw(t){mw=t}var GA=null;function _w(t){let e=Object.create(Iw);e.value=t;let n=()=>(ef(e),e.value);return n[Pn]=e,n}function of(t,e){dw()||yw(),t.equal(t.value,e)||(t.value=e,WA(t))}function ww(t,e){dw()||yw(),of(t,e(t.value))}var Iw=he(O({},qs),{equal:aw,value:void 0});function WA(t){t.version++,$A(),lw(t),GA?.()}function K(t){return typeof t=="function"}function Gi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Wu=Gi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Kr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(o){e=o instanceof Wu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ew(o)}catch(s){e=e??[],s instanceof Wu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Wu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ew(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Kr(n,e)}remove(e){let{_finalizers:n}=this;n&&Kr(n,e),e instanceof t&&e._removeParent(this)}};Fe.EMPTY=(()=>{let t=new Fe;return t.closed=!0,t})();var sf=Fe.EMPTY;function Ku(t){return t instanceof Fe||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function Ew(t){K(t)?t():t.unsubscribe()}var Jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Wi={setTimeout(t,e,...n){let{delegate:r}=Wi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Wi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qu(t){Wi.setTimeout(()=>{let{onUnhandledError:e}=Jt;if(e)e(t);else throw t})}function zs(){}var Dw=af("C",void 0,void 0);function Cw(t){return af("E",void 0,t)}function bw(t){return af("N",t,void 0)}function af(t,e,n){return{kind:t,value:e,error:n}}var Qr=null;function Ki(t){if(Jt.useDeprecatedSynchronousErrorHandling){let e=!Qr;if(e&&(Qr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Qr;if(Qr=null,n)throw r}}else t()}function Tw(t){Jt.useDeprecatedSynchronousErrorHandling&&Qr&&(Qr.errorThrown=!0,Qr.error=t)}var Yr=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ku(e)&&e.add(this)):this.destination=YA}static create(e,n,r){return new kn(e,n,r)}next(e){this.isStopped?cf(bw(e),this):this._next(e)}error(e){this.isStopped?cf(Cw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cf(Dw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KA=Function.prototype.bind;function uf(t,e){return KA.call(t,e)}var lf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Yu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Yu(r)}else Yu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Yu(n)}}},kn=class extends Yr{constructor(e,n,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Jt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&uf(e.next,o),error:e.error&&uf(e.error,o),complete:e.complete&&uf(e.complete,o)}):i=e}this.destination=new lf(i)}};function Yu(t){Jt.useDeprecatedSynchronousErrorHandling?Tw(t):Qu(t)}function QA(t){throw t}function cf(t,e){let{onStoppedNotification:n}=Jt;n&&Wi.setTimeout(()=>n(t,e))}var YA={closed:!0,next:zs,error:QA,complete:zs};var Qi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Mt(t){return t}function Zu(...t){return df(t)}function df(t){return t.length===0?Mt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=JA(n)?n:new kn(n,r,i);return Ki(()=>{let{operator:s,source:u}=this;o.add(s?s.call(o,u):u?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Aw(r),new r((i,o)=>{let s=new kn({next:u=>{try{n(u)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Qi](){return this}pipe(...n){return df(n)(this)}toPromise(n){return n=Aw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Aw(t){var e;return(e=t??Jt.Promise)!==null&&e!==void 0?e:Promise}function ZA(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function JA(t){return t&&t instanceof Yr||ZA(t)&&Ku(t)}function hf(t){return K(t?.lift)}function ce(t){return e=>{if(hf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(t,e,n,r,i){return new ff(t,e,n,r,i)}var ff=class extends Yr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(u){try{n(u)}catch(c){e.error(c)}}:super._next,this._error=i?function(u){try{i(u)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Yi(){return ce((t,e)=>{let n=null;t._refCount++;let r=le(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Zi=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,hf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let n=this.getSubject();e.add(this.source.subscribe(le(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return Yi()(this)}};var Sw=Gi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ju(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Sw}next(n){Ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?sf:(this.currentObservers=null,o.push(n),new Fe(()=>{this.currentObservers=null,Kr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new Ju(e,n),t})(),Ju=class extends Pe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:sf}};var tt=class extends Pe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Gs={now(){return(Gs.delegate||Date).now()},delegate:void 0};var Xu=class extends Pe{constructor(e=1/0,n=1/0,r=Gs){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),u=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)u=c;u&&r.splice(0,u+1)}}};var ec=class extends Fe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ws={setInterval(t,e,...n){let{delegate:r}=Ws;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ws;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ji=class extends ec{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ws.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ws.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Kr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Xi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Xi.now=Gs.now;var eo=class extends Xi{constructor(e,n=Xi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var pf=new eo(Ji);var tc=class extends Ji{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var nc=class extends eo{};var gf=new nc(tc);var mt=new oe(t=>t.complete());function Mw(t){return t&&K(t.schedule)}function mf(t){return t[t.length-1]}function rc(t){return K(mf(t))?t.pop():void 0}function hn(t){return Mw(mf(t))?t.pop():void 0}function xw(t,e){return typeof mf(t)=="number"?t.pop():e}var ic=t=>t&&typeof t.length=="number"&&typeof t!="function";function oc(t){return K(t?.then)}function sc(t){return K(t[Qi])}function ac(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function uc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function XA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cc=XA();function lc(t){return K(t?.[cc])}function dc(t){return Y_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Lu(n.read());if(i)return yield Lu(void 0);yield yield Lu(r)}}finally{n.releaseLock()}})}function hc(t){return K(t?.getReader)}function Re(t){if(t instanceof oe)return t;if(t!=null){if(sc(t))return eS(t);if(ic(t))return tS(t);if(oc(t))return nS(t);if(ac(t))return Rw(t);if(lc(t))return rS(t);if(hc(t))return iS(t)}throw uc(t)}function eS(t){return new oe(e=>{let n=t[Qi]();if(K(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tS(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function nS(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Qu)})}function rS(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Rw(t){return new oe(e=>{oS(t,e).catch(n=>e.error(n))})}function iS(t){return Rw(dc(t))}function oS(t,e){var n,r,i,o;return Q_(this,void 0,void 0,function*(){try{for(n=Z_(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ct(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function xt(t,e=0){return ce((n,r)=>{n.subscribe(le(r,i=>Ct(r,t,()=>r.next(i),e),()=>Ct(r,t,()=>r.complete(),e),i=>Ct(r,t,()=>r.error(i),e)))})}function jt(t,e=0){return ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Nw(t,e){return Re(t).pipe(jt(e),xt(e))}function Pw(t,e){return Re(t).pipe(jt(e),xt(e))}function kw(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ow(t,e){return new oe(n=>{let r;return Ct(n,e,()=>{r=t[cc](),Ct(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function fc(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{Ct(n,e,()=>{let r=t[Symbol.asyncIterator]();Ct(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Fw(t,e){return fc(dc(t),e)}function Vw(t,e){if(t!=null){if(sc(t))return Nw(t,e);if(ic(t))return kw(t,e);if(oc(t))return Pw(t,e);if(ac(t))return fc(t,e);if(lc(t))return Ow(t,e);if(hc(t))return Fw(t,e)}throw uc(t)}function Ee(t,e){return e?Vw(t,e):Re(t)}function G(...t){let e=hn(t);return Ee(t,e)}function to(t,e){let n=K(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function yf(t){return!!t&&(t instanceof oe||K(t.lift)&&K(t.subscribe))}var On=Gi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function J(t,e){return ce((n,r)=>{let i=0;n.subscribe(le(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:sS}=Array;function aS(t,e){return sS(e)?t(...e):t(e)}function pc(t){return J(e=>aS(t,e))}var{isArray:uS}=Array,{getPrototypeOf:cS,prototype:lS,keys:dS}=Object;function gc(t){if(t.length===1){let e=t[0];if(uS(e))return{args:e,keys:null};if(hS(e)){let n=dS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function hS(t){return t&&typeof t=="object"&&cS(t)===lS}function mc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ks(...t){let e=hn(t),n=rc(t),{args:r,keys:i}=gc(t);if(r.length===0)return Ee([],e);let o=new oe(fS(r,e,i?s=>mc(i,s):Mt));return n?o.pipe(pc(n)):o}function fS(t,e,n=Mt){return r=>{Lw(e,()=>{let{length:i}=t,o=new Array(i),s=i,u=i;for(let c=0;c<i;c++)Lw(e,()=>{let l=Ee(t[c],e),f=!1;l.subscribe(le(r,p=>{o[c]=p,f||(f=!0,u--),u||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Lw(t,e,n){t?Ct(n,t,e):e()}function jw(t,e,n,r,i,o,s,u){let c=[],l=0,f=0,p=!1,m=()=>{p&&!c.length&&!l&&e.complete()},v=M=>l<r?T(M):c.push(M),T=M=>{o&&e.next(M),l++;let S=!1;Re(n(M,f++)).subscribe(le(e,F=>{i?.(F),o?v(F):e.next(F)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;c.length&&l<r;){let F=c.shift();s?Ct(e,s,()=>T(F)):T(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(le(e,v,()=>{p=!0,m()})),()=>{u?.()}}function $e(t,e,n=1/0){return K(e)?$e((r,i)=>J((o,s)=>e(r,o,i,s))(Re(t(r,i))),n):(typeof e=="number"&&(n=e),ce((r,i)=>jw(r,i,t,n)))}function mr(t=1/0){return $e(Mt,t)}function Uw(){return mr(1)}function no(...t){return Uw()(Ee(t,hn(t)))}function yc(t){return new oe(e=>{Re(t()).subscribe(e)})}function vf(...t){let e=rc(t),{args:n,keys:r}=gc(t),i=new oe(o=>{let{length:s}=n;if(!s){o.complete();return}let u=new Array(s),c=s,l=s;for(let f=0;f<s;f++){let p=!1;Re(n[f]).subscribe(le(o,m=>{p||(p=!0,l--),u[f]=m},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(r?mc(r,u):u),o.complete())}))}});return e?i.pipe(pc(e)):i}function _f(...t){let e=hn(t),n=xw(t,1/0),r=t;return r.length?r.length===1?Re(r[0]):mr(n)(Ee(r,e)):mt}function yt(t,e){return ce((n,r)=>{let i=0;n.subscribe(le(r,o=>t.call(e,o,i++)&&r.next(o)))})}function yr(t){return ce((e,n)=>{let r=null,i=!1,o;r=e.subscribe(le(n,void 0,void 0,s=>{o=Re(t(s,yr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Bw(t,e,n,r,i){return(o,s)=>{let u=n,c=e,l=0;o.subscribe(le(s,f=>{let p=l++;c=u?t(c,f,p):(u=!0,f),r&&s.next(c)},i&&(()=>{u&&s.next(c),s.complete()})))}}function Zr(t,e){return K(e)?$e(t,e,1):$e(t,1)}function vr(t){return ce((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Fn(t){return t<=0?()=>mt:ce((e,n)=>{let r=0;e.subscribe(le(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function wf(t){return J(()=>t)}function vc(t=pS){return ce((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function pS(){return new On}function Qs(t){return ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ut(t,e){let n=arguments.length>=2;return r=>r.pipe(t?yt((i,o)=>t(i,o,r)):Mt,Fn(1),n?vr(e):vc(()=>new On))}function ro(t){return t<=0?()=>mt:ce((e,n)=>{let r=[];e.subscribe(le(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function If(t,e){let n=arguments.length>=2;return r=>r.pipe(t?yt((i,o)=>t(i,o,r)):Mt,ro(1),n?vr(e):vc(()=>new On))}function _c(t,e){return ce(Bw(t,e,arguments.length>=2,!0))}function $w(t={}){let{connector:e=()=>new Pe,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,u,c,l=0,f=!1,p=!1,m=()=>{u?.unsubscribe(),u=void 0},v=()=>{m(),s=c=void 0,f=p=!1},T=()=>{let M=s;v(),M?.unsubscribe()};return ce((M,S)=>{l++,!p&&!f&&m();let F=c=c??e();S.add(()=>{l--,l===0&&!p&&!f&&(u=Ef(T,i))}),F.subscribe(S),!s&&l>0&&(s=new kn({next:$=>F.next($),error:$=>{p=!0,m(),u=Ef(v,n,$),F.error($)},complete:()=>{f=!0,m(),u=Ef(v,r),F.complete()}}),Re(M).subscribe(s))})(o)}}function Ef(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new kn({next:()=>{r.unsubscribe(),t()}});return Re(e(...n)).subscribe(r)}function wc(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,$w({connector:()=>new Xu(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Ic(...t){let e=hn(t);return ce((n,r)=>{(e?no(t,n,e):no(t,n)).subscribe(r)})}function Ve(t,e){return ce((n,r)=>{let i=null,o=0,s=!1,u=()=>s&&!i&&r.complete();n.subscribe(le(r,c=>{i?.unsubscribe();let l=0,f=o++;Re(t(c,f)).subscribe(i=le(r,p=>r.next(e?e(c,p,f,l++):p),()=>{i=null,u()}))},()=>{s=!0,u()}))})}function Ec(t,e){return K(e)?Ve(()=>t,e):Ve(()=>t)}function Df(t){return ce((e,n)=>{Re(t).subscribe(le(n,()=>n.complete(),zs)),!n.closed&&e.subscribe(n)})}function Qe(t,e,n){let r=K(t)||e||n?{next:t,error:e,complete:n}:t;return r?ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let u=!0;i.subscribe(le(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;u=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;u=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;u&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Mt}var gS="https://g.co/ng/security#xss",q=class extends Error{constructor(e,n){super(Sp(e,n)),this.code=e}};function Sp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function oa(t){return{toString:t}.toString()}var Dc="__parameters__";function mS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function AI(t,e,n){return oa(()=>{let r=mS(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return u.annotation=s,u;function u(c,l,f){let p=c.hasOwnProperty(Dc)?c[Dc]:Object.defineProperty(c,Dc,{value:[]})[Dc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ys=globalThis;function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function yS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function _t(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(_t).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Hw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var vS=be({__forward_ref__:be});function di(t){return t.__forward_ref__=di,t.toString=function(){return _t(this())},t}function vt(t){return SI(t)?t():t}function SI(t){return typeof t=="function"&&t.hasOwnProperty(vS)&&t.__forward_ref__===di}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bn(t){return{providers:t.providers||[],imports:t.imports||[]}}function nl(t){return qw(t,xI)||qw(t,RI)}function MI(t){return nl(t)!==null}function qw(t,e){return t.hasOwnProperty(e)?t[e]:null}function _S(t){let e=t&&(t[xI]||t[RI]);return e||null}function zw(t){return t&&(t.hasOwnProperty(Gw)||t.hasOwnProperty(wS))?t[Gw]:null}var xI=be({\u0275prov:be}),Gw=be({\u0275inj:be}),RI=be({ngInjectableDef:be}),wS=be({ngInjectorDef:be}),V=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function NI(t){return t&&!!t.\u0275providers}var IS=be({\u0275cmp:be}),ES=be({\u0275dir:be}),DS=be({\u0275pipe:be}),CS=be({\u0275mod:be}),Nc=be({\u0275fac:be}),Js=be({__NG_ELEMENT_ID__:be}),Ww=be({__NG_ENV_ID__:be});function Mp(t){return typeof t=="string"?t:t==null?"":String(t)}function bS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Mp(t)}function TS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new q(-200,t)}function xp(t,e){throw new q(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),Lf;function PI(){return Lf}function bt(t){let e=Lf;return Lf=t,e}function kI(t,e,n){let r=nl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;xp(t,"Injector")}var AS={},Xs=AS,jf="__NG_DI_FLAG__",Pc="ngTempTokenPath",SS="ngTokenPath",MS=/\n/gm,xS="\u0275",Kw="__source",uo;function RS(){return uo}function _r(t){let e=uo;return uo=t,e}function NS(t,e=se.Default){if(uo===void 0)throw new q(-203,!1);return uo===null?kI(t,void 0,e):uo.get(t,e&se.Optional?null:void 0,e)}function B(t,e=se.Default){return(PI()||NS)(vt(t),e)}function P(t,e=se.Default){return B(t,rl(e))}function rl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Uf(t){let e=[];for(let n=0;n<t.length;n++){let r=vt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,o=se.Default;for(let s=0;s<r.length;s++){let u=r[s],c=PS(u);typeof c=="number"?c===-1?i=u.token:o|=c:i=u}e.push(B(i,o))}else e.push(B(r))}return e}function OI(t,e){return t[jf]=e,t.prototype[jf]=e,t}function PS(t){return t[jf]}function kS(t,e,n,r){let i=t[Pc];throw e[Kw]&&i.unshift(e[Kw]),t.message=OS(`
`+t.message,i,n,r),t[SS]=i,t[Pc]=null,t}function OS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==xS?t.slice(2):t;let i=_t(e);if(Array.isArray(e))i=e.map(_t).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let u=e[s];o.push(s+":"+(typeof u=="string"?JSON.stringify(u):_t(u)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(MS,`
  `)}`}var rt=OI(AI("Optional"),8);var Rp=OI(AI("SkipSelf"),4);function ni(t,e){let n=t.hasOwnProperty(Nc);return n?t[Nc]:null}function Np(t,e){t.forEach(n=>Array.isArray(n)?Np(n,e):e(n))}function FI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function kc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function FS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function VS(t,e,n){let r=sa(t,e);return r>=0?t[r|1]=n:(r=~r,FS(t,r,e,n)),r}function Cf(t,e){let n=sa(t,e);if(n>=0)return t[n|1]}function sa(t,e){return LS(t,e,1)}function LS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var lo={},Bt=[],ho=new V(""),VI=new V("",-1),LI=new V(""),Oc=class{get(e,n=Xs){if(n===Xs){let r=new Error(`NullInjectorError: No provider for ${_t(e)}!`);throw r.name="NullInjectorError",r}return n}},jI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(jI||{}),gn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gn||{}),Er=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Er||{});function jS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Bf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],u=n[r++];t.setAttribute(e,s,u,o)}else{let o=i,s=n[++r];BS(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function US(t){return t===3||t===4||t===6}function BS(t){return t.charCodeAt(0)===64}function ea(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Qw(t,n,i,null,e[++r]):Qw(t,n,i,null,null))}}return t}function Qw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let u=t[o++];if(typeof u=="number"){if(u===e){s=-1;break}else if(u>e){s=o-1;break}}}for(;o<t.length;){let u=t[o];if(typeof u=="number")break;if(u===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var UI="ng-template";function $S(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&jS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Pp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Pp(t){return t.type===4&&t.value!==UI}function HS(t,e,n){let r=t.type===4&&!n?UI:t.value;return e===r}function qS(t,e,n){let r=4,i=t.attrs,o=i!==null?WS(i):0,s=!1;for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="number"){if(!s&&!Xt(r)&&!Xt(c))return!1;if(s&&Xt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!HS(t,c,n)||c===""&&e.length===1){if(Xt(r))return!1;s=!0}}else if(r&8){if(i===null||!$S(t,i,c,n)){if(Xt(r))return!1;s=!0}}else{let l=e[++u],f=zS(c,i,Pp(t),n);if(f===-1){if(Xt(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Xt(r))return!1;s=!0}}}}return Xt(r)||s}function Xt(t){return(t&1)===0}function zS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let u=e[++i];for(;typeof u=="string";)u=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return KS(e,t)}function GS(t,e,n=!1){for(let r=0;r<e.length;r++)if(qS(t,e[r],n))return!0;return!1}function WS(t){for(let e=0;e<t.length;e++){let n=t[e];if(US(n))return e}return t.length}function KS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Yw(t,e){return t?":not("+e.trim()+")":e}function QS(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let u=t[++n];i+="["+s+(u.length>0?'="'+u+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Xt(s)&&(e+=Yw(o,i),i=""),r=s,o=o||!Xt(r);n++}return i!==""&&(e+=Yw(o,i)),e}function YS(t){return t.map(QS).join(",")}function ZS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Xt(i))break;i=o}r++}return{attrs:e,classes:n}}function qt(t){return oa(()=>{let e=GI(t),n=he(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===jI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gn.Emulated,styles:t.styles||Bt,_:null,schemas:t.schemas||null,tView:null,id:""});WI(n);let r=t.dependencies;return n.directiveDefs=Jw(r,!1),n.pipeDefs=Jw(r,!0),n.id=eM(n),n})}function JS(t){return Dr(t)||$I(t)}function XS(t){return t!==null}function $n(t){return oa(()=>({type:t.type,bootstrap:t.bootstrap||Bt,declarations:t.declarations||Bt,imports:t.imports||Bt,exports:t.exports||Bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Zw(t,e){if(t==null)return lo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,u=Er.None;Array.isArray(i)?(u=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=u!==Er.None?[r,u]:r,e[o]=s):n[o]=r}return n}function ct(t){return oa(()=>{let e=GI(t);return WI(e),e})}function BI(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dr(t){return t[IS]||null}function $I(t){return t[ES]||null}function HI(t){return t[DS]||null}function qI(t){let e=Dr(t)||$I(t)||HI(t);return e!==null?e.standalone:!1}function zI(t,e){let n=t[CS]||null;if(!n&&e===!0)throw new Error(`Type ${_t(t)} does not have '\u0275mod' property.`);return n}function GI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||lo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zw(t.inputs,e),outputs:Zw(t.outputs),debugInfo:null}}function WI(t){t.features?.forEach(e=>e(t))}function Jw(t,e){if(!t)return null;let n=e?HI:JS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(XS)}function eM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function vn(t){return{\u0275providers:t}}function tM(...t){return{\u0275providers:KI(!0,t),\u0275fromNgModule:!0}}function KI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Np(e,s=>{let u=s;$f(u,o,[],r)&&(i||=[],i.push(u))}),i!==void 0&&QI(i,o),n}function QI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];kp(i,o=>{e(o,r)})}}function $f(t,e,n,r){if(t=vt(t),!t)return!1;let i=null,o=zw(t),s=!o&&Dr(t);if(!o&&!s){let c=t.ngModule;if(o=zw(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let u=r.has(i);if(s){if(u)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)$f(l,e,n,r)}}else if(o){if(o.imports!=null&&!u){r.add(i);let l;try{Np(o.imports,f=>{$f(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&QI(l,e)}if(!u){let l=ni(i)||(()=>new i);e({provide:i,useFactory:l,deps:Bt},i),e({provide:LI,useValue:i,multi:!0},i),e({provide:ho,useValue:()=>B(i),multi:!0},i)}let c=o.providers;if(c!=null&&!u){let l=t;kp(c,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function kp(t,e){for(let n of t)NI(n)&&(n=n.\u0275providers),Array.isArray(n)?kp(n,e):e(n)}var nM=be({provide:String,useValue:be});function YI(t){return t!==null&&typeof t=="object"&&nM in t}function rM(t){return!!(t&&t.useExisting)}function iM(t){return!!(t&&t.useFactory)}function fo(t){return typeof t=="function"}function oM(t){return!!t.useClass}var il=new V(""),Ac={},sM={},bf;function Op(){return bf===void 0&&(bf=new Oc),bf}var Rt=class{},ta=class extends Rt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qf(e,s=>this.processProvider(s)),this.records.set(VI,io(void 0,this)),i.has("environment")&&this.records.set(Rt,io(void 0,this));let o=this.records.get(il);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(LI,Bt,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=_r(this),r=bt(void 0),i;try{return e()}finally{_r(n),bt(r)}}get(e,n=Xs,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ww))return e[Ww](this);r=rl(r);let i,o=_r(this),s=bt(void 0);try{if(!(r&se.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=dM(e)&&nl(e);l&&this.injectableDefInScope(l)?c=io(Hf(e),Ac):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let u=r&se.Self?Op():this.parent;return n=r&se.Optional&&n===Xs?null:n,u.get(e,n)}catch(u){if(u.name==="NullInjectorError"){if((u[Pc]=u[Pc]||[]).unshift(_t(e)),o)throw u;return kS(u,e,"R3InjectorError",this.source)}else throw u}finally{bt(s),_r(o)}}resolveInjectorInitializers(){let e=pe(null),n=_r(this),r=bt(void 0),i;try{let o=this.get(ho,Bt,se.Self);for(let s of o)s()}finally{_r(n),bt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(_t(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(e){e=vt(e);let n=fo(e)?e:vt(e&&e.provide),r=uM(e);if(!fo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=io(void 0,Ac,!0),i.factory=()=>Uf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===Ac&&(n.value=sM,n.value=n.factory()),typeof n.value=="object"&&n.value&&lM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=vt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Hf(t){let e=nl(t),n=e!==null?e.factory:ni(t);if(n!==null)return n;if(t instanceof V)throw new q(204,!1);if(t instanceof Function)return aM(t);throw new q(204,!1)}function aM(t){if(t.length>0)throw new q(204,!1);let n=_S(t);return n!==null?()=>n.factory(t):()=>new t}function uM(t){if(YI(t))return io(void 0,t.useValue);{let e=ZI(t);return io(e,Ac)}}function ZI(t,e,n){let r;if(fo(t)){let i=vt(t);return ni(i)||Hf(i)}else if(YI(t))r=()=>vt(t.useValue);else if(iM(t))r=()=>t.useFactory(...Uf(t.deps||[]));else if(rM(t))r=()=>B(vt(t.useExisting));else{let i=vt(t&&(t.useClass||t.provide));if(cM(t))r=()=>new i(...Uf(t.deps));else return ni(i)||Hf(i)}return r}function io(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function cM(t){return!!t.deps}function lM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function dM(t){return typeof t=="function"||typeof t=="object"&&t instanceof V}function qf(t,e){for(let n of t)Array.isArray(n)?qf(n,e):n&&NI(n)?qf(n.\u0275providers,e):e(n)}function _n(t,e){t instanceof ta&&t.assertNotDestroyed();let n,r=_r(t),i=bt(void 0);try{return e()}finally{_r(r),bt(i)}}function JI(){return PI()!==void 0||RS()!=null}function hM(t){if(!JI())throw new q(-203,!1)}function fM(t){return typeof t=="function"}var Hn=0,ue=1,Q=2,wt=3,en=4,rn=5,Fc=6,Vc=7,tn=8,po=9,Vn=10,Ye=11,na=12,Xw=13,Do=14,mn=15,go=16,oo=17,mo=18,ol=19,XI=20,wr=21,Tf=22,$t=23,nn=25,eE=1;var ri=7,Lc=8,jc=9,Ht=10,Uc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Uc||{});function Ir(t){return Array.isArray(t)&&typeof t[eE]=="object"}function qn(t){return Array.isArray(t)&&t[eE]===!0}function tE(t){return(t.flags&4)!==0}function sl(t){return t.componentOffset>-1}function Fp(t){return(t.flags&1)===1}function Cr(t){return!!t.template}function zf(t){return(t[Q]&512)!==0}var Gf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function nE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function hi(){return rE}function rE(t){return t.type.prototype.ngOnChanges&&(t.setInput=gM),pM}hi.ngInherit=!0;function pM(){let t=oE(this),e=t?.current;if(e){let n=t.previous;if(n===lo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function gM(t,e,n,r,i){let o=this.declaredInputs[r],s=oE(t)||mM(t,{previous:lo,current:null}),u=s.current||(s.current={}),c=s.previous,l=c[o];u[o]=new Gf(l&&l.currentValue,n,c===lo),nE(t,e,i,n)}var iE="__ngSimpleChanges__";function oE(t){return t[iE]||null}function mM(t,e){return t[iE]=e}var eI=null;var fn=function(t,e,n){eI?.(t,e,n)},yM="svg",vM="math";function yn(t){for(;Array.isArray(t);)t=t[Hn];return t}function sE(t,e){return yn(e[t])}function zt(t,e){return yn(e[t.index])}function aE(t,e){return t.data[e]}function uE(t,e){return t[e]}function Tr(t,e){let n=e[t];return Ir(n)?n:n[Hn]}function Vp(t){return(t[Q]&128)===128}function _M(t){return qn(t[wt])}function Bc(t,e){return e==null?null:t[e]}function cE(t){t[oo]=0}function lE(t){t[Q]&1024||(t[Q]|=1024,Vp(t)&&ul(t))}function wM(t,e){for(;t>0;)e=e[Do],t--;return e}function al(t){return!!(t[Q]&9216||t[$t]?.dirty)}function Wf(t){t[Vn].changeDetectionScheduler?.notify(8),t[Q]&64&&(t[Q]|=1024),al(t)&&ul(t)}function ul(t){t[Vn].changeDetectionScheduler?.notify(0);let e=ii(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Vp(e)));)e=ii(e)}function dE(t,e){if((t[Q]&256)===256)throw new q(911,!1);t[wr]===null&&(t[wr]=[]),t[wr].push(e)}function IM(t,e){if(t[wr]===null)return;let n=t[wr].indexOf(e);n!==-1&&t[wr].splice(n,1)}function ii(t){let e=t[wt];return qn(e)?e[wt]:e}var ae={lFrame:wE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var hE=!1;function EM(){return ae.lFrame.elementDepthCount}function DM(){ae.lFrame.elementDepthCount++}function CM(){ae.lFrame.elementDepthCount--}function fE(){return ae.bindingsEnabled}function bM(){return ae.skipHydrationRootTNode!==null}function TM(t){return ae.skipHydrationRootTNode===t}function AM(){ae.skipHydrationRootTNode=null}function Se(){return ae.lFrame.lView}function Tt(){return ae.lFrame.tView}function fi(t){return ae.lFrame.contextLView=t,t[tn]}function pi(t){return ae.lFrame.contextLView=null,t}function At(){let t=pE();for(;t!==null&&t.type===64;)t=t.parent;return t}function pE(){return ae.lFrame.currentTNode}function SM(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function aa(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function gE(){return ae.lFrame.isParent}function MM(){ae.lFrame.isParent=!1}function xM(){return ae.lFrame.contextLView}function mE(){return hE}function tI(t){hE=t}function RM(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function NM(t){return ae.lFrame.bindingIndex=t}function cl(){return ae.lFrame.bindingIndex++}function PM(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function kM(){return ae.lFrame.inI18n}function OM(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,Kf(e)}function FM(){return ae.lFrame.currentDirectiveIndex}function Kf(t){ae.lFrame.currentDirectiveIndex=t}function VM(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function yE(t){ae.lFrame.currentQueryIndex=t}function LM(t){let e=t[ue];return e.type===2?e.declTNode:e.type===1?t[rn]:null}function vE(t,e,n){if(n&se.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=LM(o),i===null||(o=o[Do],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ae.lFrame=_E();return r.currentTNode=e,r.lView=t,!0}function Lp(t){let e=_E(),n=t[ue];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _E(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?wE(t):e}function wE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function IE(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var EE=IE;function jp(){let t=IE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function jM(t){return(ae.lFrame.contextLView=wM(t,ae.lFrame.contextLView))[tn]}function Co(){return ae.lFrame.selectedIndex}function oi(t){ae.lFrame.selectedIndex=t}function Up(){let t=ae.lFrame;return aE(t.tView,t.selectedIndex)}function UM(){return ae.lFrame.currentNamespace}var DE=!0;function Bp(){return DE}function $p(t){DE=t}function BM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=rE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Hp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:u,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),u&&((t.contentHooks??=[]).push(n,u),(t.contentCheckHooks??=[]).push(n,u)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Sc(t,e,n){CE(t,e,3,n)}function Mc(t,e,n,r){(t[Q]&3)===n&&CE(t,e,n,r)}function Af(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function CE(t,e,n,r){let i=r!==void 0?t[oo]&65535:0,o=r??-1,s=e.length-1,u=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(u=e[c],r!=null&&u>=r)break}else e[c]<0&&(t[oo]+=65536),(u<o||o==-1)&&($M(t,n,e,c),t[oo]=(t[oo]&4294901760)+c+2),c++}function nI(t,e){fn(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),fn(5,t,e)}}function $M(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],u=t[s];i?t[Q]>>14<t[oo]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,nI(u,o)):nI(u,o)}var co=-1,si=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function HM(t){return t instanceof si}function qM(t){return(t.flags&8)!==0}function zM(t){return(t.flags&16)!==0}var Sf={},Qf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=rl(r);let i=this.injector.get(e,Sf,r);return i!==Sf||n===Sf?i:this.parentInjector.get(e,n,r)}};function bE(t){return t!==co}function $c(t){return t&32767}function GM(t){return t>>16}function Hc(t,e){let n=GM(t),r=e;for(;n>0;)r=r[Do],n--;return r}var Yf=!0;function qc(t){let e=Yf;return Yf=t,e}var WM=256,TE=WM-1,AE=5,KM=0,pn={};function QM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Js)&&(r=n[Js]),r==null&&(r=n[Js]=KM++);let i=r&TE,o=1<<i;e.data[t+(i>>AE)]|=o}function zc(t,e){let n=SE(t,e);if(n!==-1)return n;let r=e[ue];r.firstCreatePass&&(t.injectorIndex=e.length,Mf(r.data,t),Mf(e,null),Mf(r.blueprint,null));let i=qp(t,e),o=t.injectorIndex;if(bE(i)){let s=$c(i),u=Hc(i,e),c=u[ue].data;for(let l=0;l<8;l++)e[o+l]=u[s+l]|c[s+l]}return e[o+8]=i,o}function Mf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function SE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function qp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=PE(i),r===null)return co;if(n++,i=i[Do],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return co}function Zf(t,e,n){QM(t,e,n)}function ME(t,e,n){if(n&se.Optional||t!==void 0)return t;xp(e,"NodeInjector")}function xE(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[po],o=bt(void 0);try{return i?i.get(e,r,n&se.Optional):kI(e,r,n&se.Optional)}finally{bt(o)}}return ME(r,e,n)}function RE(t,e,n,r=se.Default,i){if(t!==null){if(e[Q]&2048&&!(r&se.Self)){let s=ex(t,e,n,r,pn);if(s!==pn)return s}let o=NE(t,e,n,r,pn);if(o!==pn)return o}return xE(e,n,r,i)}function NE(t,e,n,r,i){let o=JM(n);if(typeof o=="function"){if(!vE(e,t,r))return r&se.Host?ME(i,n,r):xE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&se.Optional))xp(n);else return s}finally{EE()}}else if(typeof o=="number"){let s=null,u=SE(t,e),c=co,l=r&se.Host?e[mn][rn]:null;for((u===-1||r&se.SkipSelf)&&(c=u===-1?qp(t,e):e[u+8],c===co||!iI(r,!1)?u=-1:(s=e[ue],u=$c(c),e=Hc(c,e)));u!==-1;){let f=e[ue];if(rI(o,u,f.data)){let p=YM(u,e,n,s,r,l);if(p!==pn)return p}c=e[u+8],c!==co&&iI(r,e[ue].data[u+8]===l)&&rI(o,u,e)?(s=f,u=$c(c),e=Hc(c,e)):u=-1}}return i}function YM(t,e,n,r,i,o){let s=e[ue],u=s.data[t+8],c=r==null?sl(u)&&Yf:r!=s&&(u.type&3)!==0,l=i&se.Host&&o===u,f=ZM(u,s,n,c,l);return f!==null?yo(e,s,f,u):pn}function ZM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,u=o&1048575,c=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?u:u+f,m=i?u+f:l;for(let v=p;v<m;v++){let T=s[v];if(v<c&&n===T||v>=c&&T.type===n)return v}if(i){let v=s[c];if(v&&Cr(v)&&v.type===n)return c}return null}function yo(t,e,n,r){let i=t[n],o=e.data;if(HM(i)){let s=i;s.resolving&&TS(bS(o[n]));let u=qc(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?bt(s.injectImpl):null,f=vE(t,r,se.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&BM(n,o[n],e)}finally{l!==null&&bt(l),qc(u),s.resolving=!1,EE()}}return i}function JM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Js)?t[Js]:void 0;return typeof e=="number"?e>=0?e&TE:XM:e}function rI(t,e,n){let r=1<<t;return!!(n[e+(t>>AE)]&r)}function iI(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var ti=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return RE(this._tNode,this._lView,e,rl(r),n)}};function XM(){return new ti(At(),Se())}function bo(t){return oa(()=>{let e=t.prototype.constructor,n=e[Nc]||Jf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Nc]||Jf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Jf(t){return SI(t)?()=>{let e=Jf(vt(t));return e&&e()}:ni(t)}function ex(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let u=NE(o,s,n,r|se.Self,pn);if(u!==pn)return u;let c=o.parent;if(!c){let l=s[XI];if(l){let f=l.get(n,pn,r);if(f!==pn)return f}c=PE(s),s=s[Do]}o=c}return i}function PE(t){let e=t[ue],n=e.type;return n===2?e.declTNode:n===1?t[rn]:null}function oI(t,e=null,n=null,r){let i=kE(t,e,n,r);return i.resolveInjectorInitializers(),i}function kE(t,e=null,n=null,r,i=new Set){let o=[n||Bt,tM(t)];return r=r||(typeof t=="object"?void 0:_t(t)),new ta(o,e||Op(),r||null,i)}var Xr=class Xr{static create(e,n){if(Array.isArray(e))return oI({name:""},n,e,"");{let r=e.name??"";return oI({name:r},e.parent,e.providers,r)}}};Xr.THROW_IF_NOT_FOUND=Xs,Xr.NULL=new Oc,Xr.\u0275prov=H({token:Xr,providedIn:"any",factory:()=>B(VI)}),Xr.__NG_ELEMENT_ID__=-1;var nt=Xr;var tx=new V("");tx.__NG_ELEMENT_ID__=t=>{let e=At();if(e===null)throw new q(204,!1);if(e.type&2)return e.value;if(t&se.Optional)return null;throw new q(204,!1)};var nx="ngOriginalError";function xf(t){return t[nx]}var OE=!0,zp=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rx,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Xf=class extends zp{constructor(e){super(),this._lView=e}onDestroy(e){return dE(this._lView,e),()=>IM(this._lView,e)}};function rx(){return new Xf(Se())}var To=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var ep=class extends Pe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,JI()&&(this.destroyRef=P(zp,{optional:!0})??void 0,this.pendingTasks=P(To,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let u=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(u),u}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},He=ep;function Gc(...t){}function FE(t){let e,n;function r(){t=Gc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function sI(t){return queueMicrotask(()=>t()),()=>{t=Gc}}var Gp="isAngularZone",Wc=Gp+"_ID",ix=0,ge=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new He(!1),this.onMicrotaskEmpty=new He(!1),this.onStable=new He(!1),this.onError=new He(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=OE}=e;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ax(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Gp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ox,Gc,Gc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ox={};function Wp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){FE(()=>{t.callbackScheduled=!1,tp(t),t.isCheckStableRunning=!0,Wp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),tp(t)}function ax(t){let e=()=>{sx(t)},n=ix++;t._inner=t._inner.fork({name:"angular",properties:{[Gp]:!0,[Wc]:n,[Wc+n]:!0},onInvokeTask:(r,i,o,s,u,c)=>{if(ux(c))return r.invokeTask(o,s,u,c);try{return aI(t),r.invokeTask(o,s,u,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),uI(t)}},onInvoke:(r,i,o,s,u,c,l)=>{try{return aI(t),r.invoke(o,s,u,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!cx(c)&&e(),uI(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,tp(t),Wp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function tp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function aI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function uI(t){t._nesting--,Wp(t)}var np=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new He,this.onMicrotaskEmpty=new He,this.onStable=new He,this.onError=new He}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function ux(t){return VE(t,"__ignore_ng_zone__")}function cx(t){return VE(t,"__scheduler_tick__")}function VE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Ln=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&xf(e);for(;n&&xf(n);)n=xf(n);return n||null}},lx=new V("",{providedIn:"root",factory:()=>{let t=P(ge),e=P(Ln);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function dx(){return ll(At(),Se())}function ll(t,e){return new gi(zt(t,e))}var gi=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=dx;let t=e;return t})();function LE(t){return(t.flags&128)===128}var jE=new Map,hx=0;function fx(){return hx++}function px(t){jE.set(t[ol],t)}function rp(t){jE.delete(t[ol])}var cI="__ngContext__";function ai(t,e){Ir(e)?(t[cI]=e[ol],px(e)):t[cI]=e}function UE(t){return $E(t[na])}function BE(t){return $E(t[en])}function $E(t){for(;t!==null&&!qn(t);)t=t[en];return t}var ip;function HE(t){ip=t}function gx(){if(ip!==void 0)return ip;if(typeof document<"u")return document;throw new q(210,!1)}var Kp=new V("",{providedIn:"root",factory:()=>mx}),mx="ng",Qp=new V(""),Nt=new V("",{providedIn:"platform",factory:()=>"unknown"});var Yp=new V("",{providedIn:"root",factory:()=>gx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var yx="h",vx="b";var _x=()=>null;function Zp(t,e,n=!1){return _x(t,e,n)}var qE=!1,wx=new V("",{providedIn:"root",factory:()=>qE});var op=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gS})`}};function Jp(t){return t instanceof op?t.changingThisBreaksApplicationSecurity:t}function zE(t){return t instanceof Function?t():t}function Ix(t){return(t??P(nt)).get(Nt)==="browser"}var jn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(jn||{}),Ex;function Xp(t,e){return Ex(t,e)}function so(t,e,n,r,i){if(r!=null){let o,s=!1;qn(r)?o=r:Ir(r)&&(s=!0,r=r[Hn]);let u=yn(r);t===0&&n!==null?i==null?YE(e,n,u):Kc(e,n,u,i||null,!0):t===1&&n!==null?Kc(e,n,u,i||null,!0):t===2?Vx(e,u,s):t===3&&e.destroyNode(u),o!=null&&jx(e,t,o,n,i)}}function Dx(t,e){return t.createText(e)}function Cx(t,e,n){t.setValue(e,n)}function GE(t,e,n){return t.createElement(e,n)}function bx(t,e){WE(t,e),e[Hn]=null,e[rn]=null}function Tx(t,e,n,r,i,o){r[Hn]=i,r[rn]=e,dl(t,r,n,1,i,o)}function WE(t,e){e[Vn].changeDetectionScheduler?.notify(9),dl(t,e,e[Ye],2,null,null)}function Ax(t){let e=t[na];if(!e)return Rf(t[ue],t);for(;e;){let n=null;if(Ir(e))n=e[na];else{let r=e[Ht];r&&(n=r)}if(!n){for(;e&&!e[en]&&e!==t;)Ir(e)&&Rf(e[ue],e),e=e[wt];e===null&&(e=t),Ir(e)&&Rf(e[ue],e),n=e&&e[en]}e=n}}function Sx(t,e,n,r){let i=Ht+r,o=n.length;r>0&&(n[i-1][en]=e),r<o-Ht?(e[en]=n[i],FI(n,Ht+r,e)):(n.push(e),e[en]=null),e[wt]=n;let s=e[go];s!==null&&n!==s&&KE(s,e);let u=e[mo];u!==null&&u.insertView(t),Wf(e),e[Q]|=128}function KE(t,e){let n=t[jc],r=e[wt];if(Ir(r))t[Q]|=Uc.HasTransplantedViews;else{let i=r[wt][mn];e[mn]!==i&&(t[Q]|=Uc.HasTransplantedViews)}n===null?t[jc]=[e]:n.push(e)}function eg(t,e){let n=t[jc],r=n.indexOf(e);n.splice(r,1)}function sp(t,e){if(t.length<=Ht)return;let n=Ht+e,r=t[n];if(r){let i=r[go];i!==null&&i!==t&&eg(i,r),e>0&&(t[n-1][en]=r[en]);let o=kc(t,Ht+e);bx(r[ue],r);let s=o[mo];s!==null&&s.detachView(o[ue]),r[wt]=null,r[en]=null,r[Q]&=-129}return r}function QE(t,e){if(!(e[Q]&256)){let n=e[Ye];n.destroyNode&&dl(t,e,n,3,null,null),Ax(e)}}function Rf(t,e){if(e[Q]&256)return;let n=pe(null);try{e[Q]&=-129,e[Q]|=256,e[$t]&&rf(e[$t]),xx(t,e),Mx(t,e),e[ue].type===1&&e[Ye].destroy();let r=e[go];if(r!==null&&qn(e[wt])){r!==e[wt]&&eg(r,e);let i=e[mo];i!==null&&i.detachView(t)}rp(e)}finally{pe(n)}}function Mx(t,e){let n=t.cleanup,r=e[Vc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Vc]=null);let i=e[wr];if(i!==null){e[wr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function xx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof si)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let u=i[o[s]],c=o[s+1];fn(4,u,c);try{c.call(u)}finally{fn(5,u,c)}}else{fn(4,i,o);try{o.call(i)}finally{fn(5,i,o)}}}}}function Rx(t,e,n){return Nx(t,e.parent,n)}function Nx(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Hn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===gn.None||o===gn.Emulated)return null}return zt(r,n)}}function Kc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function YE(t,e,n){t.appendChild(e,n)}function lI(t,e,n,r,i){r!==null?Kc(t,e,n,r,i):YE(t,e,n)}function ZE(t,e){return t.parentNode(e)}function Px(t,e){return t.nextSibling(e)}function kx(t,e,n){return Fx(t,e,n)}function Ox(t,e,n){return t.type&40?zt(t,n):null}var Fx=Ox,dI;function tg(t,e,n,r){let i=Rx(t,r,e),o=e[Ye],s=r.parent||e[rn],u=kx(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)lI(o,i,n[c],u,!1);else lI(o,i,n,u,!1);dI!==void 0&&dI(o,r,e,n,i)}function Zs(t,e){if(e!==null){let n=e.type;if(n&3)return zt(e,t);if(n&4)return ap(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Zs(t,r);{let i=t[e.index];return qn(i)?ap(-1,i):yn(i)}}else{if(n&128)return Zs(t,e.next);if(n&32)return Xp(e,t)()||yn(t[e.index]);{let r=JE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ii(t[mn]);return Zs(i,r)}else return Zs(t,e.next)}}}return null}function JE(t,e){if(e!==null){let r=t[mn][rn],i=e.projection;return r.projection[i]}return null}function ap(t,e){let n=Ht+t+1;if(n<e.length){let r=e[n],i=r[ue].firstChild;if(i!==null)return Zs(r,i)}return e[ri]}function Vx(t,e,n){t.removeChild(null,e,n)}function ng(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let u=r[n.index],c=n.type;if(s&&e===0&&(u&&ai(yn(u),r),n.flags|=2),(n.flags&32)!==32)if(c&8)ng(t,e,n.child,r,i,o,!1),so(e,t,i,u,o);else if(c&32){let l=Xp(n,r),f;for(;f=l();)so(e,t,i,f,o);so(e,t,i,u,o)}else c&16?Lx(t,e,r,n,i,o):so(e,t,i,u,o);n=s?n.projectionNext:n.next}}function dl(t,e,n,r,i,o){ng(n,r,t.firstChild,e,i,o,!1)}function Lx(t,e,n,r,i,o){let s=n[mn],c=s[rn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let f=c[l];so(e,t,i,f,o)}else{let l=c,f=s[wt];LE(r)&&(l.flags|=128),ng(t,e,l,f,i,o,!0)}}function jx(t,e,n,r,i){let o=n[ri],s=yn(n);o!==s&&so(e,t,r,o,i);for(let u=Ht;u<n.length;u++){let c=n[u];dl(c[ue],c,t,e,r,o)}}function Ux(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:jn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=jn.Important),t.setStyle(n,r,i,o))}}function Bx(t,e,n){t.setAttribute(e,"style",n)}function XE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function eD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Bf(t,e,r),i!==null&&XE(t,e,i),o!==null&&Bx(t,e,o)}var mi={};function je(t=1){tD(Tt(),Se(),Co()+t,!1)}function tD(t,e,n,r){if(!r)if((e[Q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Sc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Mc(e,o,0,n)}oi(n)}function Y(t,e=se.Default){let n=Se();if(n===null)return B(t,e);let r=At();return RE(r,n,vt(t),e)}function nD(){let t="invalid";throw new Error(t)}function rD(t,e,n,r,i,o){let s=pe(null);try{let u=null;i&Er.SignalBased&&(u=e[r][Pn]),u!==null&&u.transformFn!==void 0&&(o=u.transformFn(o)),i&Er.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,u,o,n,r):nE(e,u,r,o)}finally{pe(s)}}function $x(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)oi(~i);else{let o=i,s=n[++r],u=n[++r];OM(s,o);let c=e[o];u(2,c)}}}finally{oi(-1)}}function hl(t,e,n,r,i,o,s,u,c,l,f){let p=e.blueprint.slice();return p[Hn]=i,p[Q]=r|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),cE(p),p[wt]=p[Do]=t,p[tn]=n,p[Vn]=s||t&&t[Vn],p[Ye]=u||t&&t[Ye],p[po]=c||t&&t[po]||null,p[rn]=o,p[ol]=fx(),p[Fc]=f,p[XI]=l,p[mn]=e.type==2?t[mn]:p,p}function fl(t,e,n,r,i){let o=t.data[e];if(o===null)o=Hx(t,e,n,r,i),kM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=SM();o.injectorIndex=s===null?-1:s.injectorIndex}return aa(o,!0),o}function Hx(t,e,n,r,i){let o=pE(),s=gE(),u=s?o:o&&o.parent,c=t.data[e]=Kx(t,u,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function iD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function oD(t,e,n,r,i){let o=Co(),s=r&2;try{oi(-1),s&&e.length>nn&&tD(t,e,nn,!1),fn(s?2:0,i),n(r,i)}finally{oi(o),fn(s?3:1,i)}}function sD(t,e,n){if(tE(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let u=t.data[s];if(u.contentQueries){let c=n[s];u.contentQueries(1,c,s)}}}finally{pe(r)}}}function aD(t,e,n){fE()&&(eR(t,e,n,zt(n,e)),(n.flags&64)===64&&fD(t,e,n))}function uD(t,e,n=zt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],u=s===-1?n(e,t):t[s];t[i++]=u}}}function cD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=rg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function rg(t,e,n,r,i,o,s,u,c,l,f){let p=nn+r,m=p+i,v=qx(p,m),T=typeof l=="function"?l():l;return v[ue]={type:t,blueprint:v,template:n,queries:null,viewQuery:u,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:T,incompleteFirstPass:!1,ssrId:f}}function qx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:mi);return n}function zx(t,e,n,r){let o=r.get(wx,qE)||n===gn.ShadowDom,s=t.selectRootElement(e,o);return Gx(s),s}function Gx(t){Wx(t)}var Wx=()=>null;function Kx(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,u=0;return bM()&&(u|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function hI(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let u,c=Er.None;Array.isArray(s)?(u=s[0],c=s[1]):u=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?fI(r,n,l,u,c):fI(r,n,l,u)}return r}function fI(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function Qx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,u=[],c=null,l=null;for(let f=r;f<i;f++){let p=o[f],m=n?n.get(p):null,v=m?m.inputs:null,T=m?m.outputs:null;c=hI(0,p.inputs,f,c,v),l=hI(1,p.outputs,f,l,T);let M=c!==null&&s!==null&&!Pp(e)?dR(c,f,s):null;u.push(M)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=u,e.inputs=c,e.outputs=l}function Yx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function lD(t,e,n,r,i,o,s,u){let c=zt(e,n),l=e.inputs,f;!u&&l!=null&&(f=l[r])?(ig(t,n,f,r,i),sl(e)&&Zx(n,e.index)):e.type&3?(r=Yx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function Zx(t,e){let n=Tr(e,t);n[Q]&16||(n[Q]|=64)}function dD(t,e,n,r){if(fE()){let i=r===null?null:{"":-1},o=nR(t,n),s,u;o===null?s=u=null:[s,u]=o,s!==null&&hD(t,e,n,s,i,u),i&&rR(n,r,i)}n.mergedAttrs=ea(n.mergedAttrs,n.attrs)}function hD(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Zf(zc(n,e),t,r[l].type);oR(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,u=!1,c=iD(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=ea(n.mergedAttrs,f.hostAttrs),sR(t,n,e,c,f),iR(c,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),c++}Qx(t,n,o)}function Jx(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let u=~e.index;Xx(s)!=u&&s.push(u),s.push(n,r,o)}}function Xx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function eR(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;sl(n)&&aR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||zc(n,e),ai(r,e);let s=n.initialInputs;for(let u=i;u<o;u++){let c=t.data[u],l=yo(e,t,u,n);if(ai(l,e),s!==null&&lR(e,u-i,l,c,n,s),Cr(c)){let f=Tr(n.index,e);f[tn]=yo(e,t,u,n)}}}function fD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=FM();try{oi(o);for(let u=r;u<i;u++){let c=t.data[u],l=e[u];Kf(u),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&tR(c,l)}}finally{oi(-1),Kf(s)}}function tR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function nR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(GS(e,s.selectors,!1))if(r||(r=[]),Cr(s))if(s.findHostDirectiveDefs!==null){let u=[];i=i||new Map,s.findHostDirectiveDefs(s,u,i),r.unshift(...u,s);let c=u.length;up(t,e,c)}else r.unshift(s),up(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function up(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function rR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new q(-301,!1);r.push(e[i],o)}}}function iR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Cr(e)&&(n[""]=t)}}function oR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function sR(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ni(i.type,!0)),s=new si(o,Cr(i),Y);t.blueprint[r]=s,n[r]=s,Jx(t,e,r,iD(t,n,i.hostVars,mi),i)}function aR(t,e,n){let r=zt(e,t),i=cD(n),o=t[Vn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let u=pl(t,hl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=u}function uR(t,e,n,r,i,o){let s=zt(t,e);cR(e[Ye],s,o,t.value,n,r,i)}function cR(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let u=s==null?Mp(o):s(o,r||"",i);t.setAttribute(e,i,u,n)}}function lR(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let u=0;u<s.length;){let c=s[u++],l=s[u++],f=s[u++],p=s[u++];rD(r,n,c,l,f,p)}}function dR(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let u=0;u<s.length;u+=3)if(s[u]===e){r.push(o,s[u+1],s[u+2],n[i+1]);break}}i+=2}return r}function pD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function gD(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let u=t.data[s];yE(o),u.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function pl(t,e){return t[na]?t[Xw][en]=e:t[na]=e,t[Xw]=e,e}function cp(t,e,n){yE(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function hR(t){return t[Vc]??=[]}function fR(t){return t.cleanup??=[]}function mD(t,e){let n=t[po],r=n?n.get(Ln,null):null;r&&r.handleError(e)}function ig(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],u=n[o++],c=n[o++],l=e[s],f=t.data[s];rD(f,l,r,u,c,i)}}function pR(t,e,n){let r=sE(e,t);Cx(t[Ye],r,n)}function gR(t,e){let n=Tr(e,t),r=n[ue];mR(r,n);let i=n[Hn];i!==null&&n[Fc]===null&&(n[Fc]=Zp(i,n[po])),og(r,n,n[tn])}function mR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function og(t,e,n){Lp(e);try{let r=t.viewQuery;r!==null&&cp(1,r,n);let i=t.template;i!==null&&oD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[mo]?.finishViewCreation(t),t.staticContentQueries&&gD(t,e),t.staticViewQueries&&cp(2,t.viewQuery,n);let o=t.components;o!==null&&yR(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,jp()}}function yR(t,e){for(let n=0;n<e.length;n++)gR(t,e[n])}function vR(t,e,n,r){let i=pe(null);try{let o=e.tView,u=t[Q]&4096?4096:16,c=hl(t,o,n,u,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[go]=l;let f=t[mo];return f!==null&&(c[mo]=f.createEmbeddedView(o)),og(o,c,n),c}finally{pe(i)}}function pI(t,e){return!e||e.firstChild===null||LE(t)}function _R(t,e,n,r=!0){let i=e[ue];if(Sx(i,e,t,n),r){let s=ap(n,t),u=e[Ye],c=ZE(u,t[ri]);c!==null&&Tx(i,t[rn],u,e,c,s)}let o=e[Fc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Qc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(yn(o)),qn(o)&&wR(o,r);let s=n.type;if(s&8)Qc(t,e,n.child,r);else if(s&32){let u=Xp(n,e),c;for(;c=u();)r.push(c)}else if(s&16){let u=JE(e,n);if(Array.isArray(u))r.push(...u);else{let c=ii(e[mn]);Qc(c[ue],c,u,r,!0)}}n=i?n.projectionNext:n.next}return r}function wR(t,e){for(let n=Ht;n<t.length;n++){let r=t[n],i=r[ue].firstChild;i!==null&&Qc(r[ue],r,i,e)}t[ri]!==t[Hn]&&e.push(t[ri])}var yD=[];function IR(t){return t[$t]??ER(t)}function ER(t){let e=yD.pop()??Object.create(CR);return e.lView=t,e}function DR(t){t.lView[$t]!==t&&(t.lView=null,yD.push(t))}var CR=he(O({},qs),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ul(t.lView)},consumerOnSignalRead(){this.lView[$t]=this}});function bR(t){let e=t[$t]??Object.create(TR);return e.lView=t,e}var TR=he(O({},qs),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ii(t.lView);for(;e&&!vD(e[ue]);)e=ii(e);e&&lE(e)},consumerOnSignalRead(){this.lView[$t]=this}});function vD(t){return t.type!==2}var AR=100;function _D(t,e=!0,n=0){let r=t[Vn],i=r.rendererFactory,o=!1;o||i.begin?.();try{SR(t,n)}catch(s){throw e&&mD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function SR(t,e){let n=mE();try{tI(!0),lp(t,e);let r=0;for(;al(t);){if(r===AR)throw new q(103,!1);r++,lp(t,1)}}finally{tI(n)}}function MR(t,e,n,r){let i=e[Q];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Vn].inlineEffectRunner?.flush(),Lp(e);let u=!0,c=null,l=null;o||(vD(t)?(l=IR(e),c=qu(l)):uw()===null?(u=!1,l=bR(e),c=qu(l)):e[$t]&&(rf(e[$t]),e[$t]=null));try{cE(e),NM(t.bindingStartIndex),n!==null&&oD(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let v=t.preOrderCheckHooks;v!==null&&Sc(e,v,null)}else{let v=t.preOrderHooks;v!==null&&Mc(e,v,0,null),Af(e,0)}if(s||xR(e),wD(e,0),t.contentQueries!==null&&gD(t,e),!o)if(f){let v=t.contentCheckHooks;v!==null&&Sc(e,v)}else{let v=t.contentHooks;v!==null&&Mc(e,v,1),Af(e,1)}$x(t,e);let p=t.components;p!==null&&ED(e,p,0);let m=t.viewQuery;if(m!==null&&cp(2,m,r),!o)if(f){let v=t.viewCheckHooks;v!==null&&Sc(e,v)}else{let v=t.viewHooks;v!==null&&Mc(e,v,2),Af(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Tf]){for(let v of e[Tf])v();e[Tf]=null}o||(e[Q]&=-73)}catch(f){throw o||ul(e),f}finally{l!==null&&(tf(l,c),u&&DR(l)),jp()}}function wD(t,e){for(let n=UE(t);n!==null;n=BE(n))for(let r=Ht;r<n.length;r++){let i=n[r];ID(i,e)}}function xR(t){for(let e=UE(t);e!==null;e=BE(e)){if(!(e[Q]&Uc.HasTransplantedViews))continue;let n=e[jc];for(let r=0;r<n.length;r++){let i=n[r];lE(i)}}}function RR(t,e,n){let r=Tr(e,t);ID(r,n)}function ID(t,e){Vp(t)&&lp(t,e)}function lp(t,e){let r=t[ue],i=t[Q],o=t[$t],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&nf(o)),s||=!1,o&&(o.dirty=!1),t[Q]&=-9217,s)MR(r,t,r.template,t[tn]);else if(i&8192){wD(t,1);let u=r.components;u!==null&&ED(t,u,1)}}function ED(t,e,n){for(let r=0;r<e.length;r++)RR(t,e[r],n)}function sg(t,e){let n=mE()?64:1088;for(t[Vn].changeDetectionScheduler?.notify(e);t;){t[Q]|=n;let r=ii(t);if(zf(t)&&!r)return t;t=r}return null}var ui=class{get rootNodes(){let e=this._lView,n=e[ue];return Qc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tn]}set context(e){this._lView[tn]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[wt];if(qn(e)){let n=e[Lc],r=n?n.indexOf(this):-1;r>-1&&(sp(e,r),kc(n,r))}this._attachedToViewContainer=!1}QE(this._lView[ue],this._lView)}onDestroy(e){dE(this._lView,e)}markForCheck(){sg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Wf(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,_D(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=zf(this._lView),n=this._lView[go];n!==null&&!e&&eg(n,this._lView),WE(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e;let n=zf(this._lView),r=this._lView[go];r!==null&&!n&&KE(r,this._lView),Wf(this._lView)}},gl=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=kR;let t=e;return t})(),NR=gl,PR=class extends NR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=vR(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ui(i)}};function kR(){return DD(At(),Se())}function DD(t,e){return t.type&4?new PR(e,t,ll(t,e)):null}var jq=new RegExp(`^(\\d+)*(${vx}|${yx})*(.*)`);var OR=()=>null;function gI(t,e){return OR(t,e)}var vo=class{},ag=new V("",{providedIn:"root",factory:()=>!1});var CD=new V(""),bD=new V(""),dp=class{},Yc=class{};function FR(t){let e=Error(`No component factory found for ${_t(t)}.`);return e[VR]=t,e}var VR="ngComponent";var hp=class{resolveComponentFactory(e){throw FR(e)}},hg=class hg{};hg.NULL=new hp;var _o=hg,wo=class{},Ao=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>LR();let t=e;return t})();function LR(){let t=Se(),e=At(),n=Tr(e.index,t);return(Ir(n)?n:t)[Ye]}var jR=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function fp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let u=e[s];if(typeof u=="number")o=u;else if(o==1)i=Hw(i,u);else if(o==2){let c=u,l=e[++s];r=Hw(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Zc=class extends _o{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Dr(e);return new Io(n,this.ngModule)}};function mI(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,u=o?i[1]:Er.None;e?n.push({propName:s,templateName:r,isSignal:(u&Er.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function UR(t){let e=t.toLowerCase();return e==="svg"?yM:e==="math"?vM:null}var Io=class extends Yc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=mI(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return mI(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=YS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=pe(null);try{i=i||this.ngModule;let s=i instanceof Rt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let u=s?new Qf(e,s):e,c=u.get(wo,null);if(c===null)throw new q(407,!1);let l=u.get(jR,null),f=u.get(vo,null),p={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},m=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",T=r?zx(m,r,this.componentDef.encapsulation,u):GE(m,v,UR(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let S=null;T!==null&&(S=Zp(T,u,!0));let F=rg(0,null,null,1,0,null,null,null,null,null,null),$=hl(null,F,null,M,null,null,p,m,u,null,S);Lp($);let j,Z,De=null;try{let ie=this.componentDef,E,y=null;ie.findHostDirectiveDefs?(E=[],y=new Map,ie.findHostDirectiveDefs(ie,E,y),E.push(ie)):E=[ie];let w=BR($,T);De=$R(w,T,ie,E,$,p,m),Z=aE(F,nn),T&&zR(m,ie,T,r),n!==void 0&&GR(Z,this.ngContentSelectors,n),j=qR(De,ie,E,y,$,[WR]),og(F,$,null)}catch(ie){throw De!==null&&rp(De),rp($),ie}finally{jp()}return new pp(this.componentType,j,ll(Z,$),$,Z)}finally{pe(o)}}},pp=class extends dp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ui(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;ig(o[ue],o,i,e,n),this.previousInputValues.set(e,n);let s=Tr(this._tNode.index,o);sg(s,1)}}get injector(){return new ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BR(t,e){let n=t[ue],r=nn;return t[r]=e,fl(n,r,2,"#host",null)}function $R(t,e,n,r,i,o,s){let u=i[ue];HR(r,t,e,s);let c=null;e!==null&&(c=Zp(e,i[po]));let l=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=hl(i,cD(n),null,f,i[t.index],t,o,l,null,null,c);return u.firstCreatePass&&up(u,t,r.length-1),pl(i,p),i[t.index]=p}function HR(t,e,n,r){for(let i of t)e.mergedAttrs=ea(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(fp(e,e.mergedAttrs,!0),n!==null&&eD(r,n,e))}function qR(t,e,n,r,i,o){let s=At(),u=i[ue],c=zt(s,i);hD(u,i,s,n,null,r);for(let f=0;f<n.length;f++){let p=s.directiveStart+f,m=yo(i,u,p,s);ai(m,i)}fD(u,i,s),c&&ai(c,i);let l=yo(i,u,s.directiveStart+s.componentOffset,s);if(t[tn]=i[tn]=l,o!==null)for(let f of o)f(l,e);return sD(u,s,i),l}function zR(t,e,n,r){if(r)Bf(t,n,["ng-version","18.2.4"]);else{let{attrs:i,classes:o}=ZS(e.selectors[0]);i&&Bf(t,n,i),o&&o.length>0&&XE(t,n,o.join(" "))}}function GR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function WR(){let t=At();Hp(Se()[ue],t)}var So=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=KR;let t=e;return t})();function KR(){let t=At();return YR(t,Se())}var QR=So,TD=class extends QR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ll(this._hostTNode,this._hostLView)}get injector(){return new ti(this._hostTNode,this._hostLView)}get parentInjector(){let e=qp(this._hostTNode,this._hostLView);if(bE(e)){let n=Hc(e,this._hostLView),r=$c(e),i=n[ue].data[r+8];return new ti(i,n)}else return new ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=yI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ht}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=gI(this._lContainer,e.ssrId),u=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(u,i,pI(this._hostTNode,s)),u}createComponent(e,n,r,i,o){let s=e&&!fM(e),u;if(s)u=n;else{let T=n||{};u=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let c=s?e:new Io(Dr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let M=(s?l:this.parentInjector).get(Rt,null);M&&(o=M)}let f=Dr(c.componentType??{}),p=gI(this._lContainer,f?.id??null),m=p?.firstChild??null,v=c.create(l,i,m,o);return this.insertImpl(v.hostView,u,pI(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(_M(i)){let u=this.indexOf(e);if(u!==-1)this.detach(u);else{let c=i[wt],l=new TD(c,c[rn],c[wt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return _R(s,i,o,r),e.attachToViewContainerRef(),FI(Nf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=yI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=sp(this._lContainer,n);r&&(kc(Nf(this._lContainer),n),QE(r[ue],r))}detach(e){let n=this._adjustIndex(e,-1),r=sp(this._lContainer,n);return r&&kc(Nf(this._lContainer),n)!=null?new ui(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function yI(t){return t[Lc]}function Nf(t){return t[Lc]||(t[Lc]=[])}function YR(t,e){let n,r=e[t.index];return qn(r)?n=r:(n=pD(r,e,null,t),e[t.index]=n,pl(e,n)),JR(n,e,t,r),new TD(n,t,e)}function ZR(t,e){let n=t[Ye],r=n.createComment(""),i=zt(e,t),o=ZE(n,i);return Kc(n,o,r,Px(n,i),!1),r}var JR=tN,XR=()=>!1;function eN(t,e,n){return XR(t,e,n)}function tN(t,e,n,r){if(t[ri])return;let i;n.type&8?i=yn(r):i=ZR(e,n),t[ri]=i}var vI=new Set;function Mo(t){vI.has(t)||(vI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function nN(t){return typeof t=="function"&&t[Pn]!==void 0}function ua(t,e){Mo("NgSignals");let n=_w(t),r=n[Pn];return e?.equal&&(r.equal=e.equal),n.set=i=>of(r,i),n.update=i=>ww(r,i),n.asReadonly=rN.bind(n),n}function rN(){let t=this[Pn];if(t.readonlyFn===void 0){let e=()=>this();e[Pn]=t,t.readonlyFn=e}return t.readonlyFn}function AD(t){return nN(t)&&typeof t.set=="function"}function iN(t){return Object.getPrototypeOf(t.prototype).constructor}function zn(t){let e=iN(t.type),n=!0,r=[t];for(;e;){let i;if(Cr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Cc(t.inputs),s.inputTransforms=Cc(t.inputTransforms),s.declaredInputs=Cc(t.declaredInputs),s.outputs=Cc(t.outputs);let u=i.hostBindings;u&&cN(t,u);let c=i.viewQuery,l=i.contentQueries;if(c&&aN(t,c),l&&uN(t,l),oN(t,i),yS(t.outputs,i.outputs),Cr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let u=o[s];u&&u.ngInherit&&u(t),u===zn&&(n=!1)}}e=Object.getPrototypeOf(e)}sN(r)}function oN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function sN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ea(i.hostAttrs,n=ea(n,i.hostAttrs))}}function Cc(t){return t===lo?{}:t===Bt?[]:t}function aN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function uN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function cN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var br=class{},ra=class{};var gp=class extends br{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zc(this);let o=zI(e);this._bootstrapComponents=zE(o.bootstrap),this._r3Injector=kE(e,n,[{provide:br,useValue:this},{provide:_o,useValue:this.componentFactoryResolver},...r],_t(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},mp=class extends ra{constructor(e){super(),this.moduleType=e}create(e){return new gp(this.moduleType,e,[])}};var Jc=class extends br{constructor(e){super(),this.componentFactoryResolver=new Zc(this),this.instance=null;let n=new ta([...e.providers,{provide:br,useValue:this},{provide:_o,useValue:this.componentFactoryResolver}],e.parent||Op(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ml(t,e,n=null){return new Jc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function SD(t){return dN(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function lN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function dN(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function hN(t,e,n){return t[e]=n}function ci(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function fN(t,e,n,r){let i=ci(t,e,n);return ci(t,e+1,r)||i}function pN(t){return(t.flags&32)===32}function gN(t,e,n,r,i,o,s,u,c){let l=e.consts,f=fl(e,t,4,s||null,u||null);dD(e,n,f,Bc(l,c)),Hp(e,f);let p=f.tView=rg(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function mN(t,e,n,r,i,o,s,u,c,l){let f=n+nn,p=e.firstCreatePass?gN(f,e,t,r,i,o,s,u,c):e.data[f];aa(p,!1);let m=yN(e,t,p,n);Bp()&&tg(e,t,m,p),ai(m,t);let v=pD(m,t,m,p);return t[f]=v,pl(t,v),eN(v,p,t),Fp(p)&&aD(e,t,p),c!=null&&uD(t,p,l),p}function Gn(t,e,n,r,i,o,s,u){let c=Se(),l=Tt(),f=Bc(l.consts,o);return mN(c,l,t,e,n,r,i,f,s,u),Gn}var yN=vN;function vN(t,e,n,r){return $p(!0),e[Ye].createComment("")}var ao=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ao||{}),MD=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),ei=class ei{constructor(){this.ngZone=P(ge),this.scheduler=P(vo),this.errorHandler=P(Ln,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of ei.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};ei.PHASES=[ao.EarlyRead,ao.Write,ao.MixedReadWrite,ao.Read],ei.\u0275prov=H({token:ei,providedIn:"root",factory:()=>new ei});var yp=ei,vp=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function ug(t,e){!e?.injector&&hM(ug);let n=e?.injector??P(nt);return Ix(n)?(Mo("NgAfterNextRender"),wN(t,n,e,!0)):IN}function _N(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function wN(t,e,n,r){let i=e.get(MD);i.impl??=e.get(yp);let o=n?.phase??ao.MixedReadWrite,s=new vp(i.impl,_N(t,o),r,e.get(zp));return i.impl.register(s),s}var IN={destroy(){}};function yl(t,e,n,r){let i=Se(),o=cl();if(ci(i,o,e)){let s=Tt(),u=Up();uR(u,i,t,e,n,r)}return yl}function EN(t,e,n,r){return ci(t,cl(),n)?e+Mp(n)+r:mi}function bc(t,e){return t<<17|e<<2}function li(t){return t>>17&32767}function DN(t){return(t&2)==2}function CN(t,e){return t&131071|e<<17}function _p(t){return t|2}function Eo(t){return(t&131068)>>2}function Pf(t,e){return t&-131069|e<<2}function bN(t){return(t&1)===1}function wp(t){return t|1}function TN(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,u=li(s),c=Eo(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||sa(p,f)>0)&&(l=!0)}else f=n;if(i)if(c!==0){let m=li(t[u+1]);t[r+1]=bc(m,u),m!==0&&(t[m+1]=Pf(t[m+1],r)),t[u+1]=CN(t[u+1],r)}else t[r+1]=bc(u,0),u!==0&&(t[u+1]=Pf(t[u+1],r)),u=r;else t[r+1]=bc(c,0),u===0?u=r:t[c+1]=Pf(t[c+1],r),c=r;l&&(t[r+1]=_p(t[r+1])),_I(t,f,r,!0),_I(t,f,r,!1),AN(e,f,t,r,o),s=bc(u,c),o?e.classBindings=s:e.styleBindings=s}function AN(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&sa(o,e)>=0&&(n[r+1]=wp(n[r+1]))}function _I(t,e,n,r){let i=t[n+1],o=e===null,s=r?li(i):Eo(i),u=!1;for(;s!==0&&(u===!1||o);){let c=t[s],l=t[s+1];SN(c,e)&&(u=!0,t[s+1]=r?wp(l):_p(l)),s=r?li(l):Eo(l)}u&&(t[n+1]=r?_p(i):wp(i))}function SN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?sa(t,e)>=0:!1}function wn(t,e,n){let r=Se(),i=cl();if(ci(r,i,e)){let o=Tt(),s=Up();lD(o,s,r,t,e,r[Ye],n,!1)}return wn}function wI(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";ig(t,n,o[s],s,r)}function vl(t,e){return MN(t,e,null,!0),vl}function MN(t,e,n,r){let i=Se(),o=Tt(),s=PM(2);if(o.firstUpdatePass&&RN(o,t,s,r),e!==mi&&ci(i,s,e)){let u=o.data[Co()];FN(o,u,i,i[Ye],t,i[s+1]=VN(e,n),r,s)}}function xN(t,e){return e>=t.expandoStartIndex}function RN(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Co()],s=xN(t,n);LN(o,r)&&e===null&&!s&&(e=!1),e=NN(i,o,e,r),TN(i,o,e,n,s,r)}}function NN(t,e,n,r){let i=VM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=kf(null,t,e,n,r),n=ia(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=kf(i,t,e,n,r),o===null){let c=PN(t,e,r);c!==void 0&&Array.isArray(c)&&(c=kf(null,t,e,c[1],r),c=ia(c,e.attrs,r),kN(t,e,r,c))}else o=ON(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function PN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Eo(r)!==0)return t[li(r)]}function kN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[li(i)]=r}function ON(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ia(r,s,n)}return ia(r,e.attrs,n)}function kf(t,e,n,r,i){let o=null,s=n.directiveEnd,u=n.directiveStylingLast;for(u===-1?u=n.directiveStart:u++;u<s&&(o=e[u],r=ia(r,o.hostAttrs,i),o!==t);)u++;return t!==null&&(n.directiveStylingLast=u),r}function ia(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),VS(t,s,n?!0:e[++o]))}return t===void 0?null:t}function FN(t,e,n,r,i,o,s,u){if(!(e.type&3))return;let c=t.data,l=c[u+1],f=bN(l)?II(c,e,n,i,Eo(l),s):void 0;if(!Xc(f)){Xc(o)||DN(l)&&(o=II(c,null,n,i,u,s));let p=sE(Co(),n);Ux(r,s,p,i,o)}}function II(t,e,n,r,i,o){let s=e===null,u;for(;i>0;){let c=t[i],l=Array.isArray(c),f=l?c[1]:c,p=f===null,m=n[i+1];m===mi&&(m=p?Bt:void 0);let v=p?Cf(m,r):f===r?m:void 0;if(l&&!Xc(v)&&(v=Cf(c,r)),Xc(v)&&(u=v,s))return u;let T=t[i+1];i=s?li(T):Eo(T)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(u=Cf(c,r))}return u}function Xc(t){return t!==void 0}function VN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=_t(Jp(t)))),t}function LN(t,e){return(t.flags&(e?8:16))!==0}function jN(t,e,n,r,i,o){let s=e.consts,u=Bc(s,i),c=fl(e,t,2,r,u);return dD(e,n,c,Bc(s,o)),c.attrs!==null&&fp(c,c.attrs,!1),c.mergedAttrs!==null&&fp(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ne(t,e,n,r){let i=Se(),o=Tt(),s=nn+t,u=i[Ye],c=o.firstCreatePass?jN(s,o,i,e,n,r):o.data[s],l=UN(o,i,c,u,e,t);i[s]=l;let f=Fp(c);return aa(c,!0),eD(u,l,c),!pN(c)&&Bp()&&tg(o,i,l,c),EM()===0&&ai(l,i),DM(),f&&(aD(o,i,c),sD(o,c,i)),r!==null&&uD(i,c),ne}function X(){let t=At();gE()?MM():(t=t.parent,aa(t,!1));let e=t;TM(e)&&AM(),CM();let n=Tt();return n.firstCreatePass&&(Hp(n,t),tE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&qM(e)&&wI(n,e,Se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&zM(e)&&wI(n,e,Se(),e.stylesWithoutHost,!1),X}function Wn(t,e,n,r){return ne(t,e,n,r),X(),Wn}var UN=(t,e,n,r,i,o)=>($p(!0),GE(r,i,UM()));function xo(){return Se()}var Jr=void 0;function BN(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var $N=["en",[["a","p"],["AM","PM"],Jr],[["AM","PM"],Jr,Jr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jr,"{1} 'at' {0}",Jr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",BN],Of={};function Gt(t){let e=HN(t),n=EI(e);if(n)return n;let r=e.split("-")[0];if(n=EI(r),n)return n;if(r==="en")return $N;throw new q(701,!1)}function EI(t){return t in Of||(Of[t]=Ys.ng&&Ys.ng.common&&Ys.ng.common.locales&&Ys.ng.common.locales[t]),Of[t]}var Ue=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ue||{});function HN(t){return t.toLowerCase().replace(/_/g,"-")}var el="en-US";var qN=el;function zN(t){typeof t=="string"&&(qN=t.toLowerCase().replace(/_/g,"-"))}var GN=(t,e,n)=>{};function Be(t,e,n,r){let i=Se(),o=Tt(),s=At();return xD(o,i,i[Ye],s,t,e,r),Be}function WN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let u=e[Vc],c=i[o+2];return u.length>c?u[c]:null}typeof s=="string"&&(o+=2)}return null}function xD(t,e,n,r,i,o,s){let u=Fp(r),l=t.firstCreatePass&&fR(t),f=e[tn],p=hR(e),m=!0;if(r.type&3||s){let M=zt(r,e),S=s?s(M):M,F=p.length,$=s?Z=>s(yn(Z[r.index])):r.index,j=null;if(!s&&u&&(j=WN(t,e,i,r.index)),j!==null){let Z=j.__ngLastListenerFn__||j;Z.__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,m=!1}else{o=CI(r,e,f,o),GN(M,i,o);let Z=n.listen(S,i,o);p.push(o,Z),l&&l.push(i,$,F,F+1)}}else o=CI(r,e,f,o);let v=r.outputs,T;if(m&&v!==null&&(T=v[i])){let M=T.length;if(M)for(let S=0;S<M;S+=2){let F=T[S],$=T[S+1],De=e[F][$].subscribe(o),ie=p.length;p.push(o,De),l&&l.push(i,r.index,ie,-(ie+1))}}}function DI(t,e,n,r){let i=pe(null);try{return fn(6,e,n),n(r)!==!1}catch(o){return mD(t,o),!1}finally{fn(7,e,n),pe(i)}}function CI(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Tr(t.index,e):e;sg(s,5);let u=DI(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)u=DI(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return u}}function Pt(t=1){return jM(t)}function KN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function RD(t){let e=xM();return uE(e,nn+t)}function me(t,e=""){let n=Se(),r=Tt(),i=t+nn,o=r.firstCreatePass?fl(r,i,1,e,null):r.data[i],s=QN(r,n,o,e,t);n[i]=s,Bp()&&tg(r,n,s,o),aa(o,!1)}var QN=(t,e,n,r,i)=>($p(!0),Dx(e[Ye],r));function Ro(t){return Ar("",t,""),Ro}function Ar(t,e,n){let r=Se(),i=EN(r,t,e,n);return i!==mi&&pR(r,Co(),i),Ar}function Kn(t,e,n){AD(e)&&(e=e());let r=Se(),i=cl();if(ci(r,i,e)){let o=Tt(),s=Up();lD(o,s,r,t,e,r[Ye],n,!1)}return Kn}function Sr(t,e){let n=AD(t);return n&&t.set(e),n}function Qn(t,e){let n=Se(),r=Tt(),i=At();return xD(r,n,n[Ye],i,t,e),Qn}function YN(t,e,n){let r=Tt();if(r.firstCreatePass){let i=Cr(t);Ip(n,r.data,r.blueprint,i,!0),Ip(e,r.data,r.blueprint,i,!1)}}function Ip(t,e,n,r,i){if(t=vt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ip(t[o],e,n,r,i);else{let o=Tt(),s=Se(),u=At(),c=fo(t)?t:vt(t.provide),l=ZI(t),f=u.providerIndexes&1048575,p=u.directiveStart,m=u.providerIndexes>>20;if(fo(t)||!t.multi){let v=new si(l,i,Y),T=Vf(c,e,i?f:f+m,p);T===-1?(Zf(zc(u,s),o,c),Ff(o,t,e.length),e.push(c),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(v),s.push(v)):(n[T]=v,s[T]=v)}else{let v=Vf(c,e,f+m,p),T=Vf(c,e,f,f+m),M=v>=0&&n[v],S=T>=0&&n[T];if(i&&!S||!i&&!M){Zf(zc(u,s),o,c);let F=XN(i?JN:ZN,n.length,i,r,l);!i&&S&&(n[T].providerFactory=F),Ff(o,t,e.length,0),e.push(c),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=ND(n[i?T:v],l,!i&&r);Ff(o,t,v>-1?v:T,F)}!i&&r&&S&&n[T].componentProviders++}}}function Ff(t,e,n,r){let i=fo(e),o=oM(e);if(i||o){let c=(o?vt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,c]):l[f+1].push(r,c)}else l.push(n,c)}}}function ND(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Vf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ZN(t,e,n,r){return Ep(this.multi,[])}function JN(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,u=yo(n,n[ue],this.providerFactory.index,r);o=u.slice(0,s),Ep(i,o);for(let c=s;c<u.length;c++)o.push(u[c])}else o=[],Ep(i,o);return o}function Ep(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function XN(t,e,n,r,i){let o=new si(t,n,Y);return o.multi=[],o.index=e,o.componentProviders=0,ND(o,i,r&&!n),o}function ca(t,e=[]){return n=>{n.providersResolver=(r,i)=>YN(r,i?i(t):t,e)}}var eP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=KI(!1,r.type),o=i.length>0?ml([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(B(Rt))});let t=e;return t})();function Wt(t){Mo("NgStandalone"),t.getStandaloneInjector=e=>e.get(eP).getOrCreateStandaloneInjector(t)}function tP(t,e){let n=t[e];return n===mi?void 0:n}function nP(t,e,n,r,i,o,s){let u=e+n;return fN(t,u,i,o)?hN(t,u+2,s?r.call(s,i,o):r(i,o)):tP(t,u+2)}function PD(t,e){let n=Tt(),r,i=t+nn;n.firstCreatePass?(r=rP(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ni(r.type,!0)),s,u=bt(Y);try{let c=qc(!1),l=o();return qc(c),KN(n,Se(),i,l),l}finally{bt(u)}}function rP(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function kD(t,e,n,r){let i=t+nn,o=Se(),s=uE(o,i);return iP(o,i)?nP(o,RM(),e,s.transform,n,r,s):s.transform(n,r)}function iP(t,e){return t[ue].data[e].pure}function OD(t,e){return DD(t,e)}var Un=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},cg=new Un("18.2.4");var _l=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var FD=new V("");function yi(t){return!!t&&typeof t.then=="function"}function VD(t){return!!t&&typeof t.subscribe=="function"}var wl=new V(""),LD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=P(wl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(yi(s))r.push(s);else if(VD(s)){let u=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(u)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Il=new V("");function oP(){vw(()=>{throw new q(600,!1)})}function sP(t){return t.isBoundToModule}var aP=10;function uP(t,e,n){try{let r=n();return yi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var vi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(lx),this.afterRenderManager=P(MD),this.zonelessEnabled=P(ag),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Pe,this.afterTick=new Pe,this.componentTypes=[],this.components=[],this.isStable=P(To).hasPendingTasks.pipe(J(r=>!r)),this._injector=P(Rt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Yc;if(!this._injector.get(LD).done){let v=!o&&qI(r),T=!1;throw new q(405,T)}let u;o?u=r:u=this._injector.get(_o).resolveComponentFactory(r),this.componentTypes.push(u.componentType);let c=sP(u)?void 0:this._injector.get(br),l=i||u.selector,f=u.create(nt.NULL,[],l,c),p=f.location.nativeElement,m=f.injector.get(FD,null);return m?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),xc(this.components,f),m?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new q(101,!1);let r=pe(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,pe(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(wo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<aP;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:s}of this._views)cP(o,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>al(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;xc(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Il,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>xc(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cP(t,e,n,r){if(!n&&!al(t))return;_D(t,e,n&&!r?0:1)}var Dp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},El=(()=>{let e=class e{compileModuleSync(r){return new mp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=zI(r),s=zE(o.declarations).reduce((u,c)=>{let l=Dr(c);return l&&u.push(new Io(l)),u},[]);return new Dp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lP=(()=>{let e=class e{constructor(){this.zone=P(ge),this.changeDetectionScheduler=P(vo),this.applicationRef=P(vi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dP=new V("",{factory:()=>!1});function jD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ge(he(O({},BD()),{scheduleInRootZone:n})),[{provide:ge,useFactory:t},{provide:ho,multi:!0,useFactory:()=>{let r=P(lP,{optional:!0});return()=>r.initialize()}},{provide:ho,multi:!0,useFactory:()=>{let r=P(hP);return()=>{r.initialize()}}},e===!0?{provide:CD,useValue:!0}:[],{provide:bD,useValue:n??OE}]}function UD(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=jD({ngZoneFactory:()=>{let i=BD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Mo("NgZone_CoalesceEvent"),new ge(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return vn([{provide:dP,useValue:!0},{provide:ag,useValue:!1},r])}function BD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var hP=(()=>{let e=class e{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=P(ge),this.pendingTasks=P(To)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fP=(()=>{let e=class e{constructor(){this.appRef=P(vi),this.taskService=P(To),this.ngZone=P(ge),this.zonelessEnabled=P(ag),this.disableScheduling=P(CD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Fe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(bD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof np||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?sI:FE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,sI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pP(){return typeof $localize<"u"&&$localize.locale||el}var Dl=new V("",{providedIn:"root",factory:()=>P(Dl,se.Optional|se.SkipSelf)||pP()});var $D=new V("");function Tc(t){return!!t.platformInjector}function gP(t){let e=Tc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ge);return n.run(()=>{Tc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ln,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Tc(t)){let o=()=>e.destroy(),s=t.platformInjector.get($D);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{xc(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return uP(r,n,()=>{let o=e.get(LD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Dl,el);if(zN(s||el),Tc(t)){let u=e.get(vi);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return mP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function mP(t,e){let n=t.injector.get(vi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new q(-403,!1);e.push(t)}var Rc=null;function yP(t=[],e){return nt.create({name:e,providers:[{provide:il,useValue:"platform"},{provide:$D,useValue:new Set([()=>Rc=null])},...t]})}function vP(t=[]){if(Rc)return Rc;let e=yP(t);return Rc=e,oP(),_P(e),e}function _P(t){t.get(Qp,null)?.forEach(n=>n())}function lg(){return!1}var _i=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wP;let t=e;return t})();function wP(t){return IP(At(),Se(),(t&16)===16)}function IP(t,e,n){if(sl(t)&&!n){let r=Tr(t.index,e);return new ui(r,r)}else if(t.type&175){let r=e[mn];return new ui(r,e)}return null}var Cp=class{constructor(){}supports(e){return SD(e)}create(e){return new bp(e)}},EP=(t,e)=>e,bp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||EP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<bI(r,i,o)?n:r,u=bI(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=u-i,f=c-i;if(l!=f){for(let m=0;m<l;m++){let v=m<o.length?o[m]:o[m]=0,T=v+m;f<=T&&T<l&&(o[m]=v+1)}let p=s.previousIndex;o[p]=f-l}}u!==c&&e(s,u,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!SD(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let u=0;u<this.length;u++)o=e[u],s=this._trackByFn(u,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,u),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,u)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,lN(e,u=>{s=this._trackByFn(i,u),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,u,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,u,s,i)),Object.is(n.item,u)||this._addIdentityChange(n,u)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Tp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new tl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new tl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Tp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ap=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},tl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Ap,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function bI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function TI(){return new dg([new Cp])}var dg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||TI()),deps:[[e,new Rp,new rt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new q(901,!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:TI});let t=e;return t})();function HD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=vP(r),o=[jD({}),{provide:vo,useExisting:fP},...n||[]],s=new Jc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return gP({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var qD=new V("");function la(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function da(t,e){Mo("NgSignals");let n=gw(t);return e?.equal&&(n[Pn].equal=e.equal),n}function Yn(t){let e=pe(null);try{return t()}finally{pe(e)}}function zD(t){let e=Dr(t);if(!e)return null;let n=new Io(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ZD=null;function er(){return ZD}function JD(t){ZD??=t}var Nl=class{};var Et=new V(""),wg=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>P(bP),providedIn:"platform"});let t=e;return t})(),XD=new V(""),bP=(()=>{let e=class e extends wg{constructor(){super(),this._doc=P(Et),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return er().getBaseHref(this._doc)}onPopState(r){let i=er().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=er().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Ig(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function GD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Jn(t){return t&&t[0]!=="?"?"?"+t:t}var wi=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>P(Eg),providedIn:"root"});let t=e;return t})(),eC=new V(""),Eg=(()=>{let e=class e extends wi{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??P(Et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Ig(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Jn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let u=this.prepareExternalUrl(o+Jn(s));this._platformLocation.pushState(r,i,u)}replaceState(r,i,o,s){let u=this.prepareExternalUrl(o+Jn(s));this._platformLocation.replaceState(r,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(B(wg),B(eC,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tC=(()=>{let e=class e extends wi{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Ig(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let u=this.prepareExternalUrl(o+Jn(s));u.length==0&&(u=this._platformLocation.pathname),this._platformLocation.pushState(r,i,u)}replaceState(r,i,o,s){let u=this.prepareExternalUrl(o+Jn(s));u.length==0&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(B(wg),B(eC,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),No=(()=>{let e=class e{constructor(r){this._subject=new He,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=SP(GD(WD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Jn(i))}normalize(r){return e.stripTrailingSlash(AP(this._basePath,WD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Jn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Jn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Jn,e.joinWithSlash=Ig,e.stripTrailingSlash=GD,e.\u0275fac=function(i){return new(i||e)(B(wi))},e.\u0275prov=H({token:e,factory:()=>TP(),providedIn:"root"});let t=e;return t})();function TP(){return new No(B(wi))}function AP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function WD(t){return t.replace(/\/index.html$/,"")}function SP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var It=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(It||{}),Te=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Te||{}),kt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(kt||{}),Mr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function MP(t){return Gt(t)[Ue.LocaleId]}function xP(t,e,n){let r=Gt(t),i=[r[Ue.DayPeriodsFormat],r[Ue.DayPeriodsStandalone]],o=Qt(i,e);return Qt(o,n)}function RP(t,e,n){let r=Gt(t),i=[r[Ue.DaysFormat],r[Ue.DaysStandalone]],o=Qt(i,e);return Qt(o,n)}function NP(t,e,n){let r=Gt(t),i=[r[Ue.MonthsFormat],r[Ue.MonthsStandalone]],o=Qt(i,e);return Qt(o,n)}function PP(t,e){let r=Gt(t)[Ue.Eras];return Qt(r,e)}function Cl(t,e){let n=Gt(t);return Qt(n[Ue.DateFormat],e)}function bl(t,e){let n=Gt(t);return Qt(n[Ue.TimeFormat],e)}function Tl(t,e){let r=Gt(t)[Ue.DateTimeFormat];return Qt(r,e)}function Ol(t,e){let n=Gt(t),r=n[Ue.NumberSymbols][e];if(typeof r>"u"){if(e===Mr.CurrencyDecimal)return n[Ue.NumberSymbols][Mr.Decimal];if(e===Mr.CurrencyGroup)return n[Ue.NumberSymbols][Mr.Group]}return r}function nC(t){if(!t[Ue.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ue.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kP(t){let e=Gt(t);return nC(e),(e[Ue.ExtraData][2]||[]).map(r=>typeof r=="string"?fg(r):[fg(r[0]),fg(r[1])])}function OP(t,e,n){let r=Gt(t);nC(r);let i=[r[Ue.ExtraData][0],r[Ue.ExtraData][1]],o=Qt(i,e)||[];return Qt(o,n)||[]}function Qt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function fg(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var FP=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Al={},VP=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Xn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Xn||{}),we=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(we||{}),_e=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(_e||{});function LP(t,e,n,r){let i=WP(t);e=Zn(n,e)||e;let s=[],u;for(;e;)if(u=VP.exec(e),u){s=s.concat(u.slice(1));let f=s.pop();if(!f)break;e=f}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=iC(r,c),i=GP(i,r,!0));let l="";return s.forEach(f=>{let p=qP(f);l+=p?p(i,n,c):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Pl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Zn(t,e){let n=MP(t);if(Al[n]??={},Al[n][e])return Al[n][e];let r="";switch(e){case"shortDate":r=Cl(t,kt.Short);break;case"mediumDate":r=Cl(t,kt.Medium);break;case"longDate":r=Cl(t,kt.Long);break;case"fullDate":r=Cl(t,kt.Full);break;case"shortTime":r=bl(t,kt.Short);break;case"mediumTime":r=bl(t,kt.Medium);break;case"longTime":r=bl(t,kt.Long);break;case"fullTime":r=bl(t,kt.Full);break;case"short":let i=Zn(t,"shortTime"),o=Zn(t,"shortDate");r=Sl(Tl(t,kt.Short),[i,o]);break;case"medium":let s=Zn(t,"mediumTime"),u=Zn(t,"mediumDate");r=Sl(Tl(t,kt.Medium),[s,u]);break;case"long":let c=Zn(t,"longTime"),l=Zn(t,"longDate");r=Sl(Tl(t,kt.Long),[c,l]);break;case"full":let f=Zn(t,"fullTime"),p=Zn(t,"fullDate");r=Sl(Tl(t,kt.Full),[f,p]);break}return r&&(Al[n][e]=r),r}function Sl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function on(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function jP(t,e){return on(t,3).substring(0,e)}function qe(t,e,n=0,r=!1,i=!1){return function(o,s){let u=UP(t,o);if((n>0||u>-n)&&(u+=n),t===we.Hours)u===0&&n===-12&&(u=12);else if(t===we.FractionalSeconds)return jP(u,e);let c=Ol(s,Mr.MinusSign);return on(u,e,c,r,i)}}function UP(t,e){switch(t){case we.FullYear:return e.getFullYear();case we.Month:return e.getMonth();case we.Date:return e.getDate();case we.Hours:return e.getHours();case we.Minutes:return e.getMinutes();case we.Seconds:return e.getSeconds();case we.FractionalSeconds:return e.getMilliseconds();case we.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Me(t,e,n=It.Format,r=!1){return function(i,o){return BP(i,o,t,e,n,r)}}function BP(t,e,n,r,i,o){switch(n){case _e.Months:return NP(e,i,r)[t.getMonth()];case _e.Days:return RP(e,i,r)[t.getDay()];case _e.DayPeriods:let s=t.getHours(),u=t.getMinutes();if(o){let l=kP(e),f=OP(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[v,T]=m,M=s>=v.hours&&u>=v.minutes,S=s<T.hours||s===T.hours&&u<T.minutes;if(v.hours<T.hours){if(M&&S)return!0}else if(M||S)return!0}else if(m.hours===s&&m.minutes===u)return!0;return!1});if(p!==-1)return f[p]}return xP(e,i,r)[s<12?0:1];case _e.Eras:return PP(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function Ml(t){return function(e,n,r){let i=-1*r,o=Ol(n,Mr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Xn.Short:return(i>=0?"+":"")+on(s,2,o)+on(Math.abs(i%60),2,o);case Xn.ShortGMT:return"GMT"+(i>=0?"+":"")+on(s,1,o);case Xn.Long:return"GMT"+(i>=0?"+":"")+on(s,2,o)+":"+on(Math.abs(i%60),2,o);case Xn.Extended:return r===0?"Z":(i>=0?"+":"")+on(s,2,o)+":"+on(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var $P=0,Rl=4;function HP(t){let e=Pl(t,$P,1).getDay();return Pl(t,0,1+(e<=Rl?Rl:Rl+7)-e)}function rC(t){let e=t.getDay(),n=e===0?-3:Rl-e;return Pl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function pg(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=rC(n),s=HP(o.getFullYear()),u=o.getTime()-s.getTime();i=1+Math.round(u/6048e5)}return on(i,t,Ol(r,Mr.MinusSign))}}function xl(t,e=!1){return function(n,r){let o=rC(n).getFullYear();return on(o,t,Ol(r,Mr.MinusSign),e)}}var gg={};function qP(t){if(gg[t])return gg[t];let e;switch(t){case"G":case"GG":case"GGG":e=Me(_e.Eras,Te.Abbreviated);break;case"GGGG":e=Me(_e.Eras,Te.Wide);break;case"GGGGG":e=Me(_e.Eras,Te.Narrow);break;case"y":e=qe(we.FullYear,1,0,!1,!0);break;case"yy":e=qe(we.FullYear,2,0,!0,!0);break;case"yyy":e=qe(we.FullYear,3,0,!1,!0);break;case"yyyy":e=qe(we.FullYear,4,0,!1,!0);break;case"Y":e=xl(1);break;case"YY":e=xl(2,!0);break;case"YYY":e=xl(3);break;case"YYYY":e=xl(4);break;case"M":case"L":e=qe(we.Month,1,1);break;case"MM":case"LL":e=qe(we.Month,2,1);break;case"MMM":e=Me(_e.Months,Te.Abbreviated);break;case"MMMM":e=Me(_e.Months,Te.Wide);break;case"MMMMM":e=Me(_e.Months,Te.Narrow);break;case"LLL":e=Me(_e.Months,Te.Abbreviated,It.Standalone);break;case"LLLL":e=Me(_e.Months,Te.Wide,It.Standalone);break;case"LLLLL":e=Me(_e.Months,Te.Narrow,It.Standalone);break;case"w":e=pg(1);break;case"ww":e=pg(2);break;case"W":e=pg(1,!0);break;case"d":e=qe(we.Date,1);break;case"dd":e=qe(we.Date,2);break;case"c":case"cc":e=qe(we.Day,1);break;case"ccc":e=Me(_e.Days,Te.Abbreviated,It.Standalone);break;case"cccc":e=Me(_e.Days,Te.Wide,It.Standalone);break;case"ccccc":e=Me(_e.Days,Te.Narrow,It.Standalone);break;case"cccccc":e=Me(_e.Days,Te.Short,It.Standalone);break;case"E":case"EE":case"EEE":e=Me(_e.Days,Te.Abbreviated);break;case"EEEE":e=Me(_e.Days,Te.Wide);break;case"EEEEE":e=Me(_e.Days,Te.Narrow);break;case"EEEEEE":e=Me(_e.Days,Te.Short);break;case"a":case"aa":case"aaa":e=Me(_e.DayPeriods,Te.Abbreviated);break;case"aaaa":e=Me(_e.DayPeriods,Te.Wide);break;case"aaaaa":e=Me(_e.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":e=Me(_e.DayPeriods,Te.Abbreviated,It.Standalone,!0);break;case"bbbb":e=Me(_e.DayPeriods,Te.Wide,It.Standalone,!0);break;case"bbbbb":e=Me(_e.DayPeriods,Te.Narrow,It.Standalone,!0);break;case"B":case"BB":case"BBB":e=Me(_e.DayPeriods,Te.Abbreviated,It.Format,!0);break;case"BBBB":e=Me(_e.DayPeriods,Te.Wide,It.Format,!0);break;case"BBBBB":e=Me(_e.DayPeriods,Te.Narrow,It.Format,!0);break;case"h":e=qe(we.Hours,1,-12);break;case"hh":e=qe(we.Hours,2,-12);break;case"H":e=qe(we.Hours,1);break;case"HH":e=qe(we.Hours,2);break;case"m":e=qe(we.Minutes,1);break;case"mm":e=qe(we.Minutes,2);break;case"s":e=qe(we.Seconds,1);break;case"ss":e=qe(we.Seconds,2);break;case"S":e=qe(we.FractionalSeconds,1);break;case"SS":e=qe(we.FractionalSeconds,2);break;case"SSS":e=qe(we.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ml(Xn.Short);break;case"ZZZZZ":e=Ml(Xn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ml(Xn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ml(Xn.Long);break;default:return null}return gg[t]=e,e}function iC(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function zP(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function GP(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=iC(e,i);return zP(t,r*(o-i))}function WP(t){if(KD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(u=>+u);return Pl(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(FP))return KP(r)}let e=new Date(t);if(!KD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function KP(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,u=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,u,c,l),e}function KD(t){return t instanceof Date&&!isNaN(t.valueOf())}function oC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var mg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},sC=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,u)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new mg(o.item,this._ngForOf,-1,-1),u===null?void 0:u);else if(u==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,u),QD(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);QD(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Y(So),Y(gl),Y(dg))},e.\u0275dir=ct({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function QD(t,e){t.context.$implicit=e.item}var Po=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new yg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){YD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){YD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Y(So),Y(gl))},e.\u0275dir=ct({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),yg=class{constructor(){this.$implicit=null,this.ngIf=null}};function YD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${_t(e)}'.`)}function QP(t,e){return new q(2100,!1)}var YP="mediumDate",ZP=new V(""),JP=new V(""),aC=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let u=i??this.defaultOptions?.dateFormat??YP,c=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return LP(r,u,s||this.locale,c)}catch(u){throw QP(e,u.message)}}};e.\u0275fac=function(i){return new(i||e)(Y(Dl,16),Y(ZP,24),Y(JP,24))},e.\u0275pipe=BI({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Ii=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$n({type:e}),e.\u0275inj=Bn({});let t=e;return t})(),Dg="browser",XP="server";function e1(t){return t===Dg}function ha(t){return t===XP}var uC=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>e1(P(Nt))?new vg(P(Et),window):new _g});let t=e;return t})(),vg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=t1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function t1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var _g=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},kl=class{};var Ag=class extends Nl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sg=class t extends Ag{static makeCurrent(){JD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=n1();return n==null?null:r1(n)}resetBaseElement(){fa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return oC(document.cookie,e)}},fa=null;function n1(){return fa=fa||document.querySelector("base"),fa?fa.getAttribute("href"):null}function r1(t){return new URL(t,document.baseURI).pathname}var i1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Fl=new V(""),hC=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new q(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(B(Fl),B(ge))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),pa=class{constructor(e){this._doc=e}},bg="ng-app-id",fC=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ha(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${bg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(bg),s;{let u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(bg,this.appId),r.appendChild(u),u}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,u=s.get(i)?.elements;u?u.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(B(Et),B(Kp),B(Yp,8),B(Nt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Tg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xg=/%COMP%/g,pC="%COMP%",o1=`_nghost-${pC}`,s1=`_ngcontent-${pC}`,a1=!0,u1=new V("",{providedIn:"root",factory:()=>a1});function c1(t){return s1.replace(xg,t)}function l1(t){return o1.replace(xg,t)}function gC(t,e){return e.map(n=>n.replace(xg,t))}var cC=(()=>{let e=class e{constructor(r,i,o,s,u,c,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=u,this.platformId=c,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=ha(c),this.defaultRenderer=new ga(r,u,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===gn.ShadowDom&&(i=he(O({},i),{encapsulation:gn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Vl?o.applyToHost(r):o instanceof ma&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let u=this.doc,c=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case gn.Emulated:s=new Vl(l,f,i,this.appId,p,u,c,m);break;case gn.ShadowDom:return new Mg(l,f,r,i,u,c,this.nonce,m);default:s=new ma(l,f,i,p,u,c,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(B(hC),B(fC),B(Kp),B(u1),B(Et),B(Nt),B(ge),B(Yp))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),ga=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Tg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(lC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(lC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Tg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Tg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(jn.DashCase|jn.Important)?e.style.setProperty(n,r,i&jn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&jn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=er().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function lC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Mg=class extends ga{constructor(e,n,r,i,o,s,u,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=gC(i.id,i.styles);for(let f of l){let p=document.createElement("style");u&&p.setAttribute("nonce",u),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ma=class extends ga{constructor(e,n,r,i,o,s,u,c){super(e,o,s,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?gC(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Vl=class extends ma{constructor(e,n,r,i,o,s,u,c){let l=i+"-"+r.id;super(e,n,r,o,s,u,c,l),this.contentAttr=c1(l),this.hostAttr=l1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},d1=(()=>{let e=class e extends pa{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(B(Et))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),h1=(()=>{let e=class e extends pa{constructor(r){super(r),this.delegate=P(qD,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(B(Et))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),dC=["alt","control","meta","shift"],f1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},p1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},g1=(()=>{let e=class e extends pa{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),u=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>er().onAndCancel(r,s.domEventName,u))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),u="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),u="code."),dC.forEach(f=>{let p=i.indexOf(f);p>-1&&(i.splice(p,1),u+=f+".")}),u+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=u,l}static matchEventFullKeyCode(r,i){let o=f1[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),dC.forEach(u=>{if(u!==o){let c=p1[u];c(r)&&(s+=u+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(B(Et))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function mC(t,e){return HD(O({rootComponent:t},m1(e)))}function m1(t){return{appProviders:[...I1,...t?.providers??[]],platformProviders:w1}}function y1(){Sg.makeCurrent()}function v1(){return new Ln}function _1(){return HE(document),document}var w1=[{provide:Nt,useValue:Dg},{provide:Qp,useValue:y1,multi:!0},{provide:Et,useFactory:_1,deps:[]}];var I1=[{provide:il,useValue:"root"},{provide:Ln,useFactory:v1,deps:[]},{provide:Fl,useClass:d1,multi:!0,deps:[Et,ge,Nt]},{provide:Fl,useClass:g1,multi:!0,deps:[Et]},{provide:Fl,useClass:h1,multi:!0},cC,fC,hC,{provide:wo,useExisting:cC},{provide:kl,useClass:i1,deps:[]},[]];var yC=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(B(Et))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var re="primary",Na=Symbol("RouteTitle"),Og=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function jo(t){return new Og(t)}function D1(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],u=t[o];if(s[0]===":")i[s.substring(1)]=u;else if(s!==u.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function C1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!In(t[n],e[n]))return!1;return!0}function In(t,e){let n=t?Fg(t):void 0,r=e?Fg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!SC(t[i],e[i]))return!1;return!0}function Fg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function SC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function MC(t){return t.length>0?t[t.length-1]:null}function Rr(t){return yf(t)?t:yi(t)?Ee(Promise.resolve(t)):G(t)}var b1={exact:RC,subset:NC},xC={exact:T1,subset:A1,ignored:()=>!0};function vC(t,e,n){return b1[n.paths](t.root,e.root,n.matrixParams)&&xC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function T1(t,e){return In(t,e)}function RC(t,e,n){if(!Di(t.segments,e.segments)||!Ul(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!RC(t.children[r],e.children[r],n))return!1;return!0}function A1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>SC(t[n],e[n]))}function NC(t,e,n){return PC(t,e,e.segments,n)}function PC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Di(i,n)||e.hasChildren()||!Ul(i,n,r))}else if(t.segments.length===n.length){if(!Di(t.segments,n)||!Ul(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!NC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Di(t.segments,i)||!Ul(t.segments,i,r)||!t.children[re]?!1:PC(t.children[re],e,o,r)}}function Ul(t,e,n){return e.every((r,i)=>xC[n](t[i].parameters,r.parameters))}var nr=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=jo(this.queryParams),this._queryParamMap}toString(){return x1.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bl(this)}},Ei=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=jo(this.parameters),this._parameterMap}toString(){return OC(this)}};function S1(t,e){return Di(t,e)&&t.every((n,r)=>In(n.parameters,e[r].parameters))}function Di(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function M1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var Pa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new Uo,providedIn:"root"});let t=e;return t})(),Uo=class{parse(e){let n=new Lg(e);return new nr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ya(e.root,!0)}`,r=P1(e.queryParams),i=typeof e.fragment=="string"?`#${R1(e.fragment)}`:"";return`${n}${r}${i}`}},x1=new Uo;function Bl(t){return t.segments.map(e=>OC(e)).join("/")}function ya(t,e){if(!t.hasChildren())return Bl(t);if(e){let n=t.children[re]?ya(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${ya(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=M1(t,(r,i)=>i===re?[ya(t.children[re],!1)]:[`${i}:${ya(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${Bl(t)}/${n[0]}`:`${Bl(t)}/(${n.join("//")})`}}function kC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ll(t){return kC(t).replace(/%3B/gi,";")}function R1(t){return encodeURI(t)}function Vg(t){return kC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $l(t){return decodeURIComponent(t)}function _C(t){return $l(t.replace(/\+/g,"%20"))}function OC(t){return`${Vg(t.path)}${N1(t.parameters)}`}function N1(t){return Object.entries(t).map(([e,n])=>`;${Vg(e)}=${Vg(n)}`).join("")}function P1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ll(n)}=${Ll(i)}`).join("&"):`${Ll(n)}=${Ll(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var k1=/^[^\/()?;#]+/;function Rg(t){let e=t.match(k1);return e?e[0]:""}var O1=/^[^\/()?;=#]+/;function F1(t){let e=t.match(O1);return e?e[0]:""}var V1=/^[^=?&#]+/;function L1(t){let e=t.match(V1);return e?e[0]:""}var j1=/^[^&#]+/;function U1(t){let e=t.match(j1);return e?e[0]:""}var Lg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Ie(e,n)),r}parseSegment(){let e=Rg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new Ei($l(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=F1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Rg(this.remaining);i&&(r=i,this.capture(r))}e[$l(n)]=$l(r)}parseQueryParam(e){let n=L1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=U1(this.remaining);s&&(r=s,this.capture(r))}let i=_C(n),o=_C(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Rg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[re]:new Ie([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function FC(t){return t.segments.length>0?new Ie([],{[re]:t}):t}function VC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=VC(i);if(r===re&&o.segments.length===0&&o.hasChildren())for(let[s,u]of Object.entries(o.children))e[s]=u;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ie(t.segments,e);return B1(n)}function B1(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new Ie(t.segments.concat(e.segments),e.children)}return t}function Da(t){return t instanceof nr}function $1(t,e,n=null,r=null){let i=LC(t);return jC(i,e,n,r)}function LC(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let u=new Ie(o.url,s);return o===t&&(e=u),u}let r=n(t.root),i=FC(r);return e??i}function jC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ng(i,i,i,n,r);let o=H1(e);if(o.toRoot())return Ng(i,i,new Ie([],{}),n,r);let s=q1(o,i,t),u=s.processChildren?wa(s.segmentGroup,s.index,o.commands):BC(s.segmentGroup,s.index,o.commands);return Ng(i,s.segmentGroup,u,n,r)}function Hl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ca(t){return typeof t=="object"&&t!=null&&t.outlets}function Ng(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=UC(t,e,n);let u=FC(VC(s));return new nr(u,o,i)}function UC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=UC(o,e,n)}),new Ie(t.segments,r)}var ql=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Hl(r[0]))throw new q(4003,!1);let i=r.find(Ca);if(i&&i!==MC(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function H1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ql(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let u={};return Object.entries(o.outlets).forEach(([c,l])=>{u[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:u}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((u,c)=>{c==0&&u==="."||(c==0&&u===""?n=!0:u===".."?e++:u!=""&&i.push(u))}),i):[...i,o]},[]);return new ql(n,e,r)}var Fo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function q1(t,e,n){if(t.isAbsolute)return new Fo(e,!0,0);if(!n)return new Fo(e,!1,NaN);if(n.parent===null)return new Fo(n,!0,0);let r=Hl(t.commands[0])?0:1,i=n.segments.length-1+r;return z1(n,i,t.numberOfDoubleDots)}function z1(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new Fo(r,!1,i-o)}function G1(t){return Ca(t[0])?t[0].outlets:{[re]:t}}function BC(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return wa(t,e,n);let r=W1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ie(t.segments.slice(0,r.pathIndex),{});return o.children[re]=new Ie(t.segments.slice(r.pathIndex),t.children),wa(o,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?jg(t,e,n):r.match?wa(t,0,i):jg(t,e,n)}function wa(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=G1(n),i={};if(Object.keys(r).some(o=>o!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let o=wa(t.children[re],e,n);return new Ie(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=BC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(t.segments,i)}}function W1(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],u=n[r];if(Ca(u))break;let c=`${u}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!IC(c,l,s))return o;r+=2}else{if(!IC(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function jg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ca(o)){let c=K1(o.outlets);return new Ie(r,c)}if(i===0&&Hl(n[0])){let c=t.segments[e];r.push(new Ei(c.path,wC(n[0]))),i++;continue}let s=Ca(o)?o.outlets[re]:`${o}`,u=i<n.length-1?n[i+1]:null;s&&u&&Hl(u)?(r.push(new Ei(s,wC(u))),i+=2):(r.push(new Ei(s,{})),i++)}return new Ie(r,{})}function K1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=jg(new Ie([],{}),0,r))}),e}function wC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function IC(t,e,n){return t==n.path&&In(e,n.parameters)}var Ia="imperative",Je=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Je||{}),Yt=class{constructor(e,n){this.id=e,this.url=n}},Bo=class extends Yt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Je.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rr=class extends Yt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Je.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ft=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ft||{}),zl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(zl||{}),tr=class extends Yt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Je.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xr=class extends Yt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Je.NavigationSkipped}},ba=class extends Yt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Je.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Gl=class extends Yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ug=class extends Yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bg=class extends Yt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Je.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$g=class extends Yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hg=class extends Yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qg=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zg=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gg=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wg=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kg=class{constructor(e){this.snapshot=e,this.type=Je.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qg=class{constructor(e){this.snapshot=e,this.type=Je.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Je.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ta=class{},$o=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Q1(t,e){return t.providers&&!t._injector&&(t._injector=ml(t.providers,e,`Route: ${t.path}`)),t._injector??e}function sn(t){return t.outlet||re}function Y1(t,e){let n=t.filter(r=>sn(r)===e);return n.push(...t.filter(r=>sn(r)!==e)),n}function ka(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Yg=class{get injector(){return ka(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Oa(this.rootInjector),this.attachRef=null}},Oa=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Yg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(B(Rt))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Zg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Zg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Jg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Jg(e,this._root).map(n=>n.value)}};function Zg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Zg(t,n);if(r)return r}return null}function Jg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Jg(t,n);if(r.length)return r.unshift(e),r}return[]}var Ot=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Oo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ql=class extends Kl{constructor(e,n){super(e),this.snapshot=n,am(this,e)}toString(){return this.snapshot.toString()}};function $C(t){let e=Z1(t),n=new tt([new Ei("",{})]),r=new tt({}),i=new tt({}),o=new tt({}),s=new tt(""),u=new Ci(n,r,o,s,i,re,t,e.root);return u.snapshot=e.root,new Ql(new Ot(u,[]),e)}function Z1(t){let e={},n={},r={},i="",o=new Vo([],e,r,i,n,re,t,null,{});return new Zl("",new Ot(o,[]))}var Ci=class{constructor(e,n,r,i,o,s,u,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=u,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(J(l=>l[Na]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>jo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>jo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&qC(i)&&(r.resolve[Na]=i.title),r}var Vo=class{get title(){return this.data?.[Na]}constructor(e,n,r,i,o,s,u,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=u,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=jo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=jo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Zl=class extends Kl{constructor(e,n){super(n),this.url=e,am(this,n)}toString(){return HC(this._root)}};function am(t,e){e.value._routerState=t,e.children.forEach(n=>am(t,n))}function HC(t){let e=t.children.length>0?` { ${t.children.map(HC).join(", ")} } `:"";return`${t.value}${e}`}function Pg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,In(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),In(e.params,n.params)||t.paramsSubject.next(n.params),C1(e.url,n.url)||t.urlSubject.next(n.url),In(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Xg(t,e){let n=In(t.params,e.params)&&S1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Xg(t.parent,e.parent))}function qC(t){return typeof t.title=="string"||t.title===null}var um=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new He,this.deactivateEvents=new He,this.attachEvents=new He,this.detachEvents=new He,this.parentContexts=P(Oa),this.location=P(So),this.changeDetector=P(_i),this.inputBinder=P(td,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=r;let o=this.location,u=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new em(r,c,o.injector);this.activated=o.createComponent(u,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ct({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[hi]});let t=e;return t})(),em=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ci?this.route:e===Oa?this.childContexts:this.parent.get(e,n)}},td=new V(""),EC=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Ks([i.queryParams,i.params,i.data]).pipe(Ve(([s,u,c],l)=>(c=O(O(O({},s),u),c),l===0?G(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let u=zD(i.component);if(!u){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of u.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function J1(t,e,n){let r=Aa(t,e._root,n?n._root:void 0);return new Ql(r,e)}function Aa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=X1(t,e,n);return new Ot(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(u=>Aa(t,u)),s}}let r=ek(e.value),i=e.children.map(o=>Aa(t,o));return new Ot(r,i)}}function X1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Aa(t,r,i);return Aa(t,r)})}function ek(t){return new Ci(new tt(t.url),new tt(t.params),new tt(t.queryParams),new tt(t.fragment),new tt(t.data),t.outlet,t.component,t)}var Sa=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},zC="ngNavigationCancelingError";function Jl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Da(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=GC(!1,Ft.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function GC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[zC]=!0,n.cancellationCode=e,n}function tk(t){return WC(t)&&Da(t.url)}function WC(t){return!!t&&t[zC]}var nk=(t,e,n,r)=>J(i=>(new tm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),tm=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Pg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Oo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Oo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:u})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Oo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Oo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Qg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Wg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Pg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(u.contexts),s.attachRef=u.componentRef,s.route=u.route.value,s.outlet&&s.outlet.attach(u.componentRef,u.route.value),Pg(u.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Xl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Lo=class{constructor(e,n){this.component=e,this.route=n}};function rk(t,e,n){let r=t._root,i=e?e._root:null;return va(r,i,n,[r.value])}function ik(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function qo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!MI(t)?t:e.get(t):r}function va(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Oo(e);return t.children.forEach(s=>{ok(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,u])=>Ea(u,n.getContext(s),i)),i}function ok(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=sk(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Xl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?va(t,e,u?u.children:null,r,i):va(t,e,n,r,i),c&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Lo(u.outlet.component,s))}else s&&Ea(e,u,i),i.canActivateChecks.push(new Xl(r)),o.component?va(t,null,u?u.children:null,r,i):va(t,null,n,r,i);return i}function sk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Di(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Di(t.url,e.url)||!In(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xg(t,e)||!In(t.queryParams,e.queryParams);case"paramsChange":default:return!Xg(t,e)}}function Ea(t,e,n){let r=Oo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ea(s,e.children.getContext(o),n):Ea(s,null,n):Ea(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Lo(e.outlet.component,i)):n.canDeactivateChecks.push(new Lo(null,i)):n.canDeactivateChecks.push(new Lo(null,i))}function Fa(t){return typeof t=="function"}function ak(t){return typeof t=="boolean"}function uk(t){return t&&Fa(t.canLoad)}function ck(t){return t&&Fa(t.canActivate)}function lk(t){return t&&Fa(t.canActivateChild)}function dk(t){return t&&Fa(t.canDeactivate)}function hk(t){return t&&Fa(t.canMatch)}function KC(t){return t instanceof On||t?.name==="EmptyError"}var jl=Symbol("INITIAL_VALUE");function Ho(){return Ve(t=>Ks(t.map(e=>e.pipe(Fn(1),Ic(jl)))).pipe(J(e=>{for(let n of e)if(n!==!0){if(n===jl)return jl;if(n===!1||fk(n))return n}return!0}),yt(e=>e!==jl),Fn(1)))}function fk(t){return Da(t)||t instanceof Sa}function pk(t,e){return $e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?G(he(O({},n),{guardsResult:!0})):gk(s,r,i,t).pipe($e(u=>u&&ak(u)?mk(r,o,t,e):G(u)),J(u=>he(O({},n),{guardsResult:u})))})}function gk(t,e,n,r){return Ee(t).pipe($e(i=>Ik(i.component,i.route,n,e,r)),Ut(i=>i!==!0,!0))}function mk(t,e,n,r){return Ee(e).pipe(Zr(i=>no(vk(i.route.parent,r),yk(i.route,r),wk(t,i.path,n),_k(t,i.route,n))),Ut(i=>i!==!0,!0))}function yk(t,e){return t!==null&&e&&e(new Kg(t)),G(!0)}function vk(t,e){return t!==null&&e&&e(new Gg(t)),G(!0)}function _k(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>yc(()=>{let s=ka(e)??n,u=qo(o,s),c=ck(u)?u.canActivate(e,t):_n(s,()=>u(e,t));return Rr(c).pipe(Ut())}));return G(i).pipe(Ho())}function wk(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>ik(s)).filter(s=>s!==null).map(s=>yc(()=>{let u=s.guards.map(c=>{let l=ka(s.node)??n,f=qo(c,l),p=lk(f)?f.canActivateChild(r,t):_n(l,()=>f(r,t));return Rr(p).pipe(Ut())});return G(u).pipe(Ho())}));return G(o).pipe(Ho())}function Ik(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(u=>{let c=ka(e)??i,l=qo(u,c),f=dk(l)?l.canDeactivate(t,e,n,r):_n(c,()=>l(t,e,n,r));return Rr(f).pipe(Ut())});return G(s).pipe(Ho())}function Ek(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let o=i.map(s=>{let u=qo(s,t),c=uk(u)?u.canLoad(e,n):_n(t,()=>u(e,n));return Rr(c)});return G(o).pipe(Ho(),QC(r))}function QC(t){return Zu(Qe(e=>{if(typeof e!="boolean")throw Jl(t,e)}),J(e=>e===!0))}function Dk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let o=i.map(s=>{let u=qo(s,t),c=hk(u)?u.canMatch(e,n):_n(t,()=>u(e,n));return Rr(c)});return G(o).pipe(Ho(),QC(r))}var Ma=class{constructor(e){this.segmentGroup=e||null}},xa=class extends Error{constructor(e){super(),this.urlTree=e}};function ko(t){return to(new Ma(t))}function Ck(t){return to(new q(4e3,!1))}function bk(t){return to(GC(!1,Ft.GuardRejected))}var nm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[re])return Ck(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let u=n,{queryParams:c,fragment:l,routeConfig:f,url:p,outlet:m,params:v,data:T,title:M}=i,S=_n(o,()=>u({params:v,data:T,queryParams:c,fragment:l,routeConfig:f,url:p,outlet:m,title:M}));if(S instanceof nr)throw new xa(S);n=S}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new xa(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new nr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let u=o.substring(1);r[i]=n[u]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([u,c])=>{s[u]=this.createSegmentGroup(e,c,r,i)}),new Ie(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},rm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tk(t,e,n,r,i){let o=YC(t,e,n);return o.matched?(r=Q1(e,r),Dk(r,e,n,i).pipe(J(s=>s===!0?o:O({},rm)))):G(o)}function YC(t,e,n){if(e.path==="**")return Ak(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},rm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||D1)(n,t,e);if(!i)return O({},rm);let o={};Object.entries(i.posParams??{}).forEach(([u,c])=>{o[u]=c.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Ak(t){return{matched:!0,parameters:t.length>0?MC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function DC(t,e,n,r){return n.length>0&&xk(t,n,r)?{segmentGroup:new Ie(e,Mk(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&Rk(t,n,r)?{segmentGroup:new Ie(t.segments,Sk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function Sk(t,e,n,r){let i={};for(let o of n)if(nd(t,e,o)&&!r[sn(o)]){let s=new Ie([],{});i[sn(o)]=s}return O(O({},r),i)}function Mk(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&sn(r)!==re){let i=new Ie([],{});n[sn(r)]=i}return n}function xk(t,e,n){return n.some(r=>nd(t,e,r)&&sn(r)!==re)}function Rk(t,e,n){return n.some(r=>nd(t,e,r))}function nd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Nk(t,e,n){return e.length===0&&!t.children[n]}var im=class{};function Pk(t,e,n,r,i,o,s="emptyOnly"){return new om(t,e,n,r,i,s,o).recognize()}var kk=31,om=class{constructor(e,n,r,i,o,s,u){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=u,this.applyRedirects=new nm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=DC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:n,rootSnapshot:r})=>{let i=new Ot(r,n),o=new Zl("",i),s=$1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Vo([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,n).pipe(J(r=>({children:r,rootSnapshot:n})),yr(r=>{if(r instanceof xa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ma?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(J(s=>s instanceof Ot?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ee(o).pipe(Zr(s=>{let u=r.children[s],c=Y1(n,s);return this.processSegmentGroup(e,c,u,s,i)}),_c((s,u)=>(s.push(...u),s)),vr(null),If(),$e(s=>{if(s===null)return ko(r);let u=ZC(s);return Ok(u),G(u)}))}processSegment(e,n,r,i,o,s,u){return Ee(n).pipe(Zr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,u).pipe(yr(l=>{if(l instanceof Ma)return G(null);throw l}))),Ut(c=>!!c),yr(c=>{if(KC(c))return Nk(r,i,o)?G(new im):ko(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,u,c){return sn(r)!==s&&(s===re||!nd(i,o,r))?ko(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):ko(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,u){let{matched:c,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=YC(n,i,o);if(!c)return ko(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>kk&&(this.allowRedirects=!1));let v=new Vo(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,CC(i),sn(i),i.component??i._loadedComponent??null,i,bC(i)),T=Yl(v,u,this.paramsInheritanceStrategy);v.params=Object.freeze(T.params),v.data=Object.freeze(T.data);let M=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,M).pipe($e(S=>this.processSegment(e,r,n,S.concat(m),s,!1,u)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let u=Tk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),u.pipe(Ve(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ve(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=c,T=new Vo(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,CC(r),sn(r),r.component??r._loadedComponent??null,r,bC(r)),M=Yl(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(M.params),T.data=Object.freeze(M.data);let{segmentGroup:S,slicedSegments:F}=DC(n,m,v,l);if(F.length===0&&S.hasChildren())return this.processChildren(f,l,S,T).pipe(J(j=>new Ot(T,j)));if(l.length===0&&F.length===0)return G(new Ot(T,[]));let $=sn(r)===o;return this.processSegment(f,l,S,F,$?re:o,!0,T).pipe(J(j=>new Ot(T,j instanceof Ot?[j]:[])))}))):ko(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):Ek(e,n,r,this.urlSerializer).pipe($e(i=>i?this.configLoader.loadChildren(e,n).pipe(Qe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):bk(n))):G({routes:[],injector:e})}};function Ok(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function Fk(t){let e=t.value.routeConfig;return e&&e.path===""}function ZC(t){let e=[],n=new Set;for(let r of t){if(!Fk(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ZC(r.children);e.push(new Ot(r.value,i))}return e.filter(r=>!n.has(r))}function CC(t){return t.data||{}}function bC(t){return t.resolve||{}}function Vk(t,e,n,r,i,o){return $e(s=>Pk(t,e,n,r,s.extractedUrl,i,o).pipe(J(({state:u,tree:c})=>he(O({},s),{targetSnapshot:u,urlAfterRedirects:c}))))}function Lk(t,e){return $e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of JC(c))s.add(l);let u=0;return Ee(s).pipe(Zr(c=>o.has(c)?jk(c,r,t,e):(c.data=Yl(c,c.parent,t).resolve,G(void 0))),Qe(()=>u++),ro(1),$e(c=>u===s.size?G(n):mt))})}function JC(t){let e=t.children.map(n=>JC(n)).flat();return[t,...e]}function jk(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!qC(i)&&(o[Na]=i.title),Uk(o,t,e,r).pipe(J(s=>(t._resolvedData=s,t.data=Yl(t,t.parent,n).resolve,null)))}function Uk(t,e,n,r){let i=Fg(t);if(i.length===0)return G({});let o={};return Ee(i).pipe($e(s=>Bk(t[s],e,n,r).pipe(Ut(),Qe(u=>{if(u instanceof Sa)throw Jl(new Uo,u);o[s]=u}))),ro(1),wf(o),yr(s=>KC(s)?mt:to(s)))}function Bk(t,e,n,r){let i=ka(e)??r,o=qo(t,i),s=o.resolve?o.resolve(e,n):_n(i,()=>o(e,n));return Rr(s)}function kg(t){return Ve(e=>{let n=t(e);return n?Ee(n).pipe(J(()=>e)):G(e)})}var XC=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===re);return i}getResolvedTitleForRoute(r){return r.data[Na]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>P($k),providedIn:"root"});let t=e;return t})(),$k=(()=>{let e=class e extends XC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(B(yC))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Va=new V("",{providedIn:"root",factory:()=>({})}),Hk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Wt],decls:1,vars:0,template:function(i,o){i&1&&Wn(0,"router-outlet")},dependencies:[um],encapsulation:2});let t=e;return t})();function cm(t){let e=t.children&&t.children.map(cm),n=e?he(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=Hk),n}var Ra=new V(""),lm=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(El)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Rr(r.loadComponent()).pipe(J(e0),Qe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Qs(()=>{this.componentLoaders.delete(r)})),o=new Zi(i,()=>new Pe).pipe(Yi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return G({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=qk(i,this.compiler,r,this.onLoadEndListener).pipe(Qs(()=>{this.childrenLoaders.delete(i)})),u=new Zi(s,()=>new Pe).pipe(Yi());return this.childrenLoaders.set(i,u),u}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qk(t,e,n,r){return Rr(t.loadChildren()).pipe(J(e0),$e(i=>i instanceof ra||Array.isArray(i)?G(i):Ee(e.compileModuleAsync(i))),J(i=>{r&&r(t);let o,s,u=!1;return Array.isArray(i)?(s=i,u=!0):(o=i.create(n).injector,s=o.get(Ra,[],{optional:!0,self:!0}).flat()),{routes:s.map(cm),injector:o}}))}function zk(t){return t&&typeof t=="object"&&"default"in t}function e0(t){return zk(t)?t.default:t}var dm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>P(Gk),providedIn:"root"});let t=e;return t})(),Gk=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),t0=new V(""),n0=new V("");function Wk(t,e,n){let r=t.get(n0),i=t.get(Et);return t.get(ge).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),u=i.startViewTransition(()=>(o(),Kk(t))),{onViewTransitionCreated:c}=r;return c&&_n(t,()=>c({transition:u,from:e,to:n})),s})}function Kk(t){return new Promise(e=>{ug({read:()=>setTimeout(e)},{injector:t})})}var Qk=new V(""),hm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pe,this.transitionAbortSubject=new Pe,this.configLoader=P(lm),this.environmentInjector=P(Rt),this.urlSerializer=P(Pa),this.rootContexts=P(Oa),this.location=P(No),this.inputBindingEnabled=P(td,{optional:!0})!==null,this.titleStrategy=P(XC),this.options=P(Va,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(dm),this.createViewTransition=P(t0,{optional:!0}),this.navigationErrorHandler=P(Qk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let r=o=>this.events.next(new qg(o)),i=o=>this.events.next(new zg(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(he(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new tt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ia,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yt(s=>s.id!==0),J(s=>he(O({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ve(s=>{let u=!1,c=!1;return G(s).pipe(Ve(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ft.SupersededByNewNavigation),mt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?he(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&p!=="reload"){let m="";return this.events.next(new xr(l.id,this.urlSerializer.serialize(l.rawUrl),m,zl.IgnoredSameUrlNavigation)),l.resolve(!1),mt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return G(l).pipe(Ve(m=>{let v=this.transitions?.getValue();return this.events.next(new Bo(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?mt:Promise.resolve(m)}),Vk(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=he(O({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new Gl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:T,restoredState:M,extras:S}=l,F=new Bo(m,this.urlSerializer.serialize(v),T,M);this.events.next(F);let $=$C(this.rootComponentType).snapshot;return this.currentTransition=s=he(O({},l),{targetSnapshot:$,urlAfterRedirects:v,extras:he(O({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,G(s)}else{let m="";return this.events.next(new xr(l.id,this.urlSerializer.serialize(l.extractedUrl),m,zl.IgnoredByUrlHandlingStrategy)),l.resolve(!1),mt}}),Qe(l=>{let f=new Ug(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),J(l=>(this.currentTransition=s=he(O({},l),{guards:rk(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),pk(this.environmentInjector,l=>this.events.next(l)),Qe(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Jl(this.urlSerializer,l.guardsResult);let f=new Bg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),yt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ft.GuardRejected),!1)),kg(l=>{if(l.guards.canActivateChecks.length)return G(l).pipe(Qe(f=>{let p=new $g(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),Ve(f=>{let p=!1;return G(f).pipe(Lk(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",Ft.NoDataFromResolver)}}))}),Qe(f=>{let p=new Hg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),kg(l=>{let f=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Qe(v=>{p.component=v}),J(()=>{})));for(let v of p.children)m.push(...f(v));return m};return Ks(f(l.targetSnapshot.root)).pipe(vr(null),Fn(1))}),kg(()=>this.afterPreactivation()),Ve(()=>{let{currentSnapshot:l,targetSnapshot:f}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return p?Ee(p).pipe(J(()=>s)):G(s)}),J(l=>{let f=J1(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=he(O({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),Qe(()=>{this.events.next(new Ta)}),nk(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Fn(1),Qe({next:l=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{u=!0}}),Df(this.transitionAbortSubject.pipe(Qe(l=>{throw l}))),Qs(()=>{!u&&!c&&this.cancelNavigationTransition(s,"",Ft.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),yr(l=>{if(c=!0,WC(l))this.events.next(new tr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),tk(l)?this.events.next(new $o(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let f=new ba(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=_n(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(p instanceof Sa){let{message:m,cancellationCode:v}=Jl(this.urlSerializer,p);this.events.next(new tr(s.id,this.urlSerializer.serialize(s.extractedUrl),m,v)),this.events.next(new $o(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(f);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return mt}))}))}cancelNavigationTransition(r,i,o){let s=new tr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yk(t){return t!==Ia}var Zk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>P(Jk),providedIn:"root"});let t=e;return t})(),sm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Jk=(()=>{let e=class e extends sm{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=bo(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),r0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>P(Xk),providedIn:"root"});let t=e;return t})(),Xk=(()=>{let e=class e extends r0{constructor(){super(...arguments),this.location=P(No),this.urlSerializer=P(Pa),this.options=P(Va,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(dm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new nr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$C(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Bo)this.stateMemento=this.createStateMemento();else if(r instanceof xr)this.rawUrlTree=i.initialUrl;else if(r instanceof Gl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof Ta?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof tr&&(r.code===Ft.GuardRejected||r.code===Ft.NoDataFromResolver)?this.restoreHistory(i):r instanceof ba?this.restoreHistory(i,!0):r instanceof rr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof nr?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,u=O(O({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",u)}else{let s=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=bo(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_a=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(_a||{});function i0(t,e){t.events.pipe(yt(n=>n instanceof rr||n instanceof tr||n instanceof ba||n instanceof xr),J(n=>n instanceof rr||n instanceof xr?_a.COMPLETE:(n instanceof tr?n.code===Ft.Redirect||n.code===Ft.SupersededByNewNavigation:!1)?_a.REDIRECTING:_a.FAILED),yt(n=>n!==_a.REDIRECTING),Fn(1)).subscribe(()=>{e()})}function eO(t){throw t}var tO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},lt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(_l),this.stateManager=P(r0),this.options=P(Va,{optional:!0})||{},this.pendingTasks=P(To),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(hm),this.urlSerializer=P(Pa),this.location=P(No),this.urlHandlingStrategy=P(dm),this._events=new Pe,this.errorHandler=this.options.errorHandler||eO,this.navigated=!1,this.routeReuseStrategy=P(Zk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(Ra,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(td,{optional:!0}),this.eventsSubscription=new Fe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof tr&&i.code!==Ft.Redirect&&i.code!==Ft.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof rr)this.navigated=!0;else if(i instanceof $o){let u=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=O({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Yk(o.source)},u);this.scheduleNavigation(c,Ia,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}iO(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ia,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},u=o?.navigationId?o:null;if(o){let l=O({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(cm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:u,queryParamsHandling:c,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:u,p=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":p=O(O({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=o?o.snapshot:this.routerState.snapshot.root;m=LC(v)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return jC(m,r,p,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Da(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ia,null,i)}navigate(r,i={skipLocationChange:!1}){return rO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=O({},tO):i===!1?o=O({},nO):o=i,Da(r))return vC(this.currentUrlTree,r,o);let s=this.parseUrl(r);return vC(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,u){if(this.disposed)return Promise.resolve(!1);let c,l,f;u?(c=u.resolve,l=u.reject,f=u.promise):f=new Promise((m,v)=>{c=m,l=v});let p=this.pendingTasks.add();return i0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new q(4008,!1)}function iO(t){return!(t instanceof Ta)&&!(t instanceof $o)}var ed=class{};var oO=(()=>{let e=class e{constructor(r,i,o,s,u){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(yt(r=>r instanceof rr),Zr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=ml(s.providers,r,`Route: ${s.path}`));let u=s._injector??r,c=s._loadedInjector??u;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(u,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Ee(o).pipe(mr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=G(null);let s=o.pipe($e(u=>u===null?G(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??r,u.routes))));if(i.loadComponent&&!i._loadedComponent){let u=this.loader.loadComponent(i);return Ee([s,u]).pipe(mr())}else return s})}};e.\u0275fac=function(i){return new(i||e)(B(lt),B(El),B(Rt),B(ed),B(lm))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),o0=new V(""),sO=(()=>{let e=class e{constructor(r,i,o,s,u={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration||="disabled",u.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Bo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof rr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof xr&&r.code===zl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Wl&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wl(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){nD()},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function s0(t,...e){return vn([{provide:Ra,multi:!0,useValue:t},[],{provide:Ci,useFactory:a0,deps:[lt]},{provide:Il,multi:!0,useFactory:u0},e.map(n=>n.\u0275providers)])}function a0(t){return t.routerState.root}function La(t,e){return{\u0275kind:t,\u0275providers:e}}function u0(){let t=P(nt);return e=>{let n=t.get(vi);if(e!==n.components[0])return;let r=t.get(lt),i=t.get(c0);t.get(fm)===1&&r.initialNavigation(),t.get(l0,null,se.Optional)?.setUpPreloading(),t.get(o0,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var c0=new V("",{factory:()=>new Pe}),fm=new V("",{providedIn:"root",factory:()=>1});function aO(){return La(2,[{provide:fm,useValue:0},{provide:wl,multi:!0,deps:[nt],useFactory:e=>{let n=e.get(XD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(lt),o=e.get(c0);i0(i,()=>{r(!0)}),e.get(hm).afterPreactivation=()=>(r(!0),o.closed?G(void 0):o),i.initialNavigation()}))}}])}function uO(){return La(3,[{provide:wl,multi:!0,useFactory:()=>{let e=P(lt);return()=>{e.setUpLocationChangeListener()}}},{provide:fm,useValue:2}])}var l0=new V("");function cO(t){return La(0,[{provide:l0,useExisting:oO},{provide:ed,useExisting:t}])}function lO(){return La(8,[EC,{provide:td,useExisting:EC}])}function dO(t){let e=[{provide:t0,useValue:Wk},{provide:n0,useValue:O({skipNextTransition:!!t?.skipInitialTransition},t)}];return La(9,e)}var TC=new V("ROUTER_FORROOT_GUARD"),hO=[No,{provide:Pa,useClass:Uo},lt,Oa,{provide:Ci,useFactory:a0,deps:[lt]},lm,[]],d0=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[hO,[],{provide:Ra,multi:!0,useValue:r},{provide:TC,useFactory:mO,deps:[[lt,new rt,new Rp]]},{provide:Va,useValue:i||{}},i?.useHash?pO():gO(),fO(),i?.preloadingStrategy?cO(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?yO(i):[],i?.bindToComponentInputs?lO().\u0275providers:[],i?.enableViewTransitions?dO().\u0275providers:[],vO()]}}static forChild(r){return{ngModule:e,providers:[{provide:Ra,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(B(TC,8))},e.\u0275mod=$n({type:e}),e.\u0275inj=Bn({});let t=e;return t})();function fO(){return{provide:o0,useFactory:()=>{let t=P(uC),e=P(ge),n=P(Va),r=P(hm),i=P(Pa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new sO(i,r,t,e,n)}}}function pO(){return{provide:wi,useClass:tC}}function gO(){return{provide:wi,useClass:Eg}}function mO(t){return"guarded"}function yO(t){return[t.initialNavigation==="disabled"?uO().\u0275providers:[],t.initialNavigation==="enabledBlocking"?aO().\u0275providers:[]]}var AC=new V("");function vO(){return[{provide:AC,useFactory:u0},{provide:Il,multi:!0,useExisting:AC}]}var _O="firebase",wO="10.13.1";ut(_O,wO,"app");var Nr=new Un("ANGULARFIRE2_VERSION");function od(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ja=(t,e)=>{let n=e?[e]:Uu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ir=class{constructor(){return ja(IO)}},IO="app-check";function zo(){}var id=class{zone;delegate;constructor(e,n=gf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},pm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zo,{},zo,zo)),n.pipe(Qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Pr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new id(Zone.current)),this.insideAngular=n.run(()=>new id(Zone.current,pf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(B(ge))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function EO(t){return sd().ngZone.runOutsideAngular(()=>t())}function bi(t){return sd().ngZone.run(()=>t())}function gm(t){return DO(sd())(t)}function DO(t){return function(n){return n=n.lift(new pm(t.ngZone)),n.pipe(jt(t.outsideAngular),xt(t.insideAngular))}}var CO=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),bi(()=>t.apply(void 0,r))},Dt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=bi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zo,{},zo,zo))),r[o]=CO(r[o],n));let i=EO(()=>t.apply(this,r));if(!e)if(i instanceof oe){let o=sd();return i.pipe(jt(o.outsideAngular),xt(o.insideAngular))}else return bi(()=>i);return i instanceof oe?i.pipe(gm):i instanceof Promise?bi(()=>new Promise((o,s)=>i.then(u=>bi(()=>o(u)),u=>bi(()=>s(u))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:bi(()=>i)};var or=class{constructor(e){return e}},Ti=class{constructor(){return Uu()}};function TO(t){return t&&t.length===1?t[0]:new or($s())}var mm=new V("angularfire2._apps"),AO={provide:or,useFactory:TO,deps:[[new rt,mm]]},SO={provide:Ti,deps:[[new rt,mm]]};function MO(t){return(e,n)=>{let r=n.get(Nt);ut("angularfire",Nr.full,"core"),ut("angularfire",Nr.full,"app"),ut("angular",cg.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new or(i)}}function h0(t,...e){return vn([AO,SO,{provide:mm,useFactory:MO(t),multi:!0,deps:[ge,nt,Pr,...e]}])}var ad=Dt(sw,!0);var f0="auth",Ua=class{constructor(e){return e}},Ba=class{constructor(){return ja(f0)}};var ym=new V("angularfire2.auth-instances");function bF(t,e){let n=od(f0,t,e);return n&&new Ua(n)}function TF(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ua(r)}}var AF={provide:Ba,deps:[[new rt,ym]]},SF={provide:Ua,useFactory:bF,deps:[[new rt,ym],or]};function p0(t,...e){return ut("angularfire",Nr.full,"auth"),vn([SF,AF,{provide:ym,useFactory:TF(t),multi:!0,deps:[ge,nt,Pr,Ti,[new rt,ir],...e]}])}var g0=Dt(Wh,!0);var ud=Dt(Zh,!0);var m0=Dt(Qh,!0);var y0=Dt(Kh,!0);var v0=Dt(Yh,!0);var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},w0={};var kr,vm;(function(){var t;function e(E,y){function w(){}w.prototype=y.prototype,E.D=y.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(I,D,b){for(var _=Array(arguments.length-2),Sn=2;Sn<arguments.length;Sn++)_[Sn-2]=arguments[Sn];return y.prototype[D].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,w){w||(w=0);var I=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)I[D]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(D=0;16>D;++D)I[D]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=E.g[0],w=E.g[1],D=E.g[2];var b=E.g[3],_=y+(b^w&(D^b))+I[0]+3614090360&4294967295;y=w+(_<<7&4294967295|_>>>25),_=b+(D^y&(w^D))+I[1]+3905402710&4294967295,b=y+(_<<12&4294967295|_>>>20),_=D+(w^b&(y^w))+I[2]+606105819&4294967295,D=b+(_<<17&4294967295|_>>>15),_=w+(y^D&(b^y))+I[3]+3250441966&4294967295,w=D+(_<<22&4294967295|_>>>10),_=y+(b^w&(D^b))+I[4]+4118548399&4294967295,y=w+(_<<7&4294967295|_>>>25),_=b+(D^y&(w^D))+I[5]+1200080426&4294967295,b=y+(_<<12&4294967295|_>>>20),_=D+(w^b&(y^w))+I[6]+2821735955&4294967295,D=b+(_<<17&4294967295|_>>>15),_=w+(y^D&(b^y))+I[7]+4249261313&4294967295,w=D+(_<<22&4294967295|_>>>10),_=y+(b^w&(D^b))+I[8]+1770035416&4294967295,y=w+(_<<7&4294967295|_>>>25),_=b+(D^y&(w^D))+I[9]+2336552879&4294967295,b=y+(_<<12&4294967295|_>>>20),_=D+(w^b&(y^w))+I[10]+4294925233&4294967295,D=b+(_<<17&4294967295|_>>>15),_=w+(y^D&(b^y))+I[11]+2304563134&4294967295,w=D+(_<<22&4294967295|_>>>10),_=y+(b^w&(D^b))+I[12]+1804603682&4294967295,y=w+(_<<7&4294967295|_>>>25),_=b+(D^y&(w^D))+I[13]+4254626195&4294967295,b=y+(_<<12&4294967295|_>>>20),_=D+(w^b&(y^w))+I[14]+2792965006&4294967295,D=b+(_<<17&4294967295|_>>>15),_=w+(y^D&(b^y))+I[15]+1236535329&4294967295,w=D+(_<<22&4294967295|_>>>10),_=y+(D^b&(w^D))+I[1]+4129170786&4294967295,y=w+(_<<5&4294967295|_>>>27),_=b+(w^D&(y^w))+I[6]+3225465664&4294967295,b=y+(_<<9&4294967295|_>>>23),_=D+(y^w&(b^y))+I[11]+643717713&4294967295,D=b+(_<<14&4294967295|_>>>18),_=w+(b^y&(D^b))+I[0]+3921069994&4294967295,w=D+(_<<20&4294967295|_>>>12),_=y+(D^b&(w^D))+I[5]+3593408605&4294967295,y=w+(_<<5&4294967295|_>>>27),_=b+(w^D&(y^w))+I[10]+38016083&4294967295,b=y+(_<<9&4294967295|_>>>23),_=D+(y^w&(b^y))+I[15]+3634488961&4294967295,D=b+(_<<14&4294967295|_>>>18),_=w+(b^y&(D^b))+I[4]+3889429448&4294967295,w=D+(_<<20&4294967295|_>>>12),_=y+(D^b&(w^D))+I[9]+568446438&4294967295,y=w+(_<<5&4294967295|_>>>27),_=b+(w^D&(y^w))+I[14]+3275163606&4294967295,b=y+(_<<9&4294967295|_>>>23),_=D+(y^w&(b^y))+I[3]+4107603335&4294967295,D=b+(_<<14&4294967295|_>>>18),_=w+(b^y&(D^b))+I[8]+1163531501&4294967295,w=D+(_<<20&4294967295|_>>>12),_=y+(D^b&(w^D))+I[13]+2850285829&4294967295,y=w+(_<<5&4294967295|_>>>27),_=b+(w^D&(y^w))+I[2]+4243563512&4294967295,b=y+(_<<9&4294967295|_>>>23),_=D+(y^w&(b^y))+I[7]+1735328473&4294967295,D=b+(_<<14&4294967295|_>>>18),_=w+(b^y&(D^b))+I[12]+2368359562&4294967295,w=D+(_<<20&4294967295|_>>>12),_=y+(w^D^b)+I[5]+4294588738&4294967295,y=w+(_<<4&4294967295|_>>>28),_=b+(y^w^D)+I[8]+2272392833&4294967295,b=y+(_<<11&4294967295|_>>>21),_=D+(b^y^w)+I[11]+1839030562&4294967295,D=b+(_<<16&4294967295|_>>>16),_=w+(D^b^y)+I[14]+4259657740&4294967295,w=D+(_<<23&4294967295|_>>>9),_=y+(w^D^b)+I[1]+2763975236&4294967295,y=w+(_<<4&4294967295|_>>>28),_=b+(y^w^D)+I[4]+1272893353&4294967295,b=y+(_<<11&4294967295|_>>>21),_=D+(b^y^w)+I[7]+4139469664&4294967295,D=b+(_<<16&4294967295|_>>>16),_=w+(D^b^y)+I[10]+3200236656&4294967295,w=D+(_<<23&4294967295|_>>>9),_=y+(w^D^b)+I[13]+681279174&4294967295,y=w+(_<<4&4294967295|_>>>28),_=b+(y^w^D)+I[0]+3936430074&4294967295,b=y+(_<<11&4294967295|_>>>21),_=D+(b^y^w)+I[3]+3572445317&4294967295,D=b+(_<<16&4294967295|_>>>16),_=w+(D^b^y)+I[6]+76029189&4294967295,w=D+(_<<23&4294967295|_>>>9),_=y+(w^D^b)+I[9]+3654602809&4294967295,y=w+(_<<4&4294967295|_>>>28),_=b+(y^w^D)+I[12]+3873151461&4294967295,b=y+(_<<11&4294967295|_>>>21),_=D+(b^y^w)+I[15]+530742520&4294967295,D=b+(_<<16&4294967295|_>>>16),_=w+(D^b^y)+I[2]+3299628645&4294967295,w=D+(_<<23&4294967295|_>>>9),_=y+(D^(w|~b))+I[0]+4096336452&4294967295,y=w+(_<<6&4294967295|_>>>26),_=b+(w^(y|~D))+I[7]+1126891415&4294967295,b=y+(_<<10&4294967295|_>>>22),_=D+(y^(b|~w))+I[14]+2878612391&4294967295,D=b+(_<<15&4294967295|_>>>17),_=w+(b^(D|~y))+I[5]+4237533241&4294967295,w=D+(_<<21&4294967295|_>>>11),_=y+(D^(w|~b))+I[12]+1700485571&4294967295,y=w+(_<<6&4294967295|_>>>26),_=b+(w^(y|~D))+I[3]+2399980690&4294967295,b=y+(_<<10&4294967295|_>>>22),_=D+(y^(b|~w))+I[10]+4293915773&4294967295,D=b+(_<<15&4294967295|_>>>17),_=w+(b^(D|~y))+I[1]+2240044497&4294967295,w=D+(_<<21&4294967295|_>>>11),_=y+(D^(w|~b))+I[8]+1873313359&4294967295,y=w+(_<<6&4294967295|_>>>26),_=b+(w^(y|~D))+I[15]+4264355552&4294967295,b=y+(_<<10&4294967295|_>>>22),_=D+(y^(b|~w))+I[6]+2734768916&4294967295,D=b+(_<<15&4294967295|_>>>17),_=w+(b^(D|~y))+I[13]+1309151649&4294967295,w=D+(_<<21&4294967295|_>>>11),_=y+(D^(w|~b))+I[4]+4149444226&4294967295,y=w+(_<<6&4294967295|_>>>26),_=b+(w^(y|~D))+I[11]+3174756917&4294967295,b=y+(_<<10&4294967295|_>>>22),_=D+(y^(b|~w))+I[2]+718787259&4294967295,D=b+(_<<15&4294967295|_>>>17),_=w+(b^(D|~y))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var w=y-this.blockSize,I=this.B,D=this.h,b=0;b<y;){if(D==0)for(;b<=w;)i(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<y;)if(I[D++]=E.charCodeAt(b++),D==this.blockSize){i(this,I),D=0;break}}else for(;b<y;)if(I[D++]=E[b++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var w=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=w&255,w/=256;for(this.u(E),E=Array(16),y=w=0;4>y;++y)for(var I=0;32>I;I+=8)E[w++]=this.g[y]>>>I&255;return E};function o(E,y){var w=u;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=y(E)}function s(E,y){this.h=y;for(var w=[],I=!0,D=E.length-1;0<=D;D--){var b=E[D]|0;I&&b==y||(w[D]=b,I=!1)}this.g=w}var u={};function c(E){return-128<=E&&128>E?o(E,function(y){return new s([y|0],0>y?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return S(l(-E));for(var y=[],w=1,I=0;E>=w;I++)y[I]=E/w|0,w*=4294967296;return new s(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return S(f(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(y,8)),I=p,D=0;D<E.length;D+=8){var b=Math.min(8,E.length-D),_=parseInt(E.substring(D,D+b),y);8>b?(b=l(Math.pow(y,b)),I=I.j(b).add(l(_))):(I=I.j(w),I=I.add(l(_)))}return I}var p=c(0),m=c(1),v=c(16777216);t=s.prototype,t.m=function(){if(M(this))return-S(this).m();for(var E=0,y=1,w=0;w<this.g.length;w++){var I=this.i(w);E+=(0<=I?I:4294967296+I)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T(this))return"0";if(M(this))return"-"+S(this).toString(E);for(var y=l(Math.pow(E,6)),w=this,I="";;){var D=Z(w,y).g;w=F(w,D.j(y));var b=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=D,T(w))return b+I;for(;6>b.length;)b="0"+b;I=b+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function T(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function M(E){return E.h==-1}t.l=function(E){return E=F(this,E),M(E)?-1:T(E)?0:1};function S(E){for(var y=E.g.length,w=[],I=0;I<y;I++)w[I]=~E.g[I];return new s(w,~E.h).add(m)}t.abs=function(){return M(this)?S(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0,D=0;D<=y;D++){var b=I+(this.i(D)&65535)+(E.i(D)&65535),_=(b>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);I=_>>>16,b&=65535,_&=65535,w[D]=_<<16|b}return new s(w,w[w.length-1]&-2147483648?-1:0)};function F(E,y){return E.add(S(y))}t.j=function(E){if(T(this)||T(E))return p;if(M(this))return M(E)?S(this).j(S(E)):S(S(this).j(E));if(M(E))return S(this.j(S(E)));if(0>this.l(v)&&0>E.l(v))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,w=[],I=0;I<2*y;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<E.g.length;D++){var b=this.i(I)>>>16,_=this.i(I)&65535,Sn=E.i(D)>>>16,Is=E.i(D)&65535;w[2*I+2*D]+=_*Is,$(w,2*I+2*D),w[2*I+2*D+1]+=b*Is,$(w,2*I+2*D+1),w[2*I+2*D+1]+=_*Sn,$(w,2*I+2*D+1),w[2*I+2*D+2]+=b*Sn,$(w,2*I+2*D+2)}for(I=0;I<y;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=y;I<2*y;I++)w[I]=0;return new s(w,0)};function $(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function j(E,y){this.g=E,this.h=y}function Z(E,y){if(T(y))throw Error("division by zero");if(T(E))return new j(p,p);if(M(E))return y=Z(S(E),y),new j(S(y.g),S(y.h));if(M(y))return y=Z(E,S(y)),new j(S(y.g),y.h);if(30<E.g.length){if(M(E)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var w=m,I=y;0>=I.l(E);)w=De(w),I=De(I);var D=ie(w,1),b=ie(I,1);for(I=ie(I,2),w=ie(w,2);!T(I);){var _=b.add(I);0>=_.l(E)&&(D=D.add(w),b=_),I=ie(I,1),w=ie(w,1)}return y=F(E,D.j(y)),new j(D,y)}for(D=p;0<=E.l(y);){for(w=Math.max(1,Math.floor(E.m()/y.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),b=l(w),_=b.j(y);M(_)||0<_.l(E);)w-=I,b=l(w),_=b.j(y);T(b)&&(b=m),D=D.add(b),E=F(E,_)}return new j(D,E)}t.A=function(E){return Z(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)&E.i(I);return new s(w,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)|E.i(I);return new s(w,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)^E.i(I);return new s(w,this.h^E.h)};function De(E){for(var y=E.g.length+1,w=[],I=0;I<y;I++)w[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(w,E.h)}function ie(E,y){var w=y>>5;y%=32;for(var I=E.g.length-w,D=[],b=0;b<I;b++)D[b]=0<y?E.i(b+w)>>>y|E.i(b+w+1)<<32-y:E.i(b+w);return new s(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vm=w0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,kr=w0.Integer=s}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sr={};var _m,wm,Go,Im,$a,ld,Em,Dm,Cm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof cd=="object"&&cd];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in h))break e;h=h[C]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,C={next:function(){if(!g&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},u=this||self;function c(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function v(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function T(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,C,A){for(var k=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)k[Ce-2]=arguments[Ce];return d.prototype[C].apply(g,k)}}function M(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function S(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(c(g)){let C=a.length||0,A=g.length||0;a.length=C+A;for(let k=0;k<A;k++)a[C+k]=g[k]}else a.push(g)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(a){return/^[\s\xa0]*$/.test(a)}function j(){var a=u.navigator;return a&&(a=a.userAgent)?a:""}function Z(a){return Z[" "](a),a}Z[" "]=function(){};var De=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function ie(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function E(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function y(a){let d={};for(let h in a)d[h]=a[h];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let h,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(h in g)a[h]=g[h];for(let A=0;A<w.length;A++)h=w[A],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function D(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function b(a){u.setTimeout(()=>{throw a},0)}function _(){var a=_h;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Sn{constructor(){this.h=this.g=null}add(d,h){let g=Is.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Is=new F(()=>new uA,a=>a.reset());class uA{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Es,Ds=!1,_h=new Sn,Kv=()=>{let a=u.Promise.resolve(void 0);Es=()=>{a.then(cA)}};var cA=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){b(h)}var d=Is;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ds=!1};function hr(){this.s=this.s,this.C=this.C}hr.prototype.s=!1,hr.prototype.ma=function(){this.s||(this.s=!0,this.N())},hr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var lA=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};u.addEventListener("test",h,d),u.removeEventListener("test",h,d)}catch{}return a}();function Cs(a,d){if(it.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(De){e:{try{Z(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:dA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Cs.aa.h.call(this)}}T(Cs,it);var dA={2:"touch",3:"pen",4:"mouse"};Cs.prototype.h=function(){Cs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var bs="closure_listenable_"+(1e6*Math.random()|0),hA=0;function fA(a,d,h,g,C){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=C,this.key=++hA,this.da=this.fa=!1}function Iu(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Eu(a){this.src=a,this.g={},this.h=0}Eu.prototype.add=function(a,d,h,g,C){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var k=Ih(a,d,g,C);return-1<k?(d=a[k],h||(d.fa=!1)):(d=new fA(d,this.src,A,!!g,C),d.fa=h,a.push(d)),d};function wh(a,d){var h=d.type;if(h in a.g){var g=a.g[h],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(Iu(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Ih(a,d,h,g){for(var C=0;C<a.length;++C){var A=a[C];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return C}return-1}var Eh="closure_lm_"+(1e6*Math.random()|0),Dh={};function Qv(a,d,h,g,C){if(g&&g.once)return Zv(a,d,h,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Qv(a,d[A],h,g,C);return null}return h=Ah(h),a&&a[bs]?a.K(d,h,l(g)?!!g.capture:!!g,C):Yv(a,d,h,!1,g,C)}function Yv(a,d,h,g,C,A){if(!d)throw Error("Invalid event type");var k=l(C)?!!C.capture:!!C,Ce=bh(a);if(Ce||(a[Eh]=Ce=new Eu(a)),h=Ce.add(d,h,g,k,A),h.proxy)return h;if(g=pA(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)lA||(C=k),C===void 0&&(C=!1),a.addEventListener(d.toString(),g,C);else if(a.attachEvent)a.attachEvent(Xv(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function pA(){function a(h){return d.call(a.src,a.listener,h)}let d=gA;return a}function Zv(a,d,h,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Zv(a,d[A],h,g,C);return null}return h=Ah(h),a&&a[bs]?a.L(d,h,l(g)?!!g.capture:!!g,C):Yv(a,d,h,!0,g,C)}function Jv(a,d,h,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)Jv(a,d[A],h,g,C);else g=l(g)?!!g.capture:!!g,h=Ah(h),a&&a[bs]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=Ih(A,h,g,C),-1<h&&(Iu(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=bh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Ih(d,h,g,C)),(h=-1<a?d[a]:null)&&Ch(h))}function Ch(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[bs])wh(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(Xv(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=bh(d))?(wh(h,a),h.h==0&&(h.src=null,d[Eh]=null)):Iu(a)}}}function Xv(a){return a in Dh?Dh[a]:Dh[a]="on"+a}function gA(a,d){if(a.da)a=!0;else{d=new Cs(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Ch(a),a=h.call(g,d)}return a}function bh(a){return a=a[Eh],a instanceof Eu?a:null}var Th="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ah(a){return typeof a=="function"?a:(a[Th]||(a[Th]=function(d){return a.handleEvent(d)}),a[Th])}function ot(){hr.call(this),this.i=new Eu(this),this.M=this,this.F=null}T(ot,hr),ot.prototype[bs]=!0,ot.prototype.removeEventListener=function(a,d,h,g){Jv(this,a,d,h,g)};function pt(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new it(d,a);else if(d instanceof it)d.target=d.target||a;else{var C=d;d=new it(g,a),I(d,C)}if(C=!0,h)for(var A=h.length-1;0<=A;A--){var k=d.g=h[A];C=Du(k,g,!0,d)&&C}if(k=d.g=a,C=Du(k,g,!0,d)&&C,C=Du(k,g,!1,d)&&C,h)for(A=0;A<h.length;A++)k=d.g=h[A],C=Du(k,g,!1,d)&&C}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Iu(h[g]);delete a.g[d],a.h--}}this.F=null},ot.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},ot.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Du(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==h){var Ce=k.listener,et=k.ha||k.src;k.fa&&wh(a.i,k),C=Ce.call(et,g)!==!1&&C}}return C&&!g.defaultPrevented}function e_(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:u.setTimeout(a,d||0)}function t_(a){a.g=e_(()=>{a.g=null,a.i&&(a.i=!1,t_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class mA extends hr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:t_(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(a){hr.call(this),this.h=a,this.g={}}T(Ts,hr);var n_=[];function r_(a){ie(a.g,function(d,h){this.g.hasOwnProperty(h)&&Ch(d)},a),a.g={}}Ts.prototype.N=function(){Ts.aa.N.call(this),r_(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sh=u.JSON.stringify,yA=u.JSON.parse,vA=class{stringify(a){return u.JSON.stringify(a,void 0)}parse(a){return u.JSON.parse(a,void 0)}};function Mh(){}Mh.prototype.h=null;function i_(a){return a.h||(a.h=a.i())}function o_(){}var As={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xh(){it.call(this,"d")}T(xh,it);function Rh(){it.call(this,"c")}T(Rh,it);var Hr={},s_=null;function Cu(){return s_=s_||new ot}Hr.La="serverreachability";function a_(a){it.call(this,Hr.La,a)}T(a_,it);function Ss(a){let d=Cu();pt(d,new a_(d))}Hr.STAT_EVENT="statevent";function u_(a,d){it.call(this,Hr.STAT_EVENT,a),this.stat=d}T(u_,it);function gt(a){let d=Cu();pt(d,new u_(d,a))}Hr.Ma="timingevent";function c_(a,d){it.call(this,Hr.Ma,a),this.size=d}T(c_,it);function Ms(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){a()},d)}function xs(){this.g=!0}xs.prototype.xa=function(){this.g=!1};function _A(a,d,h,g,C,A){a.info(function(){if(a.g)if(A)for(var k="",Ce=A.split("&"),et=0;et<Ce.length;et++){var ye=Ce[et].split("=");if(1<ye.length){var st=ye[0];ye=ye[1];var at=st.split("_");k=2<=at.length&&at[1]=="type"?k+(st+"="+ye+"&"):k+(st+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+h+`
`+k})}function wA(a,d,h,g,C,A,k){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+h+`
`+A+" "+k})}function $i(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+EA(a,h)+(g?" "+g:"")})}function IA(a,d){a.info(function(){return"TIMEOUT: "+d})}xs.prototype.info=function(){};function EA(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<C.length;k++)C[k]=""}}}}return Sh(h)}catch{return d}}var bu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},l_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nh;function Tu(){}T(Tu,Mh),Tu.prototype.g=function(){return new XMLHttpRequest},Tu.prototype.i=function(){return{}},Nh=new Tu;function fr(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new d_}function d_(){this.i=null,this.g="",this.h=!1}var h_={},Ph={};function kh(a,d,h){a.L=1,a.v=xu(Mn(d)),a.m=h,a.P=!0,f_(a,null)}function f_(a,d){a.F=Date.now(),Au(a),a.A=Mn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),A_(h.i,"t",g),a.C=0,h=a.j.J,a.h=new d_,a.g=z_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new mA(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(n_[0]=C.toString()),C=n_);for(var A=0;A<C.length;A++){var k=Qv(h,C[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Ss(),_A(a.i,a.u,a.A,a.l,a.R,a.m)}fr.prototype.ca=function(a){a=a.target;let d=this.M;d&&xn(a)==3?d.j():this.Y(a)},fr.prototype.Y=function(a){try{if(a==this.g)e:{let at=xn(this.g);var d=this.g.Ba();let zi=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||k_(this.g)))){this.J||at!=4||d==7||(d==8||0>=zi?Ss(3):Ss(2)),Oh(this);var h=this.g.Z();this.X=h;t:if(p_(this)){var g=k_(this.g);a="";var C=g.length,A=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),Rs(this);var k="";break t}this.h.i=new u.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=h==200,wA(this.i,this.u,this.A,this.l,this.R,at,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,et=this.g;if((Ce=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Ce)){var ye=Ce;break t}}ye=null}if(h=ye)$i(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fh(this,h);else{this.o=!1,this.s=3,gt(12),qr(this),Rs(this);break e}}if(this.P){h=!0;let Zt;for(;!this.J&&this.C<k.length;)if(Zt=DA(this,k),Zt==Ph){at==4&&(this.s=4,gt(14),h=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==h_){this.s=4,gt(15),$i(this.i,this.l,k,"[Invalid Chunk]"),h=!1;break}else $i(this.i,this.l,Zt,null),Fh(this,Zt);if(p_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||k.length!=0||this.h.h||(this.s=1,gt(16),h=!1),this.o=this.o&&h,!h)$i(this.i,this.l,k,"[Invalid Chunked Response]"),qr(this),Rs(this);else if(0<k.length&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.ba&&!st.M&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),$h(st),st.M=!0,gt(11))}}else $i(this.i,this.l,k,null),Fh(this,k);at==4&&qr(this),this.o&&!this.J&&(at==4?B_(this.j,this):(this.o=!1,Au(this)))}else UA(this.g),h==400&&0<k.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),qr(this),Rs(this)}}}catch{}finally{}};function p_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function DA(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?Ph:(h=Number(d.substring(h,g)),isNaN(h)?h_:(g+=1,g+h>d.length?Ph:(d=d.slice(g,g+h),a.C=g+h,d)))}fr.prototype.cancel=function(){this.J=!0,qr(this)};function Au(a){a.S=Date.now()+a.I,g_(a,a.I)}function g_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ms(m(a.ba,a),d)}function Oh(a){a.B&&(u.clearTimeout(a.B),a.B=null)}fr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(IA(this.i,this.A),this.L!=2&&(Ss(),gt(17)),qr(this),this.s=2,Rs(this)):g_(this,this.S-a)};function Rs(a){a.j.G==0||a.J||B_(a.j,a)}function qr(a){Oh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,r_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Fh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||Vh(h.h,a))){if(!a.K&&Vh(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ou(h),Pu(h);else break e;Bh(h),gt(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=Ms(m(h.Za,h),6e3));if(1>=v_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Gr(h,11)}else if((a.K||h.g==a)&&Ou(h),!$(d))for(C=h.Da.g.parse(d),d=0;d<C.length;d++){let ye=C[d];if(h.T=ye[0],ye=ye[1],h.G==2)if(ye[0]=="c"){h.K=ye[1],h.ia=ye[2];let st=ye[3];st!=null&&(h.la=st,h.j.info("VER="+h.la));let at=ye[4];at!=null&&(h.Aa=at,h.j.info("SVER="+h.Aa));let zi=ye[5];zi!=null&&typeof zi=="number"&&0<zi&&(g=1.5*zi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Zt=a.g;if(Zt){let Vu=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vu){var A=g.h;A.g||Vu.indexOf("spdy")==-1&&Vu.indexOf("quic")==-1&&Vu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Lh(A,A.h),A.h=null))}if(g.D){let Hh=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Hh&&(g.ya=Hh,xe(g.I,g.D,Hh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var k=a;if(g.qa=q_(g,g.J?g.ia:null,g.W),k.K){__(g.h,k);var Ce=k,et=g.L;et&&(Ce.I=et),Ce.B&&(Oh(Ce),Au(Ce)),g.g=k}else j_(g);0<h.i.length&&ku(h)}else ye[0]!="stop"&&ye[0]!="close"||Gr(h,7);else h.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Gr(h,7):Uh(h):ye[0]!="noop"&&h.l&&h.l.ta(ye),h.v=0)}}Ss(4)}catch{}}var CA=class{constructor(a,d){this.g=a,this.map=d}};function m_(a){this.l=a||10,u.PerformanceNavigationTiming?(a=u.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function y_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function v_(a){return a.h?1:a.g?a.g.size:0}function Vh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Lh(a,d){a.g?a.g.add(d):a.h=d}function __(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}m_.prototype.cancel=function(){if(this.i=w_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function w_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return M(a.i)}function bA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function TA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function I_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=TA(a),g=bA(a),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],h&&h[A],a)}var E_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AA(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),C=null;if(0<=g){var A=a[h].substring(0,g);C=a[h].substring(g+1)}else A=a[h];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function zr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof zr){this.h=a.h,Su(this,a.j),this.o=a.o,this.g=a.g,Mu(this,a.s),this.l=a.l;var d=a.i,h=new ks;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),D_(this,h),this.m=a.m}else a&&(d=String(a).match(E_))?(this.h=!1,Su(this,d[1]||"",!0),this.o=Ns(d[2]||""),this.g=Ns(d[3]||"",!0),Mu(this,d[4]),this.l=Ns(d[5]||"",!0),D_(this,d[6]||"",!0),this.m=Ns(d[7]||"")):(this.h=!1,this.i=new ks(null,this.h))}zr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ps(d,C_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ps(d,C_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ps(h,h.charAt(0)=="/"?xA:MA,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ps(h,NA)),a.join("")};function Mn(a){return new zr(a)}function Su(a,d,h){a.j=h?Ns(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Mu(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function D_(a,d,h){d instanceof ks?(a.i=d,PA(a.i,a.h)):(h||(d=Ps(d,RA)),a.i=new ks(d,a.h))}function xe(a,d,h){a.i.set(d,h)}function xu(a){return xe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ns(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ps(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,SA),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function SA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var C_=/[#\/\?@]/g,MA=/[#\?:]/g,xA=/[#\?]/g,RA=/[#\?@]/g,NA=/#/g;function ks(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function pr(a){a.g||(a.g=new Map,a.h=0,a.i&&AA(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=ks.prototype,t.add=function(a,d){pr(this),this.i=null,a=Hi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function b_(a,d){pr(a),d=Hi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function T_(a,d){return pr(a),d=Hi(a,d),a.g.has(d)}t.forEach=function(a,d){pr(this),this.g.forEach(function(h,g){h.forEach(function(C){a.call(d,C,g,this)},this)},this)},t.na=function(){pr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let C=a[g];for(let A=0;A<C.length;A++)h.push(d[g])}return h},t.V=function(a){pr(this);let d=[];if(typeof a=="string")T_(this,a)&&(d=d.concat(this.g.get(Hi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return pr(this),this.i=null,a=Hi(this,a),T_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function A_(a,d,h){b_(a,d),0<h.length&&(a.i=null,a.g.set(Hi(a,d),M(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var C=A;k[g]!==""&&(C+="="+encodeURIComponent(String(k[g]))),a.push(C)}}return this.i=a.join("&")};function Hi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function PA(a,d){d&&!a.j&&(pr(a),a.i=null,a.g.forEach(function(h,g){var C=g.toLowerCase();g!=C&&(b_(this,g),A_(this,C,h))},a)),a.j=d}function kA(a,d){let h=new xs;if(u.Image){let g=new Image;g.onload=v(gr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=v(gr,h,"TestLoadImage: error",!1,d,g),g.onabort=v(gr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(gr,h,"TestLoadImage: timeout",!1,d,g),u.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function OA(a,d){let h=new xs,g=new AbortController,C=setTimeout(()=>{g.abort(),gr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?gr(h,"TestPingServer: ok",!0,d):gr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),gr(h,"TestPingServer: error",!1,d)})}function gr(a,d,h,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(h)}catch{}}function FA(){this.g=new vA}function VA(a,d,h){let g=h||"";try{I_(a,function(C,A){let k=C;l(C)&&(k=Sh(C)),d.push(g+A+"="+encodeURIComponent(k))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Os(a){this.l=a.Ub||null,this.j=a.eb||!1}T(Os,Mh),Os.prototype.g=function(){return new Ru(this.l,this.j)},Os.prototype.i=function(a){return function(){return a}}({});function Ru(a,d){ot.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Ru,ot),t=Ru.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Vs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||u).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Vs(this)),this.g&&(this.readyState=3,Vs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;S_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function S_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Fs(this):Vs(this),this.readyState==3&&S_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Fs(this))},t.Qa=function(a){this.g&&(this.response=a,Fs(this))},t.ga=function(){this.g&&Fs(this)};function Fs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Vs(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Vs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function M_(a){let d="";return ie(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function jh(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=M_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):xe(a,d,h))}function Oe(a){ot.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Oe,ot);var LA=/^https?$/i,jA=["POST","PUT"];t=Oe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nh.g(),this.v=this.o?i_(this.o):i_(Nh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){x_(this,A);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)h.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),C=u.FormData&&a instanceof u.FormData,!(0<=Array.prototype.indexOf.call(jA,d,void 0))||g||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of h)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{P_(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){x_(this,A)}};function x_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,R_(a),Nu(a)}function R_(a){a.A||(a.A=!0,pt(a,"complete"),pt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,pt(this,"complete"),pt(this,"abort"),Nu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nu(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?N_(this):this.bb())},t.bb=function(){N_(this)};function N_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||xn(a)!=4||a.Z()!=2)){if(a.u&&xn(a)==4)e_(a.Ea,0,a);else if(pt(a,"readystatechange"),xn(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=k===0){var C=String(a.D).match(E_)[1]||null;!C&&u.self&&u.self.location&&(C=u.self.location.protocol.slice(0,-1)),g=!LA.test(C?C.toLowerCase():"")}h=g}if(h)pt(a,"complete"),pt(a,"success");else{a.m=6;try{var A=2<xn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",R_(a)}}finally{Nu(a)}}}}function Nu(a,d){if(a.g){P_(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||pt(a,"ready");try{h.onreadystatechange=g}catch{}}}function P_(a){a.I&&(u.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function xn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),yA(d)}};function k_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function UA(a){let d={};a=(a.g&&2<=xn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if($(a[g]))continue;var h=D(a[g]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[C]||[];d[C]=A,A.push(h)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ls(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function O_(a){this.Aa=0,this.i=[],this.j=new xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ls("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ls("baseRetryDelayMs",5e3,a),this.cb=Ls("retryDelaySeedMs",1e4,a),this.Wa=Ls("forwardChannelMaxRetries",2,a),this.wa=Ls("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new m_(a&&a.concurrentRequestLimit),this.Da=new FA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=O_.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){gt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=q_(this,null,this.W),ku(this)};function Uh(a){if(F_(a),a.G==3){var d=a.U++,h=Mn(a.I);if(xe(h,"SID",a.K),xe(h,"RID",d),xe(h,"TYPE","terminate"),js(a,h),d=new fr(a,a.j,d),d.L=2,d.v=xu(Mn(h)),h=!1,u.navigator&&u.navigator.sendBeacon)try{h=u.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&u.Image&&(new Image().src=d.v,h=!0),h||(d.g=z_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Au(d)}H_(a)}function Pu(a){a.g&&($h(a),a.g.cancel(),a.g=null)}function F_(a){Pu(a),a.u&&(u.clearTimeout(a.u),a.u=null),Ou(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&u.clearTimeout(a.s),a.s=null)}function ku(a){if(!y_(a.h)&&!a.s){a.s=!0;var d=a.Ga;Es||Kv(),Ds||(Es(),Ds=!0),_h.add(d,a),a.B=0}}function BA(a,d){return v_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ms(m(a.Ga,a,d),$_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new fr(this,this.j,a),A=this.o;if(this.S&&(A?(A=y(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=L_(this,C,d),h=Mn(this.I),xe(h,"RID",a),xe(h,"CVER",22),this.D&&xe(h,"X-HTTP-Session-Id",this.D),js(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(M_(A)))+"&"+d:this.m&&jh(h,this.m,A)),Lh(this.h,C),this.Ua&&xe(h,"TYPE","init"),this.P?(xe(h,"$req",d),xe(h,"SID","null"),C.T=!0,kh(C,h,null)):kh(C,h,d),this.G=2}}else this.G==3&&(a?V_(this,a):this.i.length==0||y_(this.h)||V_(this))};function V_(a,d){var h;d?h=d.l:h=a.U++;let g=Mn(a.I);xe(g,"SID",a.K),xe(g,"RID",h),xe(g,"AID",a.T),js(a,g),a.m&&a.o&&jh(g,a.m,a.o),h=new fr(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=L_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Lh(a.h,h),kh(h,g,d)}function js(a,d){a.H&&ie(a.H,function(h,g){xe(d,g,h)}),a.l&&I_({},function(h,g){xe(d,g,h)})}function L_(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var C=a.i;let A=-1;for(;;){let k=["count="+h];A==-1?0<h?(A=C[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let Ce=!0;for(let et=0;et<h;et++){let ye=C[et].g,st=C[et].map;if(ye-=A,0>ye)A=Math.max(0,C[et].g-100),Ce=!1;else try{VA(st,k,"req"+ye+"_")}catch{g&&g(st)}}if(Ce){g=k.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function j_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Es||Kv(),Ds||(Es(),Ds=!0),_h.add(d,a),a.v=0}}function Bh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ms(m(a.Fa,a),$_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,U_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ms(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Pu(this),U_(this))};function $h(a){a.A!=null&&(u.clearTimeout(a.A),a.A=null)}function U_(a){a.g=new fr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Mn(a.qa);xe(d,"RID","rpc"),xe(d,"SID",a.K),xe(d,"AID",a.T),xe(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&xe(d,"TO",a.ja),xe(d,"TYPE","xmlhttp"),js(a,d),a.m&&a.o&&jh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=xu(Mn(d)),h.m=null,h.P=!0,f_(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Pu(this),Bh(this),gt(19))};function Ou(a){a.C!=null&&(u.clearTimeout(a.C),a.C=null)}function B_(a,d){var h=null;if(a.g==d){Ou(a),$h(a),a.g=null;var g=2}else if(Vh(a.h,d))h=d.D,__(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;g=Cu(),pt(g,new c_(g,h)),ku(a)}else j_(a);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&BA(a,d)||g==2&&Bh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),C){case 1:Gr(a,5);break;case 4:Gr(a,10);break;case 3:Gr(a,6);break;default:Gr(a,2)}}}function $_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Gr(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let C=!g;g=new zr(g||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Su(g,"https"),xu(g),C?kA(g.toString(),h):OA(g.toString(),h)}else gt(2);a.G=0,a.l&&a.l.sa(d),H_(a),F_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function H_(a){if(a.G=0,a.ka=[],a.l){let d=w_(a.h);(d.length!=0||a.i.length!=0)&&(S(a.ka,d),S(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function q_(a,d,h){var g=h instanceof zr?Mn(h):new zr(h);if(g.g!="")d&&(g.g=d+"."+g.g),Mu(g,g.s);else{var C=u.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new zr(null);g&&Su(A,g),d&&(A.g=d),C&&Mu(A,C),h&&(A.l=h),g=A}return h=a.D,d=a.ya,h&&d&&xe(g,h,d),xe(g,"VER",a.la),js(a,g),g}function z_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Oe(new Os({eb:h})):new Oe(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function G_(){}t=G_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fu(){}Fu.prototype.g=function(a,d){return new St(a,d)};function St(a,d){ot.call(this),this.g=new O_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!$(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new qi(this)}T(St,ot),St.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){Uh(this.g)},St.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Sh(a),a=h);d.i.push(new CA(d.Ya++,a)),d.G==3&&ku(d)},St.prototype.N=function(){this.g.l=null,delete this.j,Uh(this.g),delete this.g,St.aa.N.call(this)};function W_(a){xh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}T(W_,xh);function K_(){Rh.call(this),this.status=1}T(K_,Rh);function qi(a){this.g=a}T(qi,G_),qi.prototype.ua=function(){pt(this.g,"a")},qi.prototype.ta=function(a){pt(this.g,new W_(a))},qi.prototype.sa=function(a){pt(this.g,new K_)},qi.prototype.ra=function(){pt(this.g,"b")},Fu.prototype.createWebChannel=Fu.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,Cm=sr.createWebChannelTransport=function(){return new Fu},Dm=sr.getStatEventTarget=function(){return Cu()},Em=sr.Event=Hr,ld=sr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bu.NO_ERROR=0,bu.TIMEOUT=8,bu.HTTP_ERROR=6,$a=sr.ErrorCode=bu,l_.COMPLETE="complete",Im=sr.EventType=l_,o_.EventType=As,As.OPEN="a",As.CLOSE="b",As.ERROR="c",As.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Go=sr.WebChannel=o_,wm=sr.FetchXmlHttpFactory=Os,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,_m=sr.XhrIo=Oe}).apply(typeof cd<"u"?cd:typeof self<"u"?self:typeof window<"u"?window:{});var I0="@firebase/firestore";var Xe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");var ds="10.13.1";var Ri=new ju("@firebase/firestore");function Ha(){return Ri.logLevel}function U(t,...e){if(Ri.logLevel<=Nn.DEBUG){let n=e.map(dv);Ri.debug(`Firestore (${ds}): ${t}`,...n)}}function ur(t,...e){if(Ri.logLevel<=Nn.ERROR){let n=e.map(dv);Ri.error(`Firestore (${ds}): ${t}`,...n)}}function Xo(t,...e){if(Ri.logLevel<=Nn.WARN){let n=e.map(dv);Ri.warn(`Firestore (${ds}): ${t}`,...n)}}function dv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function W(t="Unexpected state"){let e=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: `+t;throw ur(e),new Error(e)}function Ae(t,e){t||W()}function ee(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends rw{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ar=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var gd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Mm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}},xm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Rm=class{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ar,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>N(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},u=c=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?u(c):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ar)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new gd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new Xe(e)}},Nm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Pm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Nm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},km=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Om=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new km(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function MF(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var md=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=MF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ve(t,e){return t<e?-1:t>e?1:0}function es(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ze=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ze(0,0))}static max(){return new t(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var yd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(),r===void 0?r=e.length-n:r>e.length-n&&W(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ke=class t extends yd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},xF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vt=class t extends yd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return xF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let u=e[i];if(u==="\\"){if(i+1===e.length)throw new L(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new L(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new L(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};var Fm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Fm.UNKNOWN_ID=-1;function RF(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new Ni(i,z.empty(),e)}function NF(t){return new Ni(t.readTime,t.key,-1)}var Ni=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),z.empty(),-1)}static max(){return new t(te.max(),z.empty(),-1)}};function PF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}var kF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Vm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function uu(t){return N(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==kF)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var R=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),u=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(f=>{s[l]=f,++u,u===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function OF(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cu(t){return t.name==="IndexedDbTransactionError"}var nb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Gd(t){return t==null}function Ya(t){return t===0&&1/t==-1/0}function FF(t){return typeof t=="number"&&Number.isInteger(t)&&!Ya(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var VF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],M9=[...VF,"documentOverlays"],LF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jF=LF,UF=[...jF,"indexConfiguration","indexState","indexEntries"];var x9=[...UF,"globals"];function E0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Le=class t{constructor(e,n){this.comparator=e,this.root=n||Cn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yo(this.root,e,this.comparator,!0)}},Yo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Cn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ht=class t{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vd(this.data.getIterator())}getIteratorFrom(e){return new vd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},vd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Dn=class t{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ht(Vt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return es(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var _d=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ft=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _d("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ft.EMPTY_BYTE_STRING=new ft("");var BF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(t){if(Ae(!!t),typeof t=="string"){let e=0,n=BF.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fr(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}function hv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fv(t){let e=t.mapValue.fields.__previous_value__;return hv(e)?fv(e):e}function Za(t){let e=cr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}var Lm=class{constructor(e,n,r,i,o,s,u,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=l}},wd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var dd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hv(t)?4:ob(t)?9007199254740991:ib(t)?10:11:W()}function An(t,e){if(t===e)return!0;let n=Pi(t);if(n!==Pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Za(t).isEqual(Za(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=cr(i.timestampValue),u=cr(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Fr(i.bytesValue).isEqual(Fr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ne(i.doubleValue),u=Ne(o.doubleValue);return s===u?Ya(s)===Ya(u):isNaN(s)&&isNaN(u)}return!1}(t,e);case 9:return es(t.arrayValue.values||[],e.arrayValue.values||[],An);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},u=o.mapValue.fields||{};if(E0(s)!==E0(u))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!An(s[c],u[c])))return!1;return!0}(t,e);default:return W()}}function Ja(t,e){return(t.values||[]).find(n=>An(n,e))!==void 0}function ts(t,e){if(t===e)return 0;let n=Pi(t),r=Pi(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(o,s){let u=Ne(o.integerValue||o.doubleValue),c=Ne(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return D0(t.timestampValue,e.timestampValue);case 4:return D0(Za(t),Za(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(o,s){let u=Fr(o),c=Fr(s);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let u=o.split("/"),c=s.split("/");for(let l=0;l<u.length&&l<c.length;l++){let f=ve(u[l],c[l]);if(f!==0)return f}return ve(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let u=ve(Ne(o.latitude),Ne(s.latitude));return u!==0?u:ve(Ne(o.longitude),Ne(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return C0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var u,c,l,f;let p=o.fields||{},m=s.fields||{},v=(u=p.value)===null||u===void 0?void 0:u.arrayValue,T=(c=m.value)===null||c===void 0?void 0:c.arrayValue,M=ve(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((f=T?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:C0(v,T)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===dd.mapValue&&s===dd.mapValue)return 0;if(o===dd.mapValue)return 1;if(s===dd.mapValue)return-1;let u=o.fields||{},c=Object.keys(u),l=s.fields||{},f=Object.keys(l);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){let m=ve(c[p],f[p]);if(m!==0)return m;let v=ts(u[c[p]],l[f[p]]);if(v!==0)return v}return ve(c.length,f.length)}(t.mapValue,e.mapValue);default:throw W()}}function D0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);let n=cr(t),r=cr(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function C0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ts(n[i],r[i]);if(o)return o}return ve(n.length,r.length)}function ns(t){return jm(t)}function jm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=cr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=jm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${jm(n.fields[s])}`;return i+"}"}(t.mapValue):W()}function b0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Um(t){return!!t&&"integerValue"in t}function pv(t){return!!t&&"arrayValue"in t}function T0(t){return!!t&&"nullValue"in t}function A0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fd(t){return!!t&&"mapValue"in t}function ib(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=za(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=za(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ob(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var an=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=za(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((s,u)=>{if(!n.isImmediateParentOf(u)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=za(s):i.push(u.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return An(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hs(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(za(this.value))}};function sb(t){let e=[];return hs(t.fields,(n,r)=>{let i=new Vt([n]);if(fd(r)){let o=sb(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Dn(e)}var un=class t{constructor(e,n,r,i,o,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=u}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),an.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),an.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var rs=class{constructor(e,n){this.position=e,this.inclusive=n}};function S0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=ts(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function M0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!An(t.position[n],e.position[n]))return!1;return!0}var ki=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function $F(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Id=class{},We=class t extends Id{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $m(e,n,r):n==="array-contains"?new zm(e,r):n==="in"?new Gm(e,r):n==="not-in"?new Wm(e,r):n==="array-contains-any"?new Km(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Hm(e,r):new qm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ts(n,this.value)):n!==null&&Pi(this.value)===Pi(n)&&this.matchesComparison(ts(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},cn=class t extends Id{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return ab(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function ab(t){return t.op==="and"}function ub(t){return HF(t)&&ab(t)}function HF(t){for(let e of t.filters)if(e instanceof cn)return!1;return!0}function Bm(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+ns(t.value);if(ub(t))return t.filters.map(e=>Bm(e)).join(",");{let e=t.filters.map(n=>Bm(n)).join(",");return`${t.op}(${e})`}}function cb(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&An(r.value,i.value)}(t,e):t instanceof cn?function(r,i){return i instanceof cn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,u)=>o&&cb(s,i.filters[u]),!0):!1}(t,e):void W()}function lb(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${ns(n.value)}`}(t):t instanceof cn?function(n){return n.op.toString()+" {"+n.getFilters().map(lb).join(" ,")+"}"}(t):"Filter"}var $m=class extends We{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},Hm=class extends We{constructor(e,n){super(e,"in",n),this.keys=db("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},qm=class extends We{constructor(e,n){super(e,"not-in",n),this.keys=db("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function db(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var zm=class extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return pv(n)&&Ja(n.arrayValue,this.value)}},Gm=class extends We{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ja(this.value.arrayValue,n)}},Wm=class extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ja(this.value.arrayValue,n)}},Km=class extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ja(this.value.arrayValue,r))}};var Qm=class{constructor(e,n=null,r=[],i=[],o=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.ue=null}};function x0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Qm(t,e,n,r,i,o,s)}function gv(t){let e=ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Bm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ns(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ns(r)).join(",")),e.ue=n}return e.ue}function mv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$F(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!M0(t.startAt,e.startAt)&&M0(t.endAt,e.endAt)}function Ym(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Vr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function qF(t,e,n,r,i,o,s,u){return new Vr(t,e,n,r,i,o,s,u)}function yv(t){return new Vr(t)}function R0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hb(t){return t.collectionGroup!==null}function Ga(t){let e=ee(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new ht(Vt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(u=u.add(l.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ki(o,r))}),n.has(Vt.keyField().canonicalString())||e.ce.push(new ki(Vt.keyField(),r))}return e.ce}function bn(t){let e=ee(t);return e.le||(e.le=zF(e,Ga(t))),e.le}function zF(t,e){if(t.limitType==="F")return x0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ki(i.field,o)});let n=t.endAt?new rs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rs(t.startAt.position,t.startAt.inclusive):null;return x0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zm(t,e){let n=t.filters.concat([e]);return new Vr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jm(t,e,n){return new Vr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wd(t,e){return mv(bn(t),bn(e))&&t.limitType===e.limitType}function fb(t){return`${gv(bn(t))}|lt:${t.limitType}`}function Wo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lb(i)).join(", ")}]`),Gd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ns(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ns(i)).join(",")),`Target(${r})`}(bn(t))}; limitType=${t.limitType})`}function Kd(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Ga(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,u,c){let l=S0(s,u,c);return s.inclusive?l<=0:l<0}(r.startAt,Ga(r),i)||r.endAt&&!function(s,u,c){let l=S0(s,u,c);return s.inclusive?l>=0:l>0}(r.endAt,Ga(r),i))}(t,e)}function GF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pb(t){return(e,n)=>{let r=!1;for(let i of Ga(t)){let o=WF(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function WF(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,u){let c=s.data.field(o),l=u.data.field(o);return c!==null&&l!==null?ts(c,l):W()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}var Lr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return rb(this.inner)}size(){return this.innerSize}};var KF=new Le(z.comparator);function lr(){return KF}var gb=new Le(z.comparator);function qa(...t){let e=gb;for(let n of t)e=e.insert(n.key,n);return e}function mb(t){let e=gb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ai(){return Wa()}function yb(){return Wa()}function Wa(){return new Lr(t=>t.toString(),(t,e)=>t.isEqual(e))}var QF=new Le(z.comparator),YF=new ht(z.comparator);function de(...t){let e=YF;for(let n of t)e=e.add(n);return e}var ZF=new ht(ve);function JF(){return ZF}function vv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ya(e)?"-0":e}}function vb(t){return{integerValue:""+t}}function XF(t,e){return FF(e)?vb(e):vv(t,e)}var is=class{constructor(){this._=void 0}};function eV(t,e,n){return t instanceof os?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&hv(o)&&(o=fv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Oi?wb(t,e):t instanceof Fi?Ib(t,e):function(i,o){let s=_b(i,o),u=N0(s)+N0(i.Pe);return Um(s)&&Um(i.Pe)?vb(u):vv(i.serializer,u)}(t,e)}function tV(t,e,n){return t instanceof Oi?wb(t,e):t instanceof Fi?Ib(t,e):n}function _b(t,e){return t instanceof ss?function(r){return Um(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var os=class extends is{},Oi=class extends is{constructor(e){super(),this.elements=e}};function wb(t,e){let n=Eb(e);for(let r of t.elements)n.some(i=>An(i,r))||n.push(r);return{arrayValue:{values:n}}}var Fi=class extends is{constructor(e){super(),this.elements=e}};function Ib(t,e){let n=Eb(e);for(let r of t.elements)n=n.filter(i=>!An(i,r));return{arrayValue:{values:n}}}var ss=class extends is{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function N0(t){return Ne(t.integerValue||t.doubleValue)}function Eb(t){return pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Oi&&i instanceof Oi||r instanceof Fi&&i instanceof Fi?es(r.elements,i.elements,An):r instanceof ss&&i instanceof ss?An(r.Pe,i.Pe):r instanceof os&&i instanceof os}(t.transform,e.transform)}var Xm=class{constructor(e,n){this.version=e,this.transformResults=n}},xi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function pd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var as=class{};function Db(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ed(t.key,xi.none()):new Vi(t.key,t.data,xi.none());{let n=t.data,r=an.empty(),i=new ht(Vt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new dr(t.key,r,new Dn(i.toArray()),xi.none())}}function rV(t,e,n){t instanceof Vi?function(i,o,s){let u=i.value.clone(),c=k0(i.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):t instanceof dr?function(i,o,s){if(!pd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let u=k0(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(Cb(i)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ka(t,e,n,r){return t instanceof Vi?function(o,s,u,c){if(!pd(o.precondition,s))return u;let l=o.value.clone(),f=O0(o.fieldTransforms,c,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof dr?function(o,s,u,c){if(!pd(o.precondition,s))return u;let l=O0(o.fieldTransforms,c,s),f=s.data;return f.setAll(Cb(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,u){return pd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(t,e,n)}function iV(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=_b(r.transform,i||null);o!=null&&(n===null&&(n=an.empty()),n.set(r.field,o))}return n||null}function P0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&es(r,i,(o,s)=>nV(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Vi=class extends as{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},dr=class extends as{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Cb(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function k0(t,e,n){let r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,u=e.data.field(o.field);r.set(o.field,tV(s,u,n[i]))}return r}function O0(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,eV(o,s,e))}return r}var Ed=class extends as{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ey=class extends as{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ty=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&rV(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=yb();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,u=this.applyToLocalView(s,o.mutatedFields);u=n.has(i.key)?null:u;let c=Db(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&es(this.mutations,e.mutations,(n,r)=>P0(n,r))&&es(this.baseMutations,e.baseMutations,(n,r)=>P0(n,r))}},ny=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return QF}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var ry=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var iy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ze,fe;function oV(t){switch(t){default:return W();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function bb(t){if(t===void 0)return ur("GRPC error has no .code"),x.UNKNOWN;switch(t){case ze.OK:return x.OK;case ze.CANCELLED:return x.CANCELLED;case ze.UNKNOWN:return x.UNKNOWN;case ze.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case ze.INTERNAL:return x.INTERNAL;case ze.UNAVAILABLE:return x.UNAVAILABLE;case ze.UNAUTHENTICATED:return x.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case ze.NOT_FOUND:return x.NOT_FOUND;case ze.ALREADY_EXISTS:return x.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return x.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case ze.ABORTED:return x.ABORTED;case ze.OUT_OF_RANGE:return x.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return x.UNIMPLEMENTED;case ze.DATA_LOSS:return x.DATA_LOSS;default:return W()}}(fe=ze||(ze={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var F0=null;function sV(){return new TextEncoder}var aV=new kr([4294967295,4294967295],0);function V0(t){let e=sV().encode(t),n=new vm;return n.update(e),new Uint8Array(n.digest())}function L0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new kr([n,r],0),new kr([i,o],0)]}var oy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Si(`Invalid padding: ${n}`);if(r<0)throw new Si(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Si(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Si(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=kr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(kr.fromNumber(r)));return i.compare(aV)===1&&(i=new kr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=V0(e),[r,i]=L0(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(u=>s.insert(u)),s}insert(e){if(this.Ie===0)return;let n=V0(e),[r,i]=L0(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Si=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Dd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Xa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new Le(ve),lr(),de())}},Xa=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,de(),de(),de())}};var Zo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Cd=class{constructor(e,n){this.targetId=e,this.me=n}},bd=class{constructor(e,n,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Td=class{constructor(){this.fe=0,this.ge=U0(),this.pe=ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),n=de(),r=de();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W()}}),new Xa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=U0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},sy=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=lr(),this.qe=j0(),this.Qe=new Le(ve)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(Ym(o))if(r===0){let s=new z(o.path);this.Ue(n,s,un.newNoDocument(s,te.min()))}else Ae(r===1);else{let s=this.Ye(n);if(s!==r){let u=this.Ze(e),c=u?this.Xe(u,e,s):1;if(c!==0){this.je(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}F0?.et(function(f,p,m,v,T){var M,S,F,$,j,Z;let De={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ie=p.unchangedNames;return ie&&(De.bloomFilter={applied:T===0,hashCount:(M=ie?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:($=(F=(S=ie?.bits)===null||S===void 0?void 0:S.bitmap)===null||F===void 0?void 0:F.length)!==null&&$!==void 0?$:0,padding:(Z=(j=ie?.bits)===null||j===void 0?void 0:j.padding)!==null&&Z!==void 0?Z:0,mightContain:E=>{var y;return(y=v?.mightContain(E))!==null&&y!==void 0&&y}}),De}(s,e.me,this.Le.tt(),u,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,u;try{s=Fr(r).toUint8Array()}catch(c){if(c instanceof _d)return Xo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new oy(s,i,o)}catch(c){return Xo(c instanceof Si?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),u=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let u=this.Je(s);if(u){if(o.current&&Ym(u.target)){let c=new z(u.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,un.newNoDocument(c,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=de();this.qe.forEach((o,s)=>{let u=!0;s.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Dd(e,n,this.Qe,this.ke,r);return this.ke=lr(),this.qe=j0(),this.Qe=new Le(ve),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Td,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ht(ve),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Td),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function j0(){return new Le(z.comparator)}function U0(){return new Le(z.comparator)}var uV={asc:"ASCENDING",desc:"DESCENDING"},cV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lV={and:"AND",or:"OR"},ay=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function uy(t,e){return t.useProto3Json||Gd(e)?e:{value:e}}function Ad(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dV(t,e){return Ad(t,e.toTimestamp())}function Tn(t){return Ae(!!t),te.fromTimestamp(function(n){let r=cr(n);return new Ze(r.seconds,r.nanos)}(t))}function _v(t,e){return cy(t,e).canonicalString()}function cy(t,e){let n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ab(t){let e=ke.fromString(t);return Ae(Nb(e)),e}function ly(t,e){return _v(t.databaseId,e.path)}function bm(t,e){let n=Ab(e);if(n.get(1)!==t.databaseId.projectId)throw new L(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(Mb(n))}function Sb(t,e){return _v(t.databaseId,e)}function hV(t){let e=Ab(t);return e.length===4?ke.emptyPath():Mb(e)}function dy(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Mb(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function B0(t,e,n){return{name:ly(t,e),fields:n.value.mapValue.fields}}function fV(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(Ae(f===void 0||typeof f=="string"),ft.fromBase64String(f||"")):(Ae(f===void 0||f instanceof Buffer||f instanceof Uint8Array),ft.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(l){let f=l.code===void 0?x.UNKNOWN:bb(l.code);return new L(f,l.message||"")}(s);n=new bd(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=bm(t,r.document.name),o=Tn(r.document.updateTime),s=r.document.createTime?Tn(r.document.createTime):te.min(),u=new an({mapValue:{fields:r.document.fields}}),c=un.newFoundDocument(i,o,s,u),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Zo(l,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=bm(t,r.document),o=r.readTime?Tn(r.readTime):te.min(),s=un.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Zo([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=bm(t,r.document),o=r.removedTargetIds||[];n=new Zo([],o,i,null)}else{if(!("filter"in e))return W();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new iy(i,o),u=r.targetId;n=new Cd(u,s)}}return n}function pV(t,e){let n;if(e instanceof Vi)n={update:B0(t,e.key,e.value)};else if(e instanceof Ed)n={delete:ly(t,e.key)};else if(e instanceof dr)n={update:B0(t,e.key,e.data),updateMask:DV(e.fieldMask)};else{if(!(e instanceof ey))return W();n={verify:ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let u=s.transform;if(u instanceof os)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Oi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Fi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ss)return{fieldPath:s.field.canonicalString(),increment:u.Pe};throw W()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:dV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:W()}(t,e.precondition)),n}function gV(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Tn(i.updateTime):Tn(o);return s.isEqual(te.min())&&(s=Tn(o)),new Xm(s,i.transformResults||[])}(n,e))):[]}function mV(t,e){return{documents:[Sb(t,e.path)]}}function yV(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Sb(t,i);let o=function(l){if(l.length!==0)return Rb(cn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(m){return{field:Ko(m.field),direction:wV(m.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let u=uy(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function vV(t){let e=hV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ae(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){let m=xb(p);return m instanceof cn&&ub(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(T){return new ki(Qo(T.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let u=null;n.limit&&(u=function(p){let m;return m=typeof p=="object"?p.value:p,Gd(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){let m=!!p.before,v=p.values||[];return new rs(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new rs(v,m)}(n.endAt)),qF(e,i,s,o,u,"F",c,l)}function _V(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Qo(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Qo(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Qo(n.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Qo(n.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(n){return We.create(Qo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cn.create(n.compositeFilter.filters.map(r=>xb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(t):W()}function wV(t){return uV[t]}function IV(t){return cV[t]}function EV(t){return lV[t]}function Ko(t){return{fieldPath:t.canonicalString()}}function Qo(t){return Vt.fromServerFormat(t.fieldPath)}function Rb(t){return t instanceof We?function(n){if(n.op==="=="){if(A0(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NAN"}};if(T0(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(A0(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NAN"}};if(T0(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(n.field),op:IV(n.op),value:n.value}}}(t):t instanceof cn?function(n){let r=n.getFilters().map(i=>Rb(i));return r.length===1?r[0]:{compositeFilter:{op:EV(n.op),filters:r}}}(t):W()}function DV(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Nb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var eu=class t{constructor(e,n,r,i,o=te.min(),s=te.min(),u=ft.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var hy=class{constructor(e){this.ct=e}};function CV(t){let e=vV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jm(e,e.limit,"L"):e}var Sd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Ya(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=cr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Fr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?ob(e)?this.dt(n,Number.MAX_SAFE_INTEGER):ib(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):W()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",u=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ne(u)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Sd.vt=new Sd;var fy=class{constructor(){this.un=new py}addToCollectionParentIndex(e,n){return this.un.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(Ni.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(Ni.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}},py=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(ke.comparator)).toArray()}};var N9=new Uint8Array(0);var En=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(41943040,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);var tu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var gy=class{constructor(){this.changes=new Lr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var my=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var yy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ka(r.mutation,i,Dn.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){let i=Ai();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=qa();return o.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,u)=>{n.set(s,u)})})}computeViews(e,n,r,i){let o=lr(),s=Wa(),u=function(){return Wa()}();return n.forEach((c,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof dr)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Ka(f.mutation,l,f.mutation.getFieldMask(),Ze.now())):s.set(l.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return u.set(l,new my(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),u))}recalculateAndSaveOverlays(e,n){let r=Wa(),i=new Le((s,u)=>s-u),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let u of s)u.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let f=r.get(c)||Dn.empty();f=u.applyToLocalView(l,f),r.set(c,f);let p=(i.get(u.batchId)||de()).add(c);i=i.insert(u.batchId,p)})}).next(()=>{let s=[],u=i.getReverseIterator();for(;u.hasNext();){let c=u.getNext(),l=c.key,f=c.value,p=yb();f.forEach(m=>{if(!o.has(m)){let v=Db(n.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return R.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):R.resolve(Ai()),u=-1,c=o;return s.next(l=>R.forEach(l,(f,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),o.get(f)?R.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,de())).next(f=>({batchId:u,changes:mb(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=qa();return this.indexManager.getCollectionParents(e,o).next(u=>R.forEach(u,c=>{let l=function(p,m){return new Vr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,un.newInvalidDocument(f)))});let u=qa();return s.forEach((c,l)=>{let f=o.get(c);f!==void 0&&Ka(f.mutation,l,Dn.empty(),Ze.now()),Kd(n,l)&&(u=u.insert(c,l))}),u})}};var vy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return R.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Tn(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:CV(i.bundledQuery),readTime:Tn(i.readTime)}}(n)),R.resolve()}};var _y=class{constructor(){this.overlays=new Le(z.comparator),this.Ir=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ai();return R.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),R.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){let i=Ai(),o=n.length+1,s=new z(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){let c=u.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Le((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=Ai(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let u=Ai(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,f)=>u.set(l,f)),!(u.size()>=i)););return R.resolve(u)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ry(n,r));let o=this.Ir.get(n);o===void 0&&(o=de(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var wy=class{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return R.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,R.resolve()}};var nu=class{constructor(){this.Tr=new ht(Ge.Er),this.dr=new ht(Ge.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ge(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ge(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new z(new ke([])),r=new Ge(n,e),i=new Ge(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new z(new ke([])),r=new Ge(n,e),i=new Ge(n,e+1),o=de();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ge(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ge=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return z.comparator(e.key,n.key)||ve(e.wr,n.wr)}static Ar(e,n){return ve(e.wr,n.wr)||z.comparator(e.key,n.key)}};var Iy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ht(Ge.Er)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new ty(o,n,r,i);this.mutationQueue.push(s);for(let u of i)this.br=this.br.add(new Ge(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return R.resolve(s)}lookupMutationBatch(e,n){return R.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ge(n,0),i=new Ge(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let u=this.Dr(s.wr);o.push(u)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(ve);return n.forEach(i=>{let o=new Ge(i,0),s=new Ge(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],u=>{r=r.add(u.wr)})}),R.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new Ge(new z(o),0),u=new ht(ve);return this.br.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(u=u.add(c.wr)),!0)},s),R.resolve(this.Cr(u))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return R.forEach(n.mutations,i=>{let o=new Ge(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ge(n,0),i=this.br.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ey=class{constructor(e){this.Mr=e,this.docs=function(){return new Le(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=lr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():un.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=lr(),s=n.path,u=new z(s.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){let{key:l,value:{document:f}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||PF(NF(f),r)<=0||(i.has(f.key)||Kd(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,n,r,i){W()}Or(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Dy(this)}getSize(e){return R.resolve(this.size)}},Dy=class extends gy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Cy=class{constructor(e){this.persistence=e,this.Nr=new Lr(n=>gv(n),mv),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new nu,this.targetCount=0,this.kr=tu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),R.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new tu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.Kn(n),R.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),R.waitFor(o).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),R.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Br.containsKey(n))}};var by=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new nb(0),this.Kr=!1,this.Kr=!0,this.$r=new wy,this.referenceDelegate=e(this),this.Ur=new Cy(this),this.indexManager=new fy,this.remoteDocumentCache=function(i){return new Ey(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new hy(n),this.Gr=new vy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _y,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Iy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new Ty(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return R.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Ty=class extends Vm{constructor(e){super(),this.currentSequenceNumber=e}},Ay=class t{constructor(e){this.persistence=e,this.Jr=new nu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw W()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),R.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Xr,r=>{let i=z.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return R.or([()=>R.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Sy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=de(),i=de();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var My=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var xy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return nw()?8:OF(tw())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new My;return this.Xi(e,n,s).next(u=>{if(o.result=u,this.zi)return this.es(e,n,s,u.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ha()<=Nn.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),R.resolve()):(Ha()<=Nn.DEBUG&&U("QueryEngine","Query:",Wo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ha()<=Nn.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bn(n))):R.resolve())}Yi(e,n){if(R0(n))return R.resolve(null);let r=bn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jm(n,null,"F"),r=bn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=de(...o);return this.Ji.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.ts(n,u);return this.ns(n,l,s,c.readTime)?this.Yi(e,Jm(n,null,"F")):this.rs(e,l,n,c)}))})))}Zi(e,n,r,i){return R0(n)||i.isEqual(te.min())?R.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?R.resolve(null):(Ha()<=Nn.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wo(n)),this.rs(e,s,n,RF(i,-1)).next(u=>u))})}ts(e,n){let r=new ht(pb(e));return n.forEach((i,o)=>{Kd(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ha()<=Nn.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Wo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ni.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Ry=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Le(ve),this._s=new Lr(o=>gv(o),mv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function bV(t,e,n,r){return new Ry(t,e,n,r)}function Pb(t,e){return N(this,null,function*(){let n=ee(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],u=[],c=de();for(let l of i){s.push(l.batchId);for(let f of l.mutations)c=c.add(f.key)}for(let l of o){u.push(l.batchId);for(let f of l.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:u}))})})})}function TV(t,e){let n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,l,f){let p=l.batch,m=p.keys(),v=R.resolve();return m.forEach(T=>{v=v.next(()=>f.getEntry(c,T)).next(M=>{let S=l.docVersions.get(T);Ae(S!==null),M.version.compareTo(S)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),f.addEntry(M)))})}),v.next(()=>u.mutationQueue.removeMutationBatch(c,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=de();for(let l=0;l<u.mutationResults.length;++l)u.mutationResults[l].transformResults.length>0&&(c=c.add(u.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kb(t){let e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function AV(t,e){let n=ee(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let u=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;u.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(ft.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),function(M,S,F){return M.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,v,f)&&u.push(n.Ur.updateTargetData(o,v))});let c=lr(),l=de();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),u.push(SV(o,s,e.documentUpdates).next(f=>{c=f.Ps,l=f.Is})),!r.isEqual(te.min())){let f=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(f)}return R.waitFor(u).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.os=i,o))}function SV(t,e,n){let r=de(),i=de();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=lr();return n.forEach((u,c)=>{let l=o.get(u);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(te.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):U("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function MV(t,e){let n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xV(t,e){let n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,R.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new eu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Ny(t,e,n){return N(this,null,function*(){let r=ee(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!cu(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function $0(t,e,n){let r=ee(t),i=te.min(),o=de();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,f){let p=ee(c),m=p._s.get(f);return m!==void 0?R.resolve(p.os.get(m)):p.Ur.getTargetData(l,f)}(r,s,bn(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,u.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:de())).next(u=>(RV(r,GF(e),u),{documents:u,Ts:o})))}function RV(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Md=class{constructor(){this.activeTargetIds=JF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Py=class{constructor(){this.so=new Md,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Md,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ky=class{_o(e){}shutdown(){}};var xd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var hd=null;function Tm(){return hd===null?hd=function(){return 268435456+Math.round(2147483648*Math.random())}():hd++,"0x"+hd.toString(16)}var NV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Oy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var dt="WebChannelConnection",Fy=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let u=Tm(),c=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,c,l,i).then(f=>(U("RestConnection",`Received RPC '${n}' ${u}: `,f),f),f=>{throw Xo("RestConnection",`RPC '${n}' ${u} failed with error: `,f,"url: ",c,"request:",i),f})}Lo(n,r,i,o,s,u){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ds}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=NV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Tm();return new Promise((s,u)=>{let c=new _m;c.setWithCredentials(!0),c.listenOnce(Im.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case $a.NO_ERROR:let f=c.getResponseJson();U(dt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case $a.TIMEOUT:U(dt,`RPC '${e}' ${o} timed out`),u(new L(x.DEADLINE_EXCEEDED,"Request time out"));break;case $a.HTTP_ERROR:let p=c.getStatus();if(U(dt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let T=function(S){let F=S.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(F)>=0?F:x.UNKNOWN}(v.status);u(new L(T,v.message))}else u(new L(x.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new L(x.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{U(dt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(dt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Tm(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Cm(),u=Dm(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new wm({})),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let f=o.join("");U(dt,`Creating RPC '${e}' stream ${i}: ${f}`,c);let p=s.createWebChannel(f,c),m=!1,v=!1,T=new Oy({Io:S=>{v?U(dt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(U(dt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),U(dt,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},To:()=>p.close()}),M=(S,F,$)=>{S.listen(F,j=>{try{$(j)}catch(Z){setTimeout(()=>{throw Z},0)}})};return M(p,Go.EventType.OPEN,()=>{v||(U(dt,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),M(p,Go.EventType.CLOSE,()=>{v||(v=!0,U(dt,`RPC '${e}' stream ${i} transport closed`),T.So())}),M(p,Go.EventType.ERROR,S=>{v||(v=!0,Xo(dt,`RPC '${e}' stream ${i} transport errored:`,S),T.So(new L(x.UNAVAILABLE,"The operation could not be completed")))}),M(p,Go.EventType.MESSAGE,S=>{var F;if(!v){let $=S.data[0];Ae(!!$);let j=$,Z=j.error||((F=j[0])===null||F===void 0?void 0:F.error);if(Z){U(dt,`RPC '${e}' stream ${i} received error:`,Z);let De=Z.status,ie=function(w){let I=ze[w];if(I!==void 0)return bb(I)}(De),E=Z.message;ie===void 0&&(ie=x.INTERNAL,E="Unknown error status: "+De+" with message "+Z.message),v=!0,T.So(new L(ie,E)),p.close()}else U(dt,`RPC '${e}' stream ${i} received:`,$),T.bo($)}}),M(u,Em.STAT_EVENT,S=>{S.stat===ld.PROXY?U(dt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===ld.NOPROXY&&U(dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}};function Am(){return typeof document<"u"?document:null}function Qd(t){return new ay(t,!0)}var Rd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Nd=class{constructor(e,n,r,i,o,s,u,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Rd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return N(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return N(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return N(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>N(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Vy=class extends Nd{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=fV(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?Tn(s.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=dy(this.serializer),n.addTarget=function(o,s){let u,c=s.target;if(u=Ym(c)?{documents:mV(o,c)}:{query:yV(o,c)._t},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=Tb(o,s.resumeToken);let l=uy(o,s.expectedCount);l!==null&&(u.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){u.readTime=Ad(o,s.snapshotVersion.toTimestamp());let l=uy(o,s.expectedCount);l!==null&&(u.expectedCount=l)}return u}(this.serializer,e);let r=_V(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=dy(this.serializer),n.removeTarget=e,this.a_(n)}},Ly=class extends Nd{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=gV(e.writeResults,e.commitTime),r=Tn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=dy(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>pV(this.serializer,r))};this.a_(n)}};var jy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,cy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(x.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Lo(e,cy(n,r),i,s,u,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(x.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Uy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ur(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var By=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>N(this,null,function*(){ji(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(c){return N(this,null,function*(){let l=ee(c);l.L_.add(4),yield lu(l),l.q_.set("Unknown"),l.L_.delete(4),yield Yd(l)})}(this))}))}),this.q_=new Uy(r,i)}};function Yd(t){return N(this,null,function*(){if(ji(t))for(let e of t.B_)yield e(!0)})}function lu(t){return N(this,null,function*(){for(let e of t.B_)yield e(!1)})}function Ob(t,e){let n=ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Dv(n)?Ev(n):fs(n).r_()&&Iv(n,e))}function wv(t,e){let n=ee(t),r=fs(n);n.N_.delete(e),r.r_()&&Fb(n,e),n.N_.size===0&&(r.r_()?r.o_():ji(n)&&n.q_.set("Unknown"))}function Iv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fs(t).A_(e)}function Fb(t,e){t.Q_.xe(e),fs(t).R_(e)}function Ev(t){t.Q_=new sy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fs(t).start(),t.q_.v_()}function Dv(t){return ji(t)&&!fs(t).n_()&&t.N_.size>0}function ji(t){return ee(t).L_.size===0}function Vb(t){t.Q_=void 0}function PV(t){return N(this,null,function*(){t.q_.set("Online")})}function kV(t){return N(this,null,function*(){t.N_.forEach((e,n)=>{Iv(t,e)})})}function OV(t,e){return N(this,null,function*(){Vb(t),Dv(t)?(t.q_.M_(e),Ev(t)):t.q_.set("Unknown")})}function FV(t,e,n){return N(this,null,function*(){if(t.q_.set("Online"),e instanceof bd&&e.state===2&&e.cause)try{yield function(i,o){return N(this,null,function*(){let s=o.cause;for(let u of o.targetIds)i.N_.has(u)&&(yield i.remoteSyncer.rejectListen(u,s),i.N_.delete(u),i.Q_.removeTarget(u))})}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pd(t,r)}else if(e instanceof Zo?t.Q_.Ke(e):e instanceof Cd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{let r=yield kb(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let u=o.Q_.rt(s);return u.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let f=o.N_.get(l);f&&o.N_.set(l,f.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,l)=>{let f=o.N_.get(c);if(!f)return;o.N_.set(c,f.withResumeToken(ft.EMPTY_BYTE_STRING,f.snapshotVersion)),Fb(o,c);let p=new eu(f.target,c,l,f.sequenceNumber);Iv(o,p)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield Pd(t,r)}})}function Pd(t,e,n){return N(this,null,function*(){if(!cu(e))throw e;t.L_.add(1),yield lu(t),t.q_.set("Offline"),n||(n=()=>kb(t.localStore)),t.asyncQueue.enqueueRetryable(()=>N(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Yd(t)}))})}function Lb(t,e){return e().catch(n=>Pd(t,n,e))}function Zd(t){return N(this,null,function*(){let e=ee(t),n=jr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;VV(e);)try{let i=yield MV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,LV(e,i)}catch(i){yield Pd(e,i)}jb(e)&&Ub(e)})}function VV(t){return ji(t)&&t.O_.length<10}function LV(t,e){t.O_.push(e);let n=jr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function jb(t){return ji(t)&&!jr(t).n_()&&t.O_.length>0}function Ub(t){jr(t).start()}function jV(t){return N(this,null,function*(){jr(t).p_()})}function UV(t){return N(this,null,function*(){let e=jr(t);for(let n of t.O_)e.m_(n.mutations)})}function BV(t,e,n){return N(this,null,function*(){let r=t.O_.shift(),i=ny.from(r,e,n);yield Lb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Zd(t)})}function $V(t,e){return N(this,null,function*(){e&&jr(t).V_&&(yield function(r,i){return N(this,null,function*(){if(function(s){return oV(s)&&s!==x.ABORTED}(i.code)){let o=r.O_.shift();jr(r).s_(),yield Lb(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Zd(r)}})}(t,e)),jb(t)&&Ub(t)})}function H0(t,e){return N(this,null,function*(){let n=ee(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=ji(n);n.L_.add(3),yield lu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Yd(n)})}function HV(t,e){return N(this,null,function*(){let n=ee(t);e?(n.L_.delete(2),yield Yd(n)):e||(n.L_.add(2),yield lu(n),n.q_.set("Unknown"))})}function fs(t){return t.K_||(t.K_=function(n,r,i){let o=ee(n);return o.w_(),new Vy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:PV.bind(null,t),Ro:kV.bind(null,t),mo:OV.bind(null,t),d_:FV.bind(null,t)}),t.B_.push(e=>N(this,null,function*(){e?(t.K_.s_(),Dv(t)?Ev(t):t.q_.set("Unknown")):(yield t.K_.stop(),Vb(t))}))),t.K_}function jr(t){return t.U_||(t.U_=function(n,r,i){let o=ee(n);return o.w_(),new Ly(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:jV.bind(null,t),mo:$V.bind(null,t),f_:UV.bind(null,t),g_:BV.bind(null,t)}),t.B_.push(e=>N(this,null,function*(){e?(t.U_.s_(),yield Zd(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var $y=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,u=new t(e,n,s,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Cv(t,e){if(ur("AsyncQueue",`${e}: ${t}`),cu(t))return new L(x.UNAVAILABLE,`${e}: ${t}`);throw t}var kd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=qa(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Od=class{constructor(){this.W_=new Le(z.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):W():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},us=class t{constructor(e,n,r,i,o,s,u,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(u=>{s.push({type:0,doc:u})}),new t(e,n,kd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Hy=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},qy=class{constructor(){this.queries=q0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ee(n),o=i.queries;i.queries=q0(),o.forEach((s,u)=>{for(let c of u.j_)c.onError(r)})})(this,new L(x.ABORTED,"Firestore shutting down"))}};function q0(){return new Lr(t=>fb(t),Wd)}function qV(t,e){return N(this,null,function*(){let n=ee(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Hy,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let u=Cv(s,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&bv(n)})}function zV(t,e){return N(this,null,function*(){let n=ee(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function GV(t,e){let n=ee(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let u of s.j_)u.X_(i)&&(r=!0);s.z_=i}}r&&bv(n)}function WV(t,e,n){let r=ee(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function bv(t){t.Y_.forEach(e=>{e.next()})}var zy,z0;(z0=zy||(zy={})).ea="default",z0.Cache="cache";var Gy=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new us(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==zy.Cache}};var Fd=class{constructor(e){this.key=e}},Vd=class{constructor(e){this.key=e}},Wy=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=de(),this.mutatedKeys=de(),this.Aa=pb(e),this.Ra=new kd(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Od,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,u=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),v=Kd(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),S=!1;m&&v?m.data.isEqual(v.data)?T!==M&&(r.track({type:3,doc:v}),S=!0):this.ga(m,v)||(r.track({type:2,doc:v}),S=!0,(c&&this.Aa(v,c)>0||l&&this.Aa(v,l)<0)&&(u=!0)):!m&&v?(r.track({type:0,doc:v}),S=!0):m&&!v&&(r.track({type:1,doc:m}),S=!0,(c||l)&&(u=!0)),S&&(v?(s=s.add(v),o=M?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:u,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((f,p)=>function(v,T){let M=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return M(v)-M(T)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let u=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,l=c!==this.Ea;return this.Ea=c,s.length!==0||l?{snapshot:new us(this.query,e.Ra,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Od,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=de(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Vd(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Fd(r))}),n}ba(e){this.Ta=e.Ts,this.da=de();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return us.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Ky=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Qy=class{constructor(e){this.key=e,this.va=!1}},Yy=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Lr(u=>fb(u),Wd),this.Ma=new Map,this.xa=new Set,this.Oa=new Le(z.comparator),this.Na=new Map,this.La=new nu,this.Ba={},this.ka=new Map,this.qa=tu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function KV(t,e,n=!0){return N(this,null,function*(){let r=Gb(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield Bb(r,e,n,!0),i})}function QV(t,e){return N(this,null,function*(){let n=Gb(t);yield Bb(n,e,!0,!1)})}function Bb(t,e,n,r){return N(this,null,function*(){let i=yield xV(t.localStore,bn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",u;return r&&(u=yield YV(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ob(t.remoteStore,i),u})}function YV(t,e,n,r,i){return N(this,null,function*(){t.Ka=(p,m,v)=>function(M,S,F,$){return N(this,null,function*(){let j=S.view.ma(F);j.ns&&(j=yield $0(M.localStore,S.query,!1).then(({documents:E})=>S.view.ma(E,j)));let Z=$&&$.targetChanges.get(S.targetId),De=$&&$.targetMismatches.get(S.targetId)!=null,ie=S.view.applyChanges(j,M.isPrimaryClient,Z,De);return W0(M,S.targetId,ie.wa),ie.snapshot})}(t,p,m,v);let o=yield $0(t.localStore,e,!0),s=new Wy(e,o.Ts),u=s.ma(o.documents),c=Xa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(u,t.isPrimaryClient,c);W0(t,n,l.wa);let f=new Ky(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function ZV(t,e,n){return N(this,null,function*(){let r=ee(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Wd(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ny(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wv(r.remoteStore,i.targetId),Zy(r,i.targetId)}).catch(uu))):(Zy(r,i.targetId),yield Ny(r.localStore,i.targetId,!0))})}function JV(t,e){return N(this,null,function*(){let n=ee(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wv(n.remoteStore,r.targetId))})}function XV(t,e,n){return N(this,null,function*(){let r=sL(t);try{let i=yield function(s,u){let c=ee(s),l=Ze.now(),f=u.reduce((v,T)=>v.add(T.key),de()),p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let T=lr(),M=de();return c.cs.getEntries(v,f).next(S=>{T=S,T.forEach((F,$)=>{$.isValidDocument()||(M=M.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,T)).next(S=>{p=S;let F=[];for(let $ of u){let j=iV($,p.get($.key).overlayedDocument);j!=null&&F.push(new dr($.key,j,sb(j.value.mapValue),xi.exists(!0)))}return c.mutationQueue.addMutationBatch(v,l,F,u)}).next(S=>{m=S;let F=S.applyToLocalDocumentSet(p,M);return c.documentOverlayCache.saveOverlays(v,S.batchId,F)})}).then(()=>({batchId:m.batchId,changes:mb(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let l=s.Ba[s.currentUser.toKey()];l||(l=new Le(ve)),l=l.insert(u,c),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield du(r,i.changes),yield Zd(r.remoteStore)}catch(i){let o=Cv(i,"Failed to persist write");n.reject(o)}})}function $b(t,e){return N(this,null,function*(){let n=ee(t);try{let r=yield AV(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ae(s.va):i.removedDocuments.size>0&&(Ae(s.va),s.va=!1))}),yield du(n,r,e)}catch(r){yield uu(r)}})}function G0(t,e,n){let r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let u=s.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){let c=ee(s);c.onlineState=u;let l=!1;c.queries.forEach((f,p)=>{for(let m of p.j_)m.Z_(u)&&(l=!0)}),l&&bv(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function eL(t,e,n){return N(this,null,function*(){let r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Le(z.comparator);s=s.insert(o,un.newNoDocument(o,te.min()));let u=de().add(o),c=new Dd(te.min(),new Map,new Le(ve),s,u);yield $b(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),Tv(r)}else yield Ny(r.localStore,e,!1).then(()=>Zy(r,e,n)).catch(uu)})}function tL(t,e){return N(this,null,function*(){let n=ee(t),r=e.batch.batchId;try{let i=yield TV(n.localStore,e);qb(n,r,null),Hb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield du(n,i)}catch(i){yield uu(i)}})}function nL(t,e,n){return N(this,null,function*(){let r=ee(t);try{let i=yield function(s,u){let c=ee(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return c.mutationQueue.lookupMutationBatch(l,u).next(p=>(Ae(p!==null),f=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,f,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>c.localDocuments.getDocuments(l,f))})}(r.localStore,e);qb(r,e,n),Hb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield du(r,i)}catch(i){yield uu(i)}})}function Hb(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function qb(t,e,n){let r=ee(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Zy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||zb(t,r)})}function zb(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(wv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Tv(t))}function W0(t,e,n){for(let r of n)r instanceof Fd?(t.La.addReference(r.key,e),rL(t,r)):r instanceof Vd?(U("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||zb(t,r.key)):W()}function rL(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(U("SyncEngine","New document in limbo: "+n),t.xa.add(r),Tv(t))}function Tv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new z(ke.fromString(e)),r=t.qa.next();t.Na.set(r,new Qy(n)),t.Oa=t.Oa.insert(n,r),Ob(t.remoteStore,new eu(bn(yv(n.path)),r,"TargetPurposeLimboResolution",nb.oe))}}function du(t,e,n){return N(this,null,function*(){let r=ee(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((u,c)=>{s.push(r.Ka(c,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Sy.Wi(c.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(c,l){return N(this,null,function*(){let f=ee(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>R.forEach(l,m=>R.forEach(m.$i,v=>f.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>R.forEach(m.Ui,v=>f.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!cu(p))throw p;U("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=f.os.get(m),T=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(T);f.os=f.os.insert(m,M)}}})}(r.localStore,o))})}function iL(t,e){return N(this,null,function*(){let n=ee(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield Pb(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(u=>{u.forEach(c=>{c.reject(new L(x.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield du(n,r.hs)}})}function oL(t,e){let n=ee(t),r=n.Na.get(e);if(r&&r.va)return de().add(r.key);{let i=de(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let u=n.Fa.get(s);i=i.unionWith(u.view.Va)}return i}}function Gb(t){let e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$b.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eL.bind(null,e),e.Ca.d_=GV.bind(null,e.eventManager),e.Ca.$a=WV.bind(null,e.eventManager),e}function sL(t){let e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nL.bind(null,e),e}var Ld=class{constructor(){this.synchronizeTabs=!1}initialize(e){return N(this,null,function*(){this.serializer=Qd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return bV(this.persistence,new xy,e.initialUser,this.serializer)}createPersistence(e){return new by(Ay.Zr,this.serializer)}createSharedClientState(e){return new Py}terminate(){return N(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Jy=class{initialize(e,n){return N(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iL.bind(null,this.syncEngine),yield HV(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new qy}()}createDatastore(e){let n=Qd(e.databaseInfo.databaseId),r=function(o){return new Fy(o)}(e.databaseInfo);return function(o,s,u,c){return new jy(o,s,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,u){return new By(r,i,o,s,u)}(this.localStore,this.datastore,e.asyncQueue,n=>G0(this.syncEngine,n,0),function(){return xd.D()?new xd:new ky}())}createSyncEngine(e,n){return function(i,o,s,u,c,l,f){let p=new Yy(i,o,s,u,c,l);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return N(this,null,function*(){var e,n;yield function(i){return N(this,null,function*(){let o=ee(i);U("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield lu(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Xy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var ev=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xe.UNAUTHENTICATED,this.clientId=md.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>N(this,null,function*(){U("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>N(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Cv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Sm(t,e){return N(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>N(this,null,function*(){r.isEqual(i)||(yield Pb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function K0(t,e){return N(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield uL(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>H0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>H0(e.remoteStore,i)),t._onlineComponents=e})}function aL(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function uL(t){return N(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!aL(n))throw n;Xo("Error using user provided cache. Falling back to memory cache: "+n),yield Sm(t,new Ld)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield Sm(t,new Ld);return t._offlineComponents})}function Wb(t){return N(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield K0(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield K0(t,new Jy))),t._onlineComponents})}function cL(t){return Wb(t).then(e=>e.syncEngine)}function Q0(t){return N(this,null,function*(){let e=yield Wb(t),n=e.eventManager;return n.onListen=KV.bind(null,e.syncEngine),n.onUnlisten=ZV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JV.bind(null,e.syncEngine),n})}function Kb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Y0=new Map;function Qb(t,e,n){if(!n)throw new L(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lL(t,e,n,r){if(e===!0&&r===!0)throw new L(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Z0(t){if(!z.isDocumentKey(t))throw new L(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J0(t){if(z.isDocumentKey(t))throw new L(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function Qa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Jd(t);throw new L(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var jd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},cs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Mm;switch(r.type){case"firstParty":return new Pm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Y0.get(n);r&&(U("ComponentProvider","Removing Datastore"),Y0.delete(n),r.terminate())}(this),Promise.resolve()}};function Yb(t,e,n,r={}){var i;let o=(t=Qa(t,cs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=Xe.MOCK_USER;else{u=ew(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Xe(l)}t._authCredentials=new xm(new gd(u,c))}}var Li=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Lt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Or=class t extends Li{constructor(e,n,r){super(e,n,yv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Zb(t,e,...n){if(t=Rn(t),Qb("collection","path",e),t instanceof cs){let r=ke.fromString(e,...n);return J0(r),new Or(t,null,r)}{if(!(t instanceof Lt||t instanceof Or))throw new L(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return J0(r),new Or(t.firestore,null,r)}}function Jb(t,e,...n){if(t=Rn(t),arguments.length===1&&(e=md.newId()),Qb("doc","path",e),t instanceof cs){let r=ke.fromString(e,...n);return Z0(r),new Lt(t,null,new z(r))}{if(!(t instanceof Lt||t instanceof Or))throw new L(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return Z0(r),new Lt(t.firestore,t instanceof Or?t.converter:null,new z(r))}}var tv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Rd(this,"async_queue_retry"),this.Eu=()=>{let n=Am();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Am();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new ar;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return N(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!cu(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(r);throw ur("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=$y.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&W()}verifyOperationInProgress(){}mu(){return N(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function X0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var ls=class extends cs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new tv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||eT(this),this._firestoreClient.terminate()}};function Xd(t,e){let n=typeof t=="object"?t:$s(),r=typeof t=="string"?t:e||"(default)",i=Gh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=X_("firestore");o&&Yb(i,...o)}return i}function Xb(t){return t._firestoreClient||eT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function eT(t){var e,n,r;let i=t._freezeSettings(),o=function(u,c,l,f){return new Lm(u,c,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Kb(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ev(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var ru=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ft.fromBase64String(e))}catch(n){throw new L(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var iu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ud=class{constructor(e){this._methodName=e}};var ou=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var su=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var dL=/^__.*__$/,nv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vi(e,this.data,n,this.fieldTransforms)}};function tT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var rv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Bd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(tT(this.wu)&&dL.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},iv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qd(e)}Nu(e,n,r,i=!1){return new rv({wu:e,methodName:n,Ou:r,path:Vt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function nT(t){let e=t._freezeSettings(),n=Qd(t._databaseId);return new iv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hL(t,e,n,r,i,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);oT("Data must be an object, but it was:",s,r);let u=rT(r,s),c,l;if(o.merge)c=new Dn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let m=pL(e,p,n);if(!s.contains(m))throw new L(x.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);mL(f,m)||f.push(m)}c=new Dn(f),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new nv(new an(u),c,l)}function fL(t,e,n,r=!1){return Av(n,t.Nu(r?4:3,e))}function Av(t,e){if(iT(t=Rn(t)))return oT("Unsupported field value:",e,t),rT(t,e);if(t instanceof Ud)return function(r,i){if(!tT(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let u of r){let c=Av(u,i.Fu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ze.fromDate(r);return{timestampValue:Ad(i.serializer,o)}}if(r instanceof Ze){let o=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ad(i.serializer,o)}}if(r instanceof ou)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ru)return{bytesValue:Tb(i.serializer,r._byteString)};if(r instanceof Lt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_v(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof su)return function(s,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw u.Mu("VectorValues must only contain numeric values.");return vv(u.serializer,c)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Jd(r)}`)}(t,e)}function rT(t,e){let n={};return rb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(t,(r,i)=>{let o=Av(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function iT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof ou||t instanceof ru||t instanceof Lt||t instanceof Ud||t instanceof su)}function oT(t,e,n){if(!iT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Jd(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function pL(t,e,n){if((e=Rn(e))instanceof iu)return e._internalPath;if(typeof e=="string")return sT(t,e);throw Bd("Field path arguments must be of type string or ",t,!1,void 0,n)}var gL=new RegExp("[~\\*/\\[\\]]");function sT(t,e,n){if(e.search(gL)>=0)throw Bd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iu(...e.split("."))._internalPath}catch{throw Bd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bd(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new L(x.INVALID_ARGUMENT,u+t+c)}function mL(t,e){return t.some(n=>n.isEqual(e))}var $d=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ov(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Sv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},ov=class extends $d{data(){return super.data()}};function Sv(t,e){return typeof e=="string"?sT(t,e):e instanceof iu?e._internalPath:e._delegate._internalPath}function yL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var au=class{},Hd=class extends au{};function aT(t,e,...n){let r=[];e instanceof au&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof av).length,u=o.filter(c=>c instanceof sv).length;if(s>1||s>0&&u>0)throw new L(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var sv=class t extends Hd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return cT(e._query,n),new Li(e.firestore,e.converter,Zm(e._query,n))}_parse(e){let n=nT(e.firestore);return function(o,s,u,c,l,f,p){let m;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new L(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){tb(p,f);let v=[];for(let T of p)v.push(eb(c,o,T));m={arrayValue:{values:v}}}else m=eb(c,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||tb(p,f),m=fL(u,s,p,f==="in"||f==="not-in");return We.create(l,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var av=class t extends au{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,u=o.getFlattenedFilters();for(let c of u)cT(s,c),s=Zm(s,c)}(e._query,n),new Li(e.firestore,e.converter,Zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var uv=class t extends Hd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new L(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ki(o,s)}(e._query,this._field,this._direction);return new Li(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Vr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function uT(t,e="asc"){let n=e,r=Sv("orderBy",t);return uv._create(r,n)}function eb(t,e,n){if(typeof(n=Rn(n))=="string"){if(n==="")throw new L(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hb(e)&&n.indexOf("/")!==-1)throw new L(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ke.fromString(n));if(!z.isDocumentKey(r))throw new L(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return b0(t,new z(r))}if(n instanceof Lt)return b0(t,n._key);throw new L(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(n)}.`)}function tb(t,e){if(!Array.isArray(t)||t.length===0)throw new L(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cT(t,e){let n=function(i,o){for(let s of i)for(let u of s.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var cv=class{convertValue(e,n="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return hs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ne(s.doubleValue));return new su(o)}convertGeoPoint(e){return new ou(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=fv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Za(e));default:return null}}convertTimestamp(e){let n=cr(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ke.fromString(e);Ae(Nb(r));let i=new wd(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||ur(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function vL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Mi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},qd=class extends $d{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Sv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Jo=class extends qd{data(e={}){return super.data(e)}},lv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Mi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jo(this._firestore,this._userDataWriter,r.key,r,new Mi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>{let c=new Jo(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Mi(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{let c=new Jo(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Mi(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return u.type!==0&&(l=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),f=s.indexOf(u.doc.key)),{type:_L(u.type),doc:c,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function _L(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}var zd=class extends cv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}};function lT(t,e){let n=Qa(t.firestore,ls),r=Jb(t),i=vL(t.converter,e);return wL(n,[hL(nT(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xi.exists(!1))]).then(()=>r)}function Mv(t,...e){var n,r,i;t=Rn(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||X0(e[s])||(o=e[s],s++);let u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(X0(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,l,f;if(t instanceof Lt)l=Qa(t.firestore,ls),f=yv(t._key.path),c={next:p=>{e[s]&&e[s](IL(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Qa(t,Li);l=Qa(p.firestore,ls),f=p._query;let m=new zd(l);c={next:v=>{e[s]&&e[s](new lv(l,m,p,v))},error:e[s+1],complete:e[s+2]},yL(t._query)}return function(m,v,T,M){let S=new Xy(M),F=new Gy(v,S,T);return m.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return qV(yield Q0(m),F)})),()=>{S.za(),m.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return zV(yield Q0(m),F)}))}}(Xb(l),f,u,c)}function wL(t,e){return function(r,i){let o=new ar;return r.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return XV(yield cL(r),i,o)})),o.promise}(Xb(t),e)}function IL(t,e,n){let r=n.docs.get(e._key),i=new zd(t);return new qd(t,i,e._key,r,new Mi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ds=i})(ow),Bs(new Us("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),u=new ls(new Rm(r.getProvider("auth-internal")),new Om(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wd(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),ut(I0,"4.7.1",e),ut(I0,"4.7.1","esm2017")})();var eh=function(){return eh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},eh.apply(this,arguments)};var CL={includeMetadataChanges:!1};function dT(t,e){return e===void 0&&(e=CL),new oe(function(n){var r=Mv(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function hT(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:eh(eh({},r),(n={},n[e.idField]=t.id,n))}function fT(t){return dT(t,{includeMetadataChanges:!0}).pipe(J(function(e){return e.docs}))}function pT(t,e){return e===void 0&&(e={}),fT(t).pipe(J(function(n){return n.map(function(r){return hT(r,e)})}))}var ln=class{constructor(e){return e}},gT="firestore",xv=class{constructor(){return ja(gT)}};var Rv=new V("angularfire2.firestore-instances");function bL(t,e){let n=od(gT,t,e);return n&&new ln(n)}function TL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ln(r)}}var AL={provide:xv,deps:[[new rt,Rv]]},SL={provide:ln,useFactory:bL,deps:[[new rt,Rv],or]};function mT(t,...e){return ut("angularfire",Nr.full,"fst"),vn([SL,AL,{provide:Rv,useFactory:TL(t),multi:!0,deps:[ge,nt,Pr,Ti,[new rt,Ba],[new rt,ir],...e]}])}var yT=Dt(pT,!0);var ps=Dt(lT,!0);var Ui=Dt(Zb,!0);var vT=Dt(Xd,!0);var _T=Dt(uT,!0);var wT=Dt(aT,!0);var MT=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Y(Ao),Y(gi))},e.\u0275dir=ct({type:e});let t=e;return t})(),ML=(()=>{let e=class e extends MT{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=bo(e)))(o||e)}})(),e.\u0275dir=ct({type:e,features:[zn]});let t=e;return t})(),xT=new V("");var xL={provide:xT,useExisting:di(()=>Ur),multi:!0};function RL(){let t=er()?er().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var NL=new V(""),Ur=(()=>{let e=class e extends MT{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!RL())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Ao),Y(gi),Y(NL,8))},e.\u0275dir=ct({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Be("input",function(u){return o._handleInput(u.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(u){return o._compositionEnd(u.target.value)})},features:[ca([xL]),zn]});let t=e;return t})();function PL(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var kv=new V(""),RT=new V("");function kL(t){return PL(t.value)?{required:!0}:null}function IT(t){return null}function NT(t){return t!=null}function PT(t){return yi(t)?Ee(t):t}function kT(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function OT(t,e){return e.map(n=>n(t))}function OL(t){return!t.validate}function FT(t){return t.map(e=>OL(e)?e:n=>e.validate(n))}function FL(t){if(!t)return null;let e=t.filter(NT);return e.length==0?null:function(n){return kT(OT(n,e))}}function Ov(t){return t!=null?FL(FT(t)):null}function VL(t){if(!t)return null;let e=t.filter(NT);return e.length==0?null:function(n){let r=OT(n,e).map(PT);return vf(r).pipe(J(kT))}}function Fv(t){return t!=null?VL(FT(t)):null}function ET(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function LL(t){return t._rawValidators}function jL(t){return t._rawAsyncValidators}function Pv(t){return t?Array.isArray(t)?t:[t]:[]}function nh(t,e){return Array.isArray(t)?t.includes(e):t===e}function DT(t,e){let n=Pv(e);return Pv(t).forEach(i=>{nh(n,i)||n.push(i)}),n}function CT(t,e){return Pv(e).filter(n=>!nh(t,n))}var rh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ov(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ys=class extends rh{get formDirective(){return null}get path(){return null}},yu=class extends rh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ih=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},UL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},T5=he(O({},UL),{"[class.ng-submitted]":"isSubmitted"}),_s=(()=>{let e=class e extends ih{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Y(yu,2))},e.\u0275dir=ct({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&vl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[zn]});let t=e;return t})(),uh=(()=>{let e=class e extends ih{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Y(ys,10))},e.\u0275dir=ct({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&vl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[zn]});let t=e;return t})();var hu="VALID",th="INVALID",gs="PENDING",fu="DISABLED",vs=class{},oh=class extends vs{constructor(e,n){super(),this.value=e,this.source=n}},gu=class extends vs{constructor(e,n){super(),this.pristine=e,this.source=n}},mu=class extends vs{constructor(e,n){super(),this.touched=e,this.source=n}},ms=class extends vs{constructor(e,n){super(),this.status=e,this.source=n}};function VT(t){return(ch(t)?t.validators:t)||null}function BL(t){return Array.isArray(t)?Ov(t):t||null}function LT(t,e){return(ch(e)?e.asyncValidators:t)||null}function $L(t){return Array.isArray(t)?Fv(t):t||null}function ch(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function HL(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[n])throw new q(1001,"")}function qL(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new q(1002,"")})}var sh=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=da(()=>this.statusReactive()),this.statusReactive=ua(void 0),this._pristine=da(()=>this.pristineReactive()),this.pristineReactive=ua(!0),this._touched=da(()=>this.touchedReactive()),this.touchedReactive=ua(!1),this._events=new Pe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Yn(this.statusReactive)}set status(e){Yn(()=>this.statusReactive.set(e))}get valid(){return this.status===hu}get invalid(){return this.status===th}get pending(){return this.status==gs}get disabled(){return this.status===fu}get enabled(){return this.status!==fu}get pristine(){return Yn(this.pristineReactive)}set pristine(e){Yn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Yn(this.touchedReactive)}set touched(e){Yn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(CT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(CT(e,this._rawAsyncValidators))}hasValidator(e){return nh(this._rawValidators,e)}hasAsyncValidator(e){return nh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new mu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new mu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new gu(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new gu(!0,r))}markAsPending(e={}){this.status=gs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ms(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=fu,this.errors=null,this._forEachChild(i=>{i.disable(he(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new oh(this.value,r)),this._events.next(new ms(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=hu,this._forEachChild(r=>{r.enable(he(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hu||this.status===gs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new oh(this.value,n)),this._events.next(new ms(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fu:hu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=gs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=PT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ms(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new He,this.statusChanges=new He}_calculateStatus(){return this._allControlsDisabled()?fu:this.errors?th:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gs)?gs:this._anyControlsHaveStatus(th)?th:hu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new gu(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new mu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ch(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=BL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=$L(this._rawAsyncValidators)}},ah=class extends sh{constructor(e,n,r){super(VT(n),LT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){qL(this,!0,e),Object.keys(e).forEach(r=>{HL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Vv=new V("CallSetDisabledState",{providedIn:"root",factory:()=>Lv}),Lv="always";function zL(t,e){return[...e.path,t]}function jT(t,e,n=Lv){UT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),WL(t,e),QL(t,e),KL(t,e),GL(t,e)}function bT(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function GL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function UT(t,e){let n=LL(t);e.validator!==null?t.setValidators(ET(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=jL(t);e.asyncValidator!==null?t.setAsyncValidators(ET(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();bT(e._rawValidators,i),bT(e._rawAsyncValidators,i)}function WL(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&BT(t,e)})}function KL(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&BT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function BT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function QL(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function YL(t,e){t==null,UT(t,e)}function ZL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function JL(t){return Object.getPrototypeOf(t.constructor)===ML}function XL(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ej(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Ur?n=o:JL(o)?r=o:i=o}),i||r||n||null}var tj={provide:ys,useExisting:di(()=>vu)},pu=Promise.resolve(),vu=(()=>{let e=class e extends ys{get submitted(){return Yn(this.submittedReactive)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=da(()=>this.submittedReactive()),this.submittedReactive=ua(!1),this._directives=new Set,this.ngSubmit=new He,this.form=new ah({},Ov(r),Fv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){pu.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),jT(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){pu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){pu.then(()=>{let i=this._findContainer(r.path),o=new ah({});YL(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){pu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){pu.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),XL(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(Y(kv,10),Y(RT,10),Y(Vv,8))},e.\u0275dir=ct({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&Be("submit",function(u){return o.onSubmit(u)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ca([tj]),zn]});let t=e;return t})();function TT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function AT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var nj=class extends sh{constructor(e=null,n,r){super(VT(n),LT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ch(n)&&(n.nonNullable||n.initialValueIsDefault)&&(AT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){TT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){TT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){AT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var rj={provide:yu,useExisting:di(()=>Bi)},ST=Promise.resolve(),Bi=(()=>{let e=class e extends yu{constructor(r,i,o,s,u,c){super(),this._changeDetectorRef=u,this.callSetDisabledState=c,this.control=new nj,this._registered=!1,this.name="",this.update=new He,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=ej(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),ZL(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){jT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){ST.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&la(i);ST.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?zL(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(Y(ys,9),Y(kv,10),Y(RT,10),Y(xT,10),Y(_i,8),Y(Vv,8))},e.\u0275dir=ct({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ca([rj]),zn,hi]});let t=e;return t})(),lh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ct({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var ij=(()=>{let e=class e{constructor(){this._validator=IT}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):IT,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ct({type:e,features:[hi]});let t=e;return t})();var oj={provide:kv,useExisting:di(()=>_u),multi:!0};var _u=(()=>{let e=class e extends ij{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=la,this.createValidator=r=>kL}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=bo(e)))(o||e)}})(),e.\u0275dir=ct({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&yl("required",o._enabled?"":null)},inputs:{required:"required"},features:[ca([oj]),zn]});let t=e;return t})();var sj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$n({type:e}),e.\u0275inj=Bn({});let t=e;return t})();var ws=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Vv,useValue:r.callSetDisabledState??Lv}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$n({type:e}),e.\u0275inj=Bn({imports:[sj]});let t=e;return t})();var dh={projectId:"sala-de-juegos-59d90",appId:"1:1000227605196:web:ed6371a18bbdaa3eb19069",storageBucket:"sala-de-juegos-59d90.appspot.com",apiKey:"AIzaSyAHNTs5amejnX-GYcdKbkUPQYVHEKb1h2g",authDomain:"sala-de-juegos-59d90.firebaseapp.com",messagingSenderId:"1000227605196"};var aj=new Map,uj={activated:!1,tokenObservers:[]},cj={initialized:!1,enabled:!1};function dn(t){return aj.get(t)||Object.assign({},uj)}function GT(){return cj}var lj="https://content-firebaseappcheck.googleapis.com/v1";var dj="exchangeDebugToken",$T={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},L5=24*60*60*1e3;var Bv=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return N(this,null,function*(){this.stop();try{this.pending=new qh,this.pending.promise.catch(n=>{}),yield hj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new qh,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function hj(t){return new Promise(e=>{setTimeout(e,t)})}var fj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Br=new iw("appCheck","AppCheck",fj);function WT(t){if(!dn(t).activated)throw Br.create("use-before-activation",{appName:t.name})}function KT(r,i){return N(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let u={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,u)}catch(v){throw Br.create("fetch-network-error",{originalErrorMessage:v?.message})}if(c.status!==200)throw Br.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(v){throw Br.create("fetch-parse-error",{originalErrorMessage:v?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Br.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(f[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function QT(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${lj}/projects/${n}/apps/${r}:${dj}?key=${i}`,body:{debug_token:e}}}var pj="firebase-app-check-database",gj=1,$v="firebase-app-check-store";var hh=null;function mj(){return hh||(hh=new Promise((t,e)=>{try{let n=indexedDB.open(pj,gj);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Br.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore($v,{keyPath:"compositeKey"})}}}catch(n){e(Br.create("storage-open",{originalErrorMessage:n?.message}))}}),hh)}function yj(t,e){return vj(_j(t),e)}function vj(t,e){return N(this,null,function*(){let r=(yield mj()).transaction($v,"readwrite"),o=r.objectStore($v).put({compositeKey:t,value:e});return new Promise((s,u)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;u(Br.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function _j(t){return`${t.options.appId}-${t.name}`}var Hv=new ju("@firebase/app-check");function Uv(t,e){return zh()?yj(t,e).catch(n=>{Hv.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function YT(){return GT().enabled}function ZT(){return N(this,null,function*(){let t=GT();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var wj={error:"UNKNOWN_ERROR"};function Ij(t){return J_.encodeString(JSON.stringify(t),!1)}function qv(t,e=!1){return N(this,null,function*(){let n=t.app;WT(n);let r=dn(n),i=r.token,o;if(i&&!wu(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(wu(c)?i=c:yield Uv(n,void 0))}if(!e&&i&&wu(i))return{token:i.token};let s=!1;if(YT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=KT(QT(n,yield ZT()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield Uv(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield dn(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Hv.warn(c.message):Hv.error(c),o=c}let u;return i?o?wu(i)?u={token:i.token,internalError:o}:u=qT(o):(u={token:i.token},r.token=i,yield Uv(n,i)):u=qT(o),s&&bj(n,u),u})}function Ej(t){return N(this,null,function*(){let e=t.app;WT(e);let{provider:n}=dn(e);if(YT()){let r=yield ZT(),{token:i}=yield KT(QT(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function Dj(t,e,n,r){let{app:i}=t,o=dn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&wu(o.token)){let u=o.token;Promise.resolve().then(()=>{n({token:u.token}),HT(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>HT(t))}function JT(t,e){let n=dn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function HT(t){let{app:e}=t,n=dn(e),r=n.tokenRefresher;r||(r=Cj(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Cj(t){let{app:e}=t;return new Bv(()=>N(this,null,function*(){let n=dn(e),r;if(n.token?r=yield qv(t,!0):r=yield qv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=dn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},$T.RETRIAL_MIN_WAIT,$T.RETRIAL_MAX_WAIT)}function bj(t,e){let n=dn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function wu(t){return t.expireTimeMillis-Date.now()>0}function qT(t){return{token:Ij(wj),error:t}}var zv=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=dn(this.app);for(let n of e)JT(this.app,n.next);return Promise.resolve()}};function Tj(t,e){return new zv(t,e)}function Aj(t){return{getToken:e=>qv(t,e),getLimitedUseToken:()=>Ej(t),addTokenListener:e=>Dj(t,"INTERNAL",e),removeTokenListener:e=>JT(t.app,e)}}var Sj="@firebase/app-check",Mj="0.8.7";var xj="app-check",zT="app-check-internal";function Rj(){Bs(new Us(xj,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Tj(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(zT).initialize()})),Bs(new Us(zT,t=>{let e=t.getProvider("app-check").getImmediate();return Aj(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ut(Sj,Mj)}Rj();var Nj=["localhost","0.0.0.0","127.0.0.1"],Y5=typeof window<"u"&&Nj.includes(window.location.hostname);var kj="firebase",Oj="10.13.1";Wr.registerVersion(kj,Oj,"app-compat");var Fj=["ngOnDestroy"],eA=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(Fj.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(u=>{let c=u?.[o];return typeof c=="function"?c.bind(u):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(u,c)=>s[c],apply:(u,c,l)=>s.then(f=>{let p=f?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,p),p})})})});var Gv=class{constructor(e){return e}},tA=new V("angularfire2.app.options"),nA=new V("angularfire2.app.name");function rA(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=Wr.apps.filter(u=>u&&u.name===i.name)[0]||e.runOutsideAngular(()=>Wr.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let u=!!module.hot;Vj("error",`${s.name} Firebase App already initialized with different options${u?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Gv(s)}var Vj=(t,...e)=>{lg()&&typeof console<"u"&&console[t](...e)};function iA(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(u=>u[0]===t)||[];if(o)return Lj(i,s)||(XT("error",`${e} was already initialized on the ${n} Firebase App with different settings.${jj?" You may need to reload as Firebase is not HMR aware.":""}`),XT("warn",{is:i,was:s})),o;{let u=r();return globalThis.\u0275AngularfireInstanceCache.push([t,u,i]),u}}function Lj(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var jj=typeof module<"u"&&!!module.hot,XT=(t,...e)=>{lg()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Uj=new V("angularfire2.auth.use-emulator"),Bj=new V("angularfire2.auth.settings"),$j=new V("angularfire2.auth.tenant-id"),Hj=new V("angularfire2.auth.langugage-code"),qj=new V("angularfire2.auth.use-device-language"),zj=new V("angularfire.auth.persistence"),Gj=(t,e,n,r,i,o,s,u)=>iA(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[l,f]of Object.entries(s))c.settings[l]=f;return u&&c.setPersistence(u),c},[n,r,i,o,s,u]),oA=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,u,c,l,f,p,m,v){let T=new Pe,M=G(void 0).pipe(xt(s.outsideAngular),Ve(()=>o.runOutsideAngular(()=>import("./chunk-5AHH4NI7.js"))),J(()=>rA(n,o,r)),J(S=>Gj(S,o,u,l,f,p,c,m)),wc({bufferSize:1,refCount:!1}));if(ha(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=G(null);else{M.pipe(Ut()).subscribe();let S=M.pipe(Ve(j=>j.getRedirectResult().then(Z=>Z,()=>null)),gm,wc({bufferSize:1,refCount:!1})),F=M.pipe(Ve(j=>new oe(Z=>({unsubscribe:o.runOutsideAngular(()=>j.onAuthStateChanged(De=>Z.next(De),De=>Z.error(De),()=>Z.complete()))})))),$=M.pipe(Ve(j=>new oe(Z=>({unsubscribe:o.runOutsideAngular(()=>j.onIdTokenChanged(De=>Z.next(De),De=>Z.error(De),()=>Z.complete()))}))));this.authState=S.pipe(Ec(F),jt(s.outsideAngular),xt(s.insideAngular)),this.user=S.pipe(Ec($),jt(s.outsideAngular),xt(s.insideAngular)),this.idToken=this.user.pipe(Ve(j=>j?Ee(j.getIdToken()):G(null))),this.idTokenResult=this.user.pipe(Ve(j=>j?Ee(j.getIdTokenResult()):G(null))),this.credential=_f(S,T,this.authState.pipe(yt(j=>!j))).pipe(J(j=>j?.user?j:null),jt(s.outsideAngular),xt(s.insideAngular))}return eA(this,M,o,{spy:{apply:(S,F,$)=>{(S.startsWith("signIn")||S.startsWith("createUser"))&&$.then(j=>T.next(j))}}})}static \u0275fac=function(r){return new(r||t)(B(tA),B(nA,8),B(Nt),B(ge),B(Pr),B(Uj,8),B(Bj,8),B($j,8),B(Hj,8),B(qj,8),B(zj,8),B(ir,8))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var $r=class t{app;firestore;auth;currentUser=null;constructor(){this.app=ad(dh),this.firestore=Xd(this.app),this.auth=ud(this.app),this.initializeAuthListener()}initializeAuthListener(){m0(this.auth,e=>{this.currentUser=e})}getCurrentUser(){return this.currentUser}logIn(e,n){return N(this,null,function*(){try{yield y0(this.auth,e,n),console.log("Usuario logeado correctamente")}catch(r){throw r}})}registro(e,n){return N(this,null,function*(){try{yield g0(this.auth,e,n),console.log("Usuario registrado correctamente")}catch(r){throw r}})}getUserLogged(){return P(oA).authState}logOut(){return N(this,null,function*(){try{yield v0(this.auth),console.log("Usuario deslogueado correctamente")}catch(e){console.error("Error al desloguearse",e)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})};function Wj(t,e){if(t&1){let n=xo();ne(0,"div",8)(1,"span",9),me(2),X(),ne(3,"button",10),Be("click",function(){fi(n);let i=Pt();return pi(i.logOut())}),me(4,"Log Out"),X()()}if(t&2){let n=Pt();je(2),Ro(n.usuario==null?null:n.usuario.email)}}function Kj(t,e){if(t&1){let n=xo();ne(0,"button",11),Be("click",function(){fi(n);let i=Pt();return pi(i.irALogIn())}),me(1,"Log In"),X()}}function Qj(t,e){if(t&1){let n=xo();ne(0,"button",12),Be("click",function(){fi(n);let i=Pt();return pi(i.toggleChat())}),me(1),X()}if(t&2){let n=Pt();je(),Ar(" ",n.chatAbierto?"Cerrar Chat":"Chat"," ")}}function Yj(t,e){if(t&1&&(ne(0,"div")(1,"strong"),me(2),X(),ne(3,"small"),me(4),PD(5,"date"),X(),ne(6,"span"),me(7),X()()),t&2){let n=e.$implicit;je(2),Ro(n.emisor),je(2),Ro(kD(5,3,n.timestamp,"short")),je(3),Ro(n.texto)}}function Zj(t,e){if(t&1){let n=xo();ne(0,"div",13)(1,"div",14),Gn(2,Yj,8,6,"div",15),X(),ne(3,"input",16),Qn("ngModelChange",function(i){fi(n);let o=Pt();return Sr(o.mensajeNuevo,i)||(o.mensajeNuevo=i),pi(i)}),X(),ne(4,"button",17),Be("click",function(){fi(n);let i=Pt();return pi(i.enviarMensaje())}),me(5,"\u2192"),X()()}if(t&2){let n=Pt();je(2),wn("ngForOf",n.mensajes),je(),Kn("ngModel",n.mensajeNuevo)}}var fh=class t{constructor(e,n,r){this.router=e;this.firebaseService=n;this.firestore=r}usuario;mensajes=[];mensajeNuevo="";chatAbierto=!1;subscripcion;ngOnInit(){this.usuario=this.firebaseService.getCurrentUser(),this.cargarMensajes()}irAQuienSoy(){this.router.navigate(["/quien-soy"])}irALogIn(){this.router.navigate(["/login"])}logOut(){return N(this,null,function*(){yield this.firebaseService.logOut(),this.usuario=this.firebaseService.getCurrentUser(),this.router.navigate(["/home"])})}abrirChat(){let e=document.getElementById("chatBox");e&&e.classList.toggle("hidden")}enviarMensaje(){return N(this,null,function*(){if(this.mensajeNuevo.trim()){let e=new Date,n=e.getHours(),r=e.getMinutes(),i=`${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`,o=Ui(this.firestore,"mensajes"),s={id:this.usuario?.uid,usuario:this.usuario?.email,hora:i,mensaje:this.mensajeNuevo,timestamp:Ze.now()};yield ps(o,s),this.mensajeNuevo=""}})}cargarMensajes(){let e=Ui(this.firestore,"mensajes"),n=wT(e,_T("timestamp","asc"));this.subscripcion=yT(n).subscribe(r=>{this.mensajes=r.map(i=>({emisor:i.usuario,idEmisor:i.id,texto:i.mensaje,hora:i.hora,timestamp:i.timestamp.toDate()}))})}toggleChat(){this.chatAbierto=!this.chatAbierto}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe()}static \u0275fac=function(n){return new(n||t)(Y(lt),Y($r),Y(ln))};static \u0275cmp=qt({type:t,selectors:[["app-home"]],standalone:!0,features:[Wt],decls:10,vars:4,consts:[["loginButton",""],[1,"home-container"],[1,"header"],[1,"button-container"],[1,"btn-quien-soy",3,"click"],["class","user-info",4,"ngIf","ngIfElse"],["class","btn-chat",3,"click",4,"ngIf"],["class","chat-box",4,"ngIf"],[1,"user-info"],[1,"user-email"],[1,"btn-log-out",3,"click"],[1,"btn-log-in",3,"click"],[1,"btn-chat",3,"click"],[1,"chat-box"],[1,"mensajes",2,"overflow-y","auto","height","300px"],[4,"ngFor","ngForOf"],["placeholder","Escribe un mensaje...",3,"ngModelChange","ngModel"],[3,"click"]],template:function(n,r){if(n&1){let i=xo();ne(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),Be("click",function(){return fi(i),pi(r.irAQuienSoy())}),me(4,"Quien Soy"),X()(),Gn(5,Wj,5,1,"div",5)(6,Kj,2,0,"ng-template",null,0,OD),X(),Gn(8,Qj,2,1,"button",6)(9,Zj,6,2,"div",7),X()}if(n&2){let i=RD(7);je(5),wn("ngIf",r.usuario)("ngIfElse",i),je(3),wn("ngIf",r.usuario),je(),wn("ngIf",r.chatAbierto&&r.usuario)}},dependencies:[Ii,sC,Po,aC,ws,Ur,_s,Bi],styles:["[_nghost-%COMP%]{display:block;height:100vh;background-color:#333}.home-container[_ngcontent-%COMP%]{padding:0 20px;height:100%;box-sizing:border-box;position:relative}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#444;padding:15px 20px;border-radius:8px;box-shadow:0 2px 5px #00000080;margin-bottom:20px}.button-container[_ngcontent-%COMP%]{margin-right:10px}.btn-quien-soy[_ngcontent-%COMP%], .btn-log-out[_ngcontent-%COMP%], .btn-log-in[_ngcontent-%COMP%]{background-color:#1db954;color:#fff;border-radius:8px;padding:10px 20px;border:none;font-weight:700;font-size:16px;cursor:pointer;font-family:Roboto,sans-serif;transition:background-color .3s ease,transform .3s ease}.btn-quien-soy[_ngcontent-%COMP%]:hover, .btn-log-out[_ngcontent-%COMP%]:hover, .btn-log-in[_ngcontent-%COMP%]:hover{background-color:#1ed760;transform:scale(1.05)}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.user-email[_ngcontent-%COMP%]{background-color:#6cb6f2;color:#fff;border-radius:8px;padding:5px 10px;margin-right:10px}.btn-log-out[_ngcontent-%COMP%]{background-color:#ff4757}.btn-log-out[_ngcontent-%COMP%]:hover{background-color:#ff6b81;transform:scale(1.05)}.btn-log-in[_ngcontent-%COMP%]{background-color:#6cb6f2}.btn-log-in[_ngcontent-%COMP%]:hover{background-color:#5dade2;transform:scale(1.05)}.btn-chat[_ngcontent-%COMP%]{background-color:#1db954;color:#fff;border-radius:8px;padding:10px 20px;position:fixed;bottom:20px;right:20px;border:none;font-weight:700;font-size:16px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}.btn-chat[_ngcontent-%COMP%]:hover{background-color:#1ed760;transform:scale(1.05)}.chat-box[_ngcontent-%COMP%]{background-color:#444;border-radius:8px;padding:15px;position:fixed;bottom:80px;right:20px;width:350px;max-height:350px;box-shadow:0 2px 5px #00000080;overflow-y:auto}.chat-box[_ngcontent-%COMP%]   .mensajes[_ngcontent-%COMP%]{max-height:250px;overflow-y:auto;margin-bottom:10px}.chat-box[_ngcontent-%COMP%]   .mensajes[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:baseline;margin-bottom:8px}.chat-box[_ngcontent-%COMP%]   .mensajes[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-right:5px;font-size:.8em;color:#fff;font-weight:700}.chat-box[_ngcontent-%COMP%]   .mensajes[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8em;color:#bbb;margin-right:10px}.chat-box[_ngcontent-%COMP%]   .mensajes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8em;color:#fff}.chat-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 80px);padding:10px;border-radius:5px;border:1px solid #444;background-color:#555;color:#fff}.chat-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#aaa}.chat-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#227bff;color:#fff;border:none;border-radius:5px;padding:10px;cursor:pointer;margin-left:5px}.chat-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#106fff}"]})};var gh=class t{constructor(e){this.router=e}volverAHome(){this.router.navigate(["/home"])}static \u0275fac=function(n){return new(n||t)(Y(lt))};static \u0275cmp=qt({type:t,selectors:[["app-quien-soy"]],standalone:!0,features:[Wt],decls:12,vars:0,consts:[[1,"quien-soy-container"],[1,"btn-volver",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-59d90.appspot.com/o/yo.jpg?alt=media&token=d19649ff-8e96-4c4d-9142-8c4880ab21a6","alt","yo",1,"mi-imagen"]],template:function(n,r){n&1&&(ne(0,"div",0)(1,"button",1),Be("click",function(){return r.volverAHome()}),me(2,"Volver"),X(),ne(3,"h1"),me(4,"Mi nombre es F\xE9lix Castelli"),X(),ne(5,"p"),me(6," Soy un estudiante de la UTN de Avellaneda en la Tecnicatura de Programaci\xF3n y vivo en la ciudad de Buenos Aires."),Wn(7,"br"),me(8,' Este es mi proyecto de "Sala de Juegos" para la materia Laboratorio IV.'),Wn(9,"br"),me(10," ....................................................................... "),X(),Wn(11,"img",2),X())},styles:[".quien-soy-container[_ngcontent-%COMP%]{background-color:#1db9541a;color:#fff;padding:40px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a;font-family:Roboto,sans-serif;position:relative}h1[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:20px;font-weight:700}p[_ngcontent-%COMP%]{font-size:1rem}.btn-volver[_ngcontent-%COMP%]{background-color:#f44336;color:#fff;border-radius:8px;padding:8px 12px;border:none;font-weight:700;font-size:14px;cursor:pointer;position:absolute;top:10px;left:10px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 8px #0000001a;font-family:Roboto,sans-serif;transition:background-color .3s ease,transform .3s ease}.btn-volver[_ngcontent-%COMP%]:hover{background-color:#c62828;transform:scale(1.05)}.mi-imagen[_ngcontent-%COMP%]{width:150px;border-radius:8px;box-shadow:0 2px 5px #00000080}"]})};function Jj(t,e){if(t&1&&(ne(0,"div",16),me(1),X()),t&2){let n=Pt();je(),Ar(" ",n.error," ")}}var mh=class t{constructor(e,n,r){this.router=e;this.firestore=n;this.firebaseService=r}email="";contrasenia="";error="";exito=!0;ngAfterViewInit(){}logIn(){return N(this,null,function*(){try{yield this.firebaseService.logIn(this.email,this.contrasenia).then(()=>{let e=Ui(this.firestore,"logins"),n={fecha:new Date,user:this.email};ps(e,n),this.router.navigate(["/home"])})}catch{this.exito=!1,this.error="Correo electr\xF3nico o contrase\xF1a inv\xE1lidos"}})}autoCompletar(){this.email="admin@admin.com",this.contrasenia="123456"}irARegistro(){this.router.navigate(["/registro"])}irAHome(){this.router.navigate(["/home"])}static \u0275fac=function(n){return new(n||t)(Y(lt),Y(ln),Y($r))};static \u0275cmp=qt({type:t,selectors:[["app-login"]],standalone:!0,features:[Wt],decls:25,vars:3,consts:[[1,"header-title"],[1,"login-title"],[1,"login-container"],[1,"btn-home",3,"click"],[1,"login-titulo"],[3,"ngSubmit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","contrasenia"],["type","password","id","contrasenia","name","contrasenia","required","",3,"ngModelChange","ngModel"],[1,"button-group"],["type","submit",1,"btn-login"],["type","button",1,"btn-registro",3,"click"],["type","button",1,"btn-login",3,"click"],["class","error-mensaje",4,"ngIf"],[1,"error-mensaje"]],template:function(n,r){n&1&&(ne(0,"div",0)(1,"h1",1),me(2,"Sala de Juegos"),X()(),ne(3,"div",2)(4,"button",3),Be("click",function(){return r.irAHome()}),me(5,"M\xE1s Tarde"),X(),ne(6,"h1",4),me(7,"Login"),X(),ne(8,"form",5),Be("ngSubmit",function(){return r.logIn()}),ne(9,"div",6)(10,"label",7),me(11,"Email:"),X(),ne(12,"input",8),Qn("ngModelChange",function(o){return Sr(r.email,o)||(r.email=o),o}),X()(),ne(13,"div",6)(14,"label",9),me(15,"Contrase\xF1a:"),X(),ne(16,"input",10),Qn("ngModelChange",function(o){return Sr(r.contrasenia,o)||(r.contrasenia=o),o}),X()(),ne(17,"div",11)(18,"button",12),me(19,"Login"),X(),ne(20,"button",13),Be("click",function(){return r.irARegistro()}),me(21,"Registrarse"),X(),ne(22,"button",14),Be("click",function(){return r.autoCompletar()}),me(23,"Auto Completar"),X()(),Gn(24,Jj,2,1,"div",15),X()()),n&2&&(je(12),Kn("ngModel",r.email),je(4),Kn("ngModel",r.contrasenia),je(8),wn("ngIf",!r.exito))},dependencies:[ws,lh,Ur,_s,uh,_u,Bi,vu,Ii,Po],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100vh;background-color:#333}.header-title[_ngcontent-%COMP%]{background-color:#000;padding:20px;border-radius:8px;text-align:center;margin-bottom:20px;box-shadow:0 2px 5px #00000080;text-transform:uppercase;color:#1db954}.login-title[_ngcontent-%COMP%]{font-size:28px;margin:0}.login-container[_ngcontent-%COMP%]{background-color:#222;padding:40px;border-radius:10px;text-align:center;box-shadow:0 4px 10px #00000080;font-family:Roboto,sans-serif;width:300px}.login-titulo[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;font-size:24px}.input-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{color:#fff;font-size:14px;display:block;margin-bottom:5px}input[_ngcontent-%COMP%]{width:calc(100% - 20px);padding:10px;border:none;border-radius:5px;font-size:14px;background-color:#444;color:#fff;outline:none;font-family:Roboto,sans-serif}input[_ngcontent-%COMP%]::placeholder{color:#aaa}.button-group[_ngcontent-%COMP%]{margin-top:20px}.btn-login[_ngcontent-%COMP%], .btn-registro[_ngcontent-%COMP%], .btn-autocompletar[_ngcontent-%COMP%], .btn-home[_ngcontent-%COMP%]{width:100%;height:38px;margin-bottom:10px;border:none;border-radius:8px;font-weight:700;font-size:16px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}.btn-login[_ngcontent-%COMP%]{background-color:#1db954;color:#fff}.btn-login[_ngcontent-%COMP%]:hover{background-color:#1ed760;transform:scale(1.05)}.btn-registro[_ngcontent-%COMP%]{background-color:#555;color:#fff}.btn-registro[_ngcontent-%COMP%]:hover{background-color:#666;transform:scale(1.05)}.btn-autocompletar[_ngcontent-%COMP%]{background-color:#777;color:#fff}.btn-autocompletar[_ngcontent-%COMP%]:hover{background-color:#888;transform:scale(1.05)}.error-mensaje[_ngcontent-%COMP%]{color:red;margin-top:10px}.btn-home[_ngcontent-%COMP%]{width:50%;height:38px;background-color:#ff4757;color:#fff;border-radius:8px;font-weight:700;font-size:16px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}.btn-home[_ngcontent-%COMP%]:hover{background-color:#ff6b81;transform:scale(1.05)}"]})};function Xj(t,e){if(t&1&&(ne(0,"div",12),me(1),X()),t&2){let n=Pt();je(),Ar(" ",n.error," ")}}var yh=class t{constructor(e,n,r){this.firebaseService=e;this.firestore=n;this.router=r}email="";contrasenia="";error="";exito=!0;registrarse(){return N(this,null,function*(){try{yield this.firebaseService.registro(this.email,this.contrasenia).then(()=>{let e=Ui(this.firestore,"logins"),n={fecha:new Date,user:this.email};ps(e,n),this.router.navigate(["/home"])})}catch{this.exito=!1,this.error="La direcci\xF3n de correo electr\xF3nico ya est\xE1 en uso."}})}volverALogIn(){this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||t)(Y($r),Y(ln),Y(lt))};static \u0275cmp=qt({type:t,selectors:[["app-registro"]],standalone:!0,features:[Wt],decls:18,vars:3,consts:[[1,"registro-container"],[1,"btn-volver",3,"click"],[1,"registro-titulo"],[3,"ngSubmit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","contrasenia","name","contrasenia","required","",3,"ngModelChange","ngModel"],[1,"button-group"],["type","submit",1,"btn-registro"],["class","error-mensaje",4,"ngIf"],[1,"error-mensaje"]],template:function(n,r){n&1&&(ne(0,"div",0)(1,"button",1),Be("click",function(){return r.volverALogIn()}),me(2,"\u2190"),X(),ne(3,"h1",2),me(4,"Registrarse"),X(),ne(5,"form",3),Be("ngSubmit",function(){return r.registrarse()}),ne(6,"div",4)(7,"label",5),me(8,"Email:"),X(),ne(9,"input",6),Qn("ngModelChange",function(o){return Sr(r.email,o)||(r.email=o),o}),X()(),ne(10,"div",4)(11,"label",7),me(12,"Contrase\xF1a:"),X(),ne(13,"input",8),Qn("ngModelChange",function(o){return Sr(r.contrasenia,o)||(r.contrasenia=o),o}),X()(),ne(14,"div",9)(15,"button",10),me(16,"Registrarse"),X()(),Gn(17,Xj,2,1,"div",11),X()()),n&2&&(je(9),Kn("ngModel",r.email),je(4),Kn("ngModel",r.contrasenia),je(4),wn("ngIf",!r.exito))},dependencies:[ws,lh,Ur,_s,uh,_u,Bi,vu,Ii,Po],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#333}.registro-container[_ngcontent-%COMP%]{background-color:#222;padding:40px;border-radius:10px;text-align:center;box-shadow:0 4px 10px #00000080;font-family:Roboto,sans-serif;width:300px}.registro-titulo[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;font-size:24px}.input-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{color:#fff;font-size:14px;display:block;margin-bottom:5px}input[_ngcontent-%COMP%]{width:calc(100% - 20px);padding:10px;border:none;border-radius:5px;font-size:14px;background-color:#444;color:#fff;outline:none;font-family:Roboto,sans-serif}input[_ngcontent-%COMP%]::placeholder{color:#aaa}.button-group[_ngcontent-%COMP%]{margin-top:20px}.btn-registro[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:8px;font-weight:700;font-size:16px;cursor:pointer;transition:background-color .3s ease,transform .3s ease;background-color:#1db954;color:#fff}.btn-registro[_ngcontent-%COMP%]:hover{background-color:#1ed760;transform:scale(1.05)}.error-mensaje[_ngcontent-%COMP%]{color:red;margin-top:10px}.btn-volver[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;background-color:#ff4757;color:#fff;font-size:20px;font-weight:700;padding:10px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}.btn-volver[_ngcontent-%COMP%]:hover{background-color:#ff6b81;transform:scale(1.05)}"]})};var sA=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:mh},{path:"home",component:fh},{path:"quien-soy",component:gh},{path:"registro",component:yh}];var aA={providers:[UD({eventCoalescing:!0}),s0(sA),h0(()=>ad(dh)),p0(()=>ud()),mT(()=>vT())]};var vh=class t{title="sala-de-juegos";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=qt({type:t,selectors:[["app-root"]],standalone:!0,features:[Wt],decls:1,vars:0,template:function(n,r){n&1&&Wn(0,"router-outlet")},dependencies:[um,d0]})};mC(vh,aA).catch(t=>console.error(t));
